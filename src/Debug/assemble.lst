Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED01-Mar-23     14:26:44     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\assemble.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "fmt_type",19
                           A     9    .DEFINE "status"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "flags"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "size"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 2
                           A    23    .ENDEF
                           A    24    .DEFINE "chr"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 2
                           A    28    .ENDEF
                           A    29    .DEFINE "type"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 2
                           A    33    .ENDEF
                           A    34    .DEFINE "field_width"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 2
                           A    38    .ENDEF
                           A    39    .DEFINE "precision"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 2
                           A    43    .ENDEF
                           A    44    .DEFINE "set_begin"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .TYPE 34
                           A    48    .ENDEF
                           A    49    .DEFINE "set_end"
                           A    50    .VALUE 10
                           A    51    .CLASS 8
                           A    52    .TYPE 34
                           A    53    .ENDEF
                           A    54    .DEFINE "pad_whole"
                           A    55    .VALUE 13
                           A    56    .CLASS 8
                           A    57    .TYPE 12
                           A    58    .ENDEF
                           A    59    .DEFINE "pad_pre_fract"
                           A    60    .VALUE 14
                           A    61    .CLASS 8
                           A    62    .TYPE 12
                           A    63    .ENDEF
                           A    64    .DEFINE "pad_post_fract"
                           A    65    .VALUE 15
                           A    66    .CLASS 8
                           A    67    .TYPE 12
                           A    68    .ENDEF
                           A    69    .DEFINE "pad_at"
                           A    70    .VALUE 16
                           A    71    .CLASS 8
                           A    72    .TYPE 34
                           A    73    .ENDEF
                           A    74    .ENDREC "fmt_type"
                           A    75    .BEGREC "flt_info",12
                           A    76    .DEFINE "flags"
                           A    77    .VALUE 0
                           A    78    .CLASS 8
                           A    79    .TYPE 12
                           A    80    .ENDEF
                           A    81    .DEFINE "exp"
                           A    82    .VALUE 1
                           A    83    .CLASS 8
                           A    84    .TYPE 2
                           A    85    .ENDEF
                           A    86    .DEFINE "digits"
                           A    87    .VALUE 2
                           A    88    .CLASS 8
                           A    89    .DIM 10
                           A    90    .TYPE 108
                           A    91    .ENDEF
                           A    92    .ENDREC "flt_info"
                           A    93    .BEGREC "NONAME0",6
                           A    94    .DEFINE "quot"
                           A    95    .VALUE 0
                           A    96    .CLASS 8
                           A    97    .TYPE 4
                           A    98    .ENDEF
                           A    99    .DEFINE "rem"
                           A   100    .VALUE 3
                           A   101    .CLASS 8
                           A   102    .TYPE 4
                           A   103    .ENDEF
                           A   104    .ENDREC "NONAME0"
                           A   105    .BEGREC "NONAME1",8
                           A   106    .DEFINE "quot"
                           A   107    .VALUE 0
                           A   108    .CLASS 8
                           A   109    .TYPE 5
                           A   110    .ENDEF
                           A   111    .DEFINE "rem"
                           A   112    .VALUE 4
                           A   113    .CLASS 8
                           A   114    .TYPE 5
                           A   115    .ENDEF
                           A   116    .ENDREC "NONAME1"
                           A   117    .BEGREC "header",6
                           A   118    .DEFINE "s"
                           A   119    .VALUE 0
                           A   120    .CLASS 11
                           A   121    .TAG "NONAME2"
                           A   122    .TYPE 8
                           A   123    .ENDEF
                           A   124    .DEFINE "x"
                           A   125    .VALUE 0
                           A   126    .CLASS 11
                           A   127    .TYPE 2
                           A   128    .ENDEF
                           A   129    .ENDREC "header"
                           A   130    .BEGREC "NONAME2",6
                           A   131    .DEFINE "ptr"
                           A   132    .VALUE 0
                           A   133    .CLASS 8
                           A   134    .TAG "header"
                           A   135    .TYPE 40
                           A   136    .ENDEF
                           A   137    .DEFINE "size"
                           A   138    .VALUE 3
                           A   139    .CLASS 8
                           A   140    .TYPE 14
                           A   141    .ENDEF
                           A   142    .ENDREC "NONAME2"
                           A   143    .BEGREC "NONAME3",16
                           A   144    .DEFINE "reg"
                           A   145    .VALUE 0
                           A   146    .CLASS 8
                           A   147    .TYPE 4
                           A   148    .ENDEF
                           A   149    .DEFINE "reg_index"
                           A   150    .VALUE 3
                           A   151    .CLASS 8
                           A   152    .TYPE 12
                           A   153    .ENDEF
                           A   154    .DEFINE "indirect"
                           A   155    .VALUE 4
                           A   156    .CLASS 8
                           A   157    .TYPE 12
                           A   158    .ENDEF
                           A   159    .DEFINE "cc"
                           A   160    .VALUE 5
                           A   161    .CLASS 8
                           A   162    .TYPE 12
                           A   163    .ENDEF
                           A   164    .DEFINE "cc_index"
                           A   165    .VALUE 6
                           A   166    .CLASS 8
                           A   167    .TYPE 12
                           A   168    .ENDEF
                           A   169    .DEFINE "displacement"
                           A   170    .VALUE 7
                           A   171    .CLASS 8
                           A   172    .TYPE 3
                           A   173    .ENDEF
                           A   174    .DEFINE "displacement_provided"
                           A   175    .VALUE 9
                           A   176    .CLASS 8
                           A   177    .TYPE 12
                           A   178    .ENDEF
                           A   179    .DEFINE "immediate_provided"
                           A   180    .VALUE 10
                           A   181    .CLASS 8
                           A   182    .TYPE 12
                           A   183    .ENDEF
                           A   184    .DEFINE "immediate"
                           A   185    .VALUE 11
                           A   186    .CLASS 8
                           A   187    .TYPE 5
                           A   188    .ENDEF
                           A   189    .DEFINE "wasLabel"
                           A   190    .VALUE 15
                           A   191    .CLASS 8
                           A   192    .TYPE 12
                           A   193    .ENDEF
                           A   194    .ENDREC "NONAME3"
                           A   195    .BEGREC "NONAME4",4
                           A   196    .DEFINE "suffix"
                           A   197    .VALUE 0
                           A   198    .CLASS 8
                           A   199    .TYPE 12
                           A   200    .ENDEF
                           A   201    .DEFINE "prefix1"
                           A   202    .VALUE 1
                           A   203    .CLASS 8
                           A   204    .TYPE 12
                           A   205    .ENDEF
                           A   206    .DEFINE "prefix2"
                           A   207    .VALUE 2
                           A   208    .CLASS 8
                           A   209    .TYPE 12
                           A   210    .ENDEF
                           A   211    .DEFINE "opcode"
                           A   212    .VALUE 3
                           A   213    .CLASS 8
                           A   214    .TYPE 12
                           A   215    .ENDEF
                           A   216    .ENDREC "NONAME4"
                           A   217    .BEGREC "NONAME5",16
                           A   218    .DEFINE "operandA"
                           A   219    .VALUE 0
                           A   220    .CLASS 8
                           A   221    .TYPE 4
                           A   222    .ENDEF
                           A   223    .DEFINE "operandB"
                           A   224    .VALUE 3
                           A   225    .CLASS 8
                           A   226    .TYPE 4
                           A   227    .ENDEF
                           A   228    .DEFINE "ddfdpermitted"
                           A   229    .VALUE 6
                           A   230    .CLASS 8
                           A   231    .TYPE 12
                           A   232    .ENDEF
                           A   233    .DEFINE "transformA"
                           A   234    .VALUE 7
                           A   235    .CLASS 8
                           A   236    .TYPE 4
                           A   237    .ENDEF
                           A   238    .DEFINE "transformB"
                           A   239    .VALUE 10
                           A   240    .CLASS 8
                           A   241    .TYPE 4
                           A   242    .ENDEF
                           A   243    .DEFINE "prefix"
                           A   244    .VALUE 13
                           A   245    .CLASS 8
                           A   246    .TYPE 12
                           A   247    .ENDEF
                           A   248    .DEFINE "opcode"
                           A   249    .VALUE 14
                           A   250    .CLASS 8
                           A   251    .TYPE 12
                           A   252    .ENDEF
                           A   253    .DEFINE "adl"
                           A   254    .VALUE 15
                           A   255    .CLASS 8
                           A   256    .TYPE 12
                           A   257    .ENDEF
                           A   258    .ENDREC "NONAME5"
                           A   259    .BEGREC "NONAME6",17
                           A   260    .DEFINE "name"
                           A   261    .VALUE 0
                           A   262    .CLASS 8
                           A   263    .DIM 8
                           A   264    .TYPE 98
                           A   265    .ENDEF
                           A   266    .DEFINE "type"
                           A   267    .VALUE 8
                           A   268    .CLASS 8
                           A   269    .TYPE 12
                           A   270    .ENDEF
                           A   271    .DEFINE "asmtype"
                           A   272    .VALUE 9
                           A   273    .CLASS 8
                           A   274    .TYPE 12
                           A   275    .ENDEF
                           A   276    .DEFINE "listnumber"
                           A   277    .VALUE 10
                           A   278    .CLASS 8
                           A   279    .TYPE 12
                           A   280    .ENDEF
                           A   281    .DEFINE "list"
                           A   282    .VALUE 11
                           A   283    .CLASS 8
                           A   284    .TAG "NONAME5"
                           A   285    .TYPE 40
                           A   286    .ENDEF
                           A   287    .DEFINE "asmargument"
                           A   288    .VALUE 14
                           A   289    .CLASS 8
                           A   290    .TYPE 4
                           A   291    .ENDEF
                           A   292    .ENDREC "NONAME6"
                           A   293    .BEGREC "NONAME7",6
                           A   294    .DEFINE "type"
                           A   295    .VALUE 0
                           A   296    .CLASS 8
                           A   297    .TYPE 4
                           A   298    .ENDEF
                           A   299    .DEFINE "match"
                           A   300    .VALUE 3
                           A   301    .CLASS 8
                           A   302    .TYPE 556
                           A   303    .ENDEF
                           A   304    .ENDREC "NONAME7"
                           A   305    .BEGREC "NONAME8",7
                           A   306    .DEFINE "name"
                           A   307    .VALUE 0
                           A   308    .CLASS 8
                           A   309    .TYPE 34
                           A   310    .ENDEF
                           A   311    .DEFINE "address"
                           A   312    .VALUE 3
                           A   313    .CLASS 8
                           A   314    .TYPE 5
                           A   315    .ENDEF
                           A   316    .ENDREC "NONAME8"
                           A   317    .BEGREC "NONAME9",5
                           A   318    .DEFINE "defined"
                           A   319    .VALUE 0
                           A   320    .CLASS 8
                           A   321    .TYPE 12
                           A   322    .ENDEF
                           A   323    .DEFINE "address"
                           A   324    .VALUE 1
                           A   325    .CLASS 8
                           A   326    .TYPE 5
                           A   327    .ENDEF
                           A   328    .ENDREC "NONAME9"
                           A   329    .BEGREC "NONAME10",264
                           A   330    .DEFINE "current_instruction"
                           A   331    .VALUE 0
                           A   332    .CLASS 8
                           A   333    .TAG "NONAME6"
                           A   334    .TYPE 40
                           A   335    .ENDEF
                           A   336    .DEFINE "next"
                           A   337    .VALUE 3
                           A   338    .CLASS 8
                           A   339    .TYPE 34
                           A   340    .ENDEF
                           A   341    .DEFINE "label"
                           A   342    .VALUE 6
                           A   343    .CLASS 8
                           A   344    .DIM 32
                           A   345    .TYPE 98
                           A   346    .ENDEF
                           A   347    .DEFINE "mnemonic"
                           A   348    .VALUE 38
                           A   349    .CLASS 8
                           A   350    .DIM 16
                           A   351    .TYPE 98
                           A   352    .ENDEF
                           A   353    .DEFINE "suffix"
                           A   354    .VALUE 54
                           A   355    .CLASS 8
                           A   356    .DIM 16
                           A   357    .TYPE 98
                           A   358    .ENDEF
                           A   359    .DEFINE "operand1"
                           A   360    .VALUE 70
                           A   361    .CLASS 8
                           A   362    .DIM 32
                           A   363    .TYPE 98
                           A   364    .ENDEF
                           A   365    .DEFINE "operand2"
                           A   366    .VALUE 102
                           A   367    .CLASS 8
                           A   368    .DIM 32
                           A   369    .TYPE 98
                           A   370    .ENDEF
                           A   371    .DEFINE "comment"
                           A   372    .VALUE 134
                           A   373    .CLASS 8
                           A   374    .DIM 128
                           A   375    .TYPE 98
                           A   376    .ENDEF
                           A   377    .DEFINE "size"
                           A   378    .VALUE 262
                           A   379    .CLASS 8
                           A   380    .TYPE 13
                           A   381    .ENDEF
                           A   382    .ENDREC "NONAME10"
                           A   383    .BEGREC "NONAME11",261
                           A   384    .DEFINE "start"
                           A   385    .VALUE 0
                           A   386    .CLASS 8
                           A   387    .DIM 256
                           A   388    .TYPE 98
                           A   389    .ENDEF
                           A   390    .DEFINE "length"
                           A   391    .VALUE 256
                           A   392    .CLASS 8
                           A   393    .TYPE 12
                           A   394    .ENDEF
                           A   395    .DEFINE "next"
                           A   396    .VALUE 257
                           A   397    .CLASS 8
                           A   398    .TYPE 34
                           A   399    .ENDEF
                           A   400    .DEFINE "terminator"
                           A   401    .VALUE 260
                           A   402    .CLASS 8
                           A   403    .TYPE 2
                           A   404    .ENDEF
                           A   405    .ENDREC "NONAME11"
                           A   406    .BEGREC "NONAME12",131
                           A   407    .DEFINE "linenumber"
                           A   408    .VALUE 0
                           A   409    .CLASS 8
                           A   410    .TYPE 13
                           A   411    .ENDEF
                           A   412    .DEFINE "fp"
                           A   413    .VALUE 2
                           A   414    .CLASS 8
                           A   415    .TYPE 12
                           A   416    .ENDEF
                           A   417    .DEFINE "filename"
                           A   418    .VALUE 3
                           A   419    .CLASS 8
                           A   420    .DIM 128
                           A   421    .TYPE 98
                           A   422    .ENDEF
                           A   423    .ENDREC "NONAME12"
                           A   424    ;    1	#include <stdio.h>
                           A   425    ;    2	#include <string.h>
                           A   426    ;    3	#include <stdlib.h>
                           A   427    ;    4	#include <ctype.h>
                           A   428    ;    5	#include <stdint.h>
                           A   429    ;    6	#include <stdarg.h>
                           A   430    ;    7	#include "assemble.h"
                           A   431    ;    8	#include "globals.h"
                           A   432    ;    9	#include "utils.h"
                           A   433    ;   10	#include "label.h"
                           A   434    ;   11	#include "str2num.h"
                           A   435    ;   12	#include "listing.h"
                           A   436    ;   13	#include "filestack.h"
                           A   437    ;   14	#include "stdint.h"
                           A   438    ;   15	#include "mos-interface.h"
                           A   439    ;   16	
                           A   440    ;   17	void empty_operand(operand *op) {
040DED                     A   441    _empty_operand:
                           A   442    .DEFINE "_empty_operand"
                           A   443    
                           A   444    .VALUE _empty_operand
                           A   445    
                           A   446    .CLASS 2
                           A   447    
                           A   448    .TYPE 65
                           A   449    
                           A   450    .ENDEF
                           A   451    
                           A   452    .BEGFUNC "empty_operand",17,"_empty_operand"
                           A   453    
                           A   454    .LINE 17
                           A   455    
                           A   456    .DEFINE "op"
                           A   457    
                           A   458    .CLASS 65
                           A   459    
                           A   460    .VALUE 6
                           A   461    
                           A   462    .TAG "NONAME3"
                           A   463    
                           A   464    .TYPE 40
                           A   465    
                           A   466    .ENDEF
                           A   467    
040DED DDE5                A   468    	PUSH	IX
040DEF DD210000 00         A   469    	LD	IX,0
040DF4 DD39                A   470    	ADD	IX,SP
                           A   471    ;   18	    op->reg = R_NONE;
                           A   472    .LINE 18
                           A   473    
040DF6 01000000            A   474    	LD	BC,0
040DFA DD3106              A   475    	LD	IY,(IX+%6)
040DFD FD0F00              A   476    	LD	(IY+%0),BC
                           A   477    ;   19	    op->reg_index = 0;
                           A   478    .LINE 19
                           A   479    
040E00 FD360300            A   480    	LD	(IY+%3),%0
                           A   481    ;   20	    op->cc = false;
                           A   482    .LINE 20
                           A   483    
040E04 FD360500            A   484    	LD	(IY+%5),%0
                           A   485    ;   21	    op->cc_index = 0;
                           A   486    .LINE 21
                           A   487    
040E08 FD360600            A   488    	LD	(IY+%6),%0
                           A   489    ;   22	    op->displacement = 0;
                           A   490    .LINE 22
                           A   491    
040E0C FD360700            A   492    	LD	(IY+%7),%0
040E10 FD360800            A   493    	LD	(IY+%8),%0
                           A   494    ;   23	    op->displacement_provided = false;
                           A   495    .LINE 23
                           A   496    
040E14 FD360900            A   497    	LD	(IY+%9),%0
                           A   498    ;   24	    op->immediate = 0;
                           A   499    .LINE 24
                           A   500    
040E18 FD0F0B              A   501    	LD	(IY+%B),BC
040E1B FD360E00            A   502    	LD	(IY+%E),%0
                           A   503    ;   25	    op->immediate_provided = false;
                           A   504    .LINE 25
                           A   505    
040E1F FD360A00            A   506    	LD	(IY+%A),%0
                           A   507    ;   26	    op->wasLabel = false;
                           A   508    .LINE 26
                           A   509    
040E23 FD360F00            A   510    	LD	(IY+%F),%0
                           A   511    ;   27	}
                           A   512    .LINE 27
                           A   513    
040E27 DDF9                A   514    	LD	SP,IX
040E29 DDE1                A   515    	POP	IX
040E2B C9                  A   516    	RET	
                           A   517    
                           A   518    
                           A   519    ;**************************** _empty_operand **
                           A   520    ;Name                         Addr/Register   S
                           A   521    ;op                                    IX+6    
                           A   522    
                           A   523    
                           A   524    ; Stack Frame Size: 9 (bytes)
                           A   525    ;       Spill Code: 0 (instruction)
                           A   526    
                           A   527    
                           A   528    .ENDFUNC "empty_operand",27,"_empty_operand"
                           A   529    ;   28	
                           A   530    ;   29	void advanceLocalLabel(void) {
040E2C                     A   531    _advanceLocalLabel:
                           A   532    .DEFINE "_advanceLocalLabel"
                           A   533    
                           A   534    .VALUE _advanceLocalLabel
                           A   535    
                           A   536    .CLASS 2
                           A   537    
                           A   538    .TYPE 65
                           A   539    
                           A   540    .ENDEF
                           A   541    
                           A   542    .BEGFUNC "advanceLocalLabel",29,"_advanceLocalL
                           A   543    
040E2C DDE5                A   544    	PUSH	IX
040E2E DD210000 00         A   545    	LD	IX,0
040E33 DD39                A   546    	ADD	IX,SP
                           A   547    ;   30	    if(currentline.label[0] == '@') {
                           A   548    .LINE 30
                           A   549    
040E35 3A 2B 97 04         A   550    	LD	A,(_currentline+6)
040E39 47                  A   551    	LD	B,A
040E3A 17ED62              A   552    	SEXT	HL
040E3D 68                  A   553    	LD	L,B
040E3E 01400000            A   554    	LD	BC,64
040E42 B7                  A   555    	OR	A,A
040E43 ED42                A   556    	SBC	HL,BC
040E45 20 18               A   557    	JR	NZ,L_3
                           A   558    ;   31	        if(currentline.label[1] == '@')
                           A   559    .LINE 31
                           A   560    
040E47 21 2B 97 04         A   561    	LD	HL,_currentline+6
040E4B 23                  A   562    	INC	HL
040E4C 7E                  A   563    	LD	A,(HL)
040E4D 47                  A   564    	LD	B,A
040E4E 17ED62              A   565    	SEXT	HL
040E51 68                  A   566    	LD	L,B
040E52 01400000            A   567    	LD	BC,64
040E56 B7                  A   568    	OR	A,A
040E57 ED42                A   569    	SBC	HL,BC
040E59 20 04               A   570    	JR	NZ,L_3
                           A   571    ;   32	            readAnonymousLabel();
                           A   572    .LINE 32
                           A   573    
040E5B CD 08 49 04         A   574    	CALL	_readAnonymousLabel
                           A   575    ;   33	        }
                           A   576    ;   34	    }
                           A   577    ;   35	}
040E5F                     A   578    L_3:
                           A   579    .LINE 35
                           A   580    
040E5F DDF9                A   581    	LD	SP,IX
040E61 DDE1                A   582    	POP	IX
040E63 C9                  A   583    	RET	
                           A   584    
                           A   585    
                           A   586    ;**************************** _advanceLocalLabe
                           A   587    ;Name                         Addr/Register   S
                           A   588    ;_readAnonymousLabel                 IMPORT  --
                           A   589    ;_currentline                        IMPORT    
                           A   590    
                           A   591    
                           A   592    ; Stack Frame Size: 6 (bytes)
                           A   593    ;       Spill Code: 0 (instruction)
                           A   594    
                           A   595    
                           A   596    .ENDFUNC "advanceLocalLabel",35,"_advanceLocalL
                           A   597    ;   36	
                           A   598    ;   37	// Get the ascii value from a single 'x
                           A   599    ;   38	uint8_t getAsciiValue(char *string) {
040E64                     A   600    _getAsciiValue:
                           A   601    .DEFINE "_getAsciiValue"
                           A   602    
                           A   603    .VALUE _getAsciiValue
                           A   604    
                           A   605    .CLASS 2
                           A   606    
                           A   607    .TYPE 76
                           A   608    
                           A   609    .ENDEF
                           A   610    
                           A   611    .BEGFUNC "getAsciiValue",38,"_getAsciiValue"
                           A   612    
                           A   613    .LINE 38
                           A   614    
                           A   615    .DEFINE "string"
                           A   616    
                           A   617    .CLASS 65
                           A   618    
                           A   619    .VALUE 6
                           A   620    
                           A   621    .TYPE 34
                           A   622    
                           A   623    .ENDEF
                           A   624    
                           A   625    .DEFINE "len"
                           A   626    
                           A   627    .CLASS 65
                           A   628    
                           A   629    .VALUE -1
                           A   630    
                           A   631    .TYPE 12
                           A   632    
                           A   633    .ENDEF
                           A   634    
040E64 DDE5                A   635    	PUSH	IX
040E66 DD210000 00         A   636    	LD	IX,0
040E6B DD39                A   637    	ADD	IX,SP
040E6D 3B                  A   638    	DEC	SP
                           A   639    ;   39	    uint8_t len = strlen(string);
                           A   640    .LINE 39
                           A   641    
040E6E DD0706              A   642    	LD	BC,(IX+%6)
040E71 C5                  A   643    	PUSH	BC
040E72 CD 0D 67 04         A   644    	CALL	_strlen
040E76 C1                  A   645    	POP	BC
040E77 DD75FF              A   646    	LD	(IX+%FFFFFFFF),L
                           A   647    ;   40	
                           A   648    ;   41	    if((len == 3) || (len == 4)) {
                           A   649    .LINE 41
                           A   650    
040E7A DD7EFF              A   651    	LD	A,(IX+%FFFFFFFF)
040E7D FE03                A   652    	CP	A,%3
040E7F 28 09               A   653    	JR	Z,L_19
040E81 DD7EFF              A   654    	LD	A,(IX+%FFFFFFFF)
040E84 FE04                A   655    	CP	A,%4
040E86 C2 3E 0F 04         A   656    	JR	NZ,L_20
040E8A                     A   657    L_19:
                           A   658    ;   42	        if(*string == '\'') {
                           A   659    .LINE 42
                           A   660    
040E8A DD2706              A   661    	LD	HL,(IX+%6)
040E8D 7E                  A   662    	LD	A,(HL)
040E8E 47                  A   663    	LD	B,A
040E8F 17ED62              A   664    	SEXT	HL
040E92 68                  A   665    	LD	L,B
040E93 01270000            A   666    	LD	BC,39
040E97 B7                  A   667    	OR	A,A
040E98 ED42                A   668    	SBC	HL,BC
040E9A C2 3E 0F 04         A   669    	JR	NZ,L_20
                           A   670    ;   43	            if((len == 4) && (string[3]
                           A   671    .LINE 43
                           A   672    
040E9E DD7EFF              A   673    	LD	A,(IX+%FFFFFFFF)
040EA1 FE04                A   674    	CP	A,%4
040EA3 20 76               A   675    	JR	NZ,L_17
040EA5 DD3106              A   676    	LD	IY,(IX+%6)
040EA8 ED2303              A   677    	LEA	HL,IY+%3
040EAB 7E                  A   678    	LD	A,(HL)
040EAC 47                  A   679    	LD	B,A
040EAD 17ED62              A   680    	SEXT	HL
040EB0 68                  A   681    	LD	L,B
040EB1 01270000            A   682    	LD	BC,39
040EB5 B7                  A   683    	OR	A,A
040EB6 ED42                A   684    	SBC	HL,BC
040EB8 20 61               A   685    	JR	NZ,L_17
040EBA DD2706              A   686    	LD	HL,(IX+%6)
040EBD 23                  A   687    	INC	HL
040EBE 7E                  A   688    	LD	A,(HL)
040EBF 47                  A   689    	LD	B,A
040EC0 17ED62              A   690    	SEXT	HL
040EC3 68                  A   691    	LD	L,B
040EC4 015C0000            A   692    	LD	BC,92
040EC8 B7                  A   693    	OR	A,A
040EC9 ED42                A   694    	SBC	HL,BC
040ECB 20 4E               A   695    	JR	NZ,L_17
                           A   696    ;   44	                switch(string[2]) {
                           A   697    .LINE 44
                           A   698    
040ECD DD3106              A   699    	LD	IY,(IX+%6)
040ED0 ED2302              A   700    	LEA	HL,IY+%2
040ED3 7E                  A   701    	LD	A,(HL)
040ED4 47                  A   702    	LD	B,A
040ED5 17ED62              A   703    	SEXT	HL
040ED8 68                  A   704    	LD	L,B
040ED9 CD 33 6E 04         A   705    	CALL	__case8D
040EDD E9                  A   706    	JP	(HL)
040EDE                     A   707    L__10:
040EDE 0700                A   708    	DW	7
040EE0 22                  A   709    	DB	34
040EE1 130F04              A   710    	DW24	L_12	
                           A   711    
040EE4 27                  A   712    	DB	39
040EE5 170F04              A   713    	DW24	L_13	
                           A   714    
040EE8 5C                  A   715    	DB	92
040EE9 0F0F04              A   716    	DW24	L_11	
                           A   717    
040EEC 62                  A   718    	DB	98
040EED 0B0F04              A   719    	DW24	L_10	
                           A   720    
040EF0 6E                  A   721    	DB	110
040EF1 FF0E04              A   722    	DW24	L_7	
                           A   723    
040EF4 72                  A   724    	DB	114
040EF5 030F04              A   725    	DW24	L_8	
                           A   726    
040EF8 74                  A   727    	DB	116
040EF9 070F04              A   728    	DW24	L_9	
                           A   729    
040EFC 1B0F04              A   730    	DW24	L_17	
                           A   731    
                           A   732    ;   45	                    case 'n': return '\
040EFF                     A   733    L_7:
                           A   734    .LINE 45
                           A   735    
040EFF 3E0A                A   736    	LD	A,%A
040F01 18 48               A   737    	JR	L_21
                           A   738    ;   46	                    case 'r': return '\
040F03                     A   739    L_8:
                           A   740    .LINE 46
                           A   741    
040F03 3E0D                A   742    	LD	A,%D
040F05 18 44               A   743    	JR	L_21
                           A   744    ;   47	                    case 't': return '\
040F07                     A   745    L_9:
                           A   746    .LINE 47
                           A   747    
040F07 3E09                A   748    	LD	A,%9
040F09 18 40               A   749    	JR	L_21
                           A   750    ;   48	                    case 'b': return '\
040F0B                     A   751    L_10:
                           A   752    .LINE 48
                           A   753    
040F0B 3E08                A   754    	LD	A,%8
040F0D 18 3C               A   755    	JR	L_21
                           A   756    ;   49	                    case '\\': return '
040F0F                     A   757    L_11:
                           A   758    .LINE 49
                           A   759    
040F0F 3E5C                A   760    	LD	A,%5C
040F11 18 38               A   761    	JR	L_21
                           A   762    ;   50	                    case '\"': return '
040F13                     A   763    L_12:
                           A   764    .LINE 50
                           A   765    
040F13 3E22                A   766    	LD	A,%22
040F15 18 34               A   767    	JR	L_21
                           A   768    ;   51	                    case '\'': return '
040F17                     A   769    L_13:
                           A   770    .LINE 51
                           A   771    
040F17 3E27                A   772    	LD	A,%27
040F19 18 30               A   773    	JR	L_21
                           A   774    ;   52	                }
                           A   775    ;   53	            }
040F1B                     A   776    L_17:
                           A   777    .LINE 53
                           A   778    
                           A   779    ;   54	            if((len == 3) && (string[2]
                           A   780    .LINE 54
                           A   781    
040F1B DD7EFF              A   782    	LD	A,(IX+%FFFFFFFF)
040F1E FE03                A   783    	CP	A,%3
040F20 20 1C               A   784    	JR	NZ,L_20
040F22 DD3106              A   785    	LD	IY,(IX+%6)
040F25 ED2302              A   786    	LEA	HL,IY+%2
040F28 7E                  A   787    	LD	A,(HL)
040F29 47                  A   788    	LD	B,A
040F2A 17ED62              A   789    	SEXT	HL
040F2D 68                  A   790    	LD	L,B
040F2E 01270000            A   791    	LD	BC,39
040F32 B7                  A   792    	OR	A,A
040F33 ED42                A   793    	SBC	HL,BC
040F35 20 07               A   794    	JR	NZ,L_20
                           A   795    ;   55	                return string[1];
                           A   796    .LINE 55
                           A   797    
040F37 DD2706              A   798    	LD	HL,(IX+%6)
040F3A 23                  A   799    	INC	HL
040F3B 7E                  A   800    	LD	A,(HL)
040F3C 18 0D               A   801    	JR	L_21
                           A   802    ;   56	            }
                           A   803    ;   57	        }
                           A   804    ;   58	    }
040F3E                     A   805    L_20:
                           A   806    .LINE 58
                           A   807    
                           A   808    ;   59	    error(message[ERROR_ASCIIFORMAT]);
                           A   809    .LINE 59
                           A   810    
040F3E 21 F2 71 04         A   811    	LD	HL,_message+108
040F42 ED07                A   812    	LD	BC,(HL)
040F44 C5                  A   813    	PUSH	BC
040F45 CD A1 58 04         A   814    	CALL	_error
040F49 C1                  A   815    	POP	BC
                           A   816    ;   60	    return 0;
                           A   817    .LINE 60
                           A   818    
040F4A AF                  A   819    	XOR	A,A
                           A   820    ;   61	}
040F4B                     A   821    L_21:
                           A   822    .LINE 61
                           A   823    
040F4B DDF9                A   824    	LD	SP,IX
040F4D DDE1                A   825    	POP	IX
040F4F C9                  A   826    	RET	
                           A   827    
                           A   828    
                           A   829    ;**************************** _getAsciiValue **
                           A   830    ;Name                         Addr/Register   S
                           A   831    ;_message                            IMPORT  un
                           A   832    ;_error                              IMPORT  --
                           A   833    ;_strlen                             IMPORT  --
                           A   834    ;len                                   IX-1    
                           A   835    ;string                                IX+6    
                           A   836    
                           A   837    
                           A   838    ; Stack Frame Size: 10 (bytes)
                           A   839    ;       Spill Code: 0 (instruction)
                           A   840    
                           A   841    
                           A   842    .ENDFUNC "getAsciiValue",61,"_getAsciiValue"
                           A   843    ;   62	
                           A   844    ;   63	// Get the value from a sequence of 0-n
                           A   845    ;   64	// Examples:
                           A   846    ;   65	// labela+5
                           A   847    ;   66	// labelb-1
                           A   848    ;   67	// labela+labelb+offset1-1
                           A   849    ;   68	// The string should not contain any sp
                           A   850    ;   69	int32_t getLabelValue(char *string) {
040F50                     A   851    _getLabelValue:
                           A   852    .DEFINE "_getLabelValue"
                           A   853    
                           A   854    .VALUE _getLabelValue
                           A   855    
                           A   856    .CLASS 2
                           A   857    
                           A   858    .TYPE 69
                           A   859    
                           A   860    .ENDEF
                           A   861    
                           A   862    .BEGFUNC "getLabelValue",69,"_getLabelValue"
                           A   863    
                           A   864    .LINE 69
                           A   865    
                           A   866    .DEFINE "string"
                           A   867    
                           A   868    .CLASS 65
                           A   869    
                           A   870    .VALUE 6
                           A   871    
                           A   872    .TYPE 34
                           A   873    
                           A   874    .ENDEF
                           A   875    
                           A   876    .DEFINE "operator"
                           A   877    
                           A   878    .CLASS 65
                           A   879    
                           A   880    .VALUE -1
                           A   881    
                           A   882    .TYPE 2
                           A   883    
                           A   884    .ENDEF
                           A   885    
                           A   886    .DEFINE "total"
                           A   887    
                           A   888    .CLASS 65
                           A   889    
                           A   890    .VALUE -5
                           A   891    
                           A   892    .TYPE 5
                           A   893    
                           A   894    .ENDEF
                           A   895    
                           A   896    .DEFINE "tmp"
                           A   897    
                           A   898    .CLASS 65
                           A   899    
                           A   900    .VALUE -9
                           A   901    
                           A   902    .TYPE 5
                           A   903    
                           A   904    .ENDEF
                           A   905    
                           A   906    .DEFINE "ptr"
                           A   907    
                           A   908    .CLASS 65
                           A   909    
                           A   910    .VALUE -12
                           A   911    
                           A   912    .TYPE 34
                           A   913    
                           A   914    .ENDEF
                           A   915    
                           A   916    .DEFINE "lbl"
                           A   917    
                           A   918    .CLASS 65
                           A   919    
                           A   920    .VALUE -18
                           A   921    
                           A   922    .TAG "NONAME8"
                           A   923    
                           A   924    .TYPE 40
                           A   925    
                           A   926    .ENDEF
                           A   927    
                           A   928    .DEFINE "token"
                           A   929    
                           A   930    .CLASS 65
                           A   931    
                           A   932    .VALUE -279
                           A   933    
                           A   934    .TAG "NONAME11"
                           A   935    
                           A   936    .TYPE 8
                           A   937    
                           A   938    .ENDEF
                           A   939    
040F50 DDE5                A   940    	PUSH	IX
040F52 DD210000 00         A   941    	LD	IX,0
040F57 DD39                A   942    	ADD	IX,SP
040F59 21E9FEFF            A   943    	LD	HL,-279
040F5D 39                  A   944    	ADD	HL,SP
040F5E F9                  A   945    	LD	SP,HL
                           A   946    ;   70	    int32_t total, tmp;
                           A   947    ;   71	    char operator, *ptr;
                           A   948    ;   72	    label *lbl;
                           A   949    ;   73	    tokentype token;
                           A   950    ;   74	
                           A   951    ;   75	    ptr = string;
                           A   952    .LINE 75
                           A   953    
040F5F DD0706              A   954    	LD	BC,(IX+%6)
040F62 DD0FF4              A   955    	LD	(IX+%FFFFFFF4),BC
                           A   956    ;   76	    total = 0;
                           A   957    .LINE 76
                           A   958    
040F65 01000000            A   959    	LD	BC,0
040F69 AF                  A   960    	XOR	A,A
040F6A DD0FFB              A   961    	LD	(IX+%FFFFFFFB),BC
040F6D DD77FE              A   962    	LD	(IX+%FFFFFFFE),A
                           A   963    ;   77	    operator = '+'; // previous operand
                           A   964    .LINE 77
                           A   965    
040F70 DD36FF2B            A   966    	LD	(IX+%FFFFFFFF),%2B
                           A   967    ;   78	    while(ptr) {
                           A   968    .LINE 78
                           A   969    
040F74 C3 D4 10 04         A   970    	JR	L_42
040F78                     A   971    L_43:
                           A   972    ;   79	        tmp = 0;
                           A   973    .LINE 79
                           A   974    
040F78 01000000            A   975    	LD	BC,0
040F7C AF                  A   976    	XOR	A,A
040F7D DD0FF7              A   977    	LD	(IX+%FFFFFFF7),BC
040F80 DD77FA              A   978    	LD	(IX+%FFFFFFFA),A
                           A   979    ;   80	        getOperatorToken(&token, ptr);
                           A   980    .LINE 80
                           A   981    
040F83 DD07F4              A   982    	LD	BC,(IX+%FFFFFFF4)
040F86 C5                  A   983    	PUSH	BC
040F87 DDE5E1              A   984    	LD	HL,IX
040F8A 01E9FEFF            A   985    	LD	BC,-279
040F8E 09                  A   986    	ADD	HL,BC
040F8F E5C1                A   987    	LD	BC,HL
040F91 C5                  A   988    	PUSH	BC
040F92 CD 0B 5C 04         A   989    	CALL	_getOperatorToken
040F96 C1                  A   990    	POP	BC
040F97 C1                  A   991    	POP	BC
                           A   992    ;   81	        if(notEmpty(token.start)) {
                           A   993    .LINE 81
                           A   994    
040F98 DDE5E1              A   995    	LD	HL,IX
040F9B 01E9FEFF            A   996    	LD	BC,-279
040F9F 09                  A   997    	ADD	HL,BC
040FA0 E5C1                A   998    	LD	BC,HL
040FA2 C5                  A   999    	PUSH	BC
040FA3 CD 87 58 04         A  1000    	CALL	_notEmpty
040FA7 C1                  A  1001    	POP	BC
040FA8 B7                  A  1002    	OR	A,A
040FA9 CA 3B 10 04         A  1003    	JR	Z,L_30
                           A  1004    ;   82	            lbl = findLabel(token.start
                           A  1005    .LINE 82
                           A  1006    
040FAD DDE5E1              A  1007    	LD	HL,IX
040FB0 01E9FEFF            A  1008    	LD	BC,-279
040FB4 09                  A  1009    	ADD	HL,BC
040FB5 E5C1                A  1010    	LD	BC,HL
040FB7 C5                  A  1011    	PUSH	BC
040FB8 CD 83 4D 04         A  1012    	CALL	_findLabel
040FBC C1                  A  1013    	POP	BC
040FBD DD2FEE              A  1014    	LD	(IX+%FFFFFFEE),HL
                           A  1015    ;   83	            if(lbl) tmp = lbl->address;
                           A  1016    .LINE 83
                           A  1017    
040FC0 CD E3 6A 04         A  1018    	CALL	__icmpzero
040FC4 28 11               A  1019    	JR	Z,L_27
040FC6 DD31EE              A  1020    	LD	IY,(IX+%FFFFFFEE)
040FC9 FD0703              A  1021    	LD	BC,(IY+%3)
040FCC FD7E06              A  1022    	LD	A,(IY+%6)
040FCF DD0FF7              A  1023    	LD	(IX+%FFFFFFF7),BC
040FD2 DD77FA              A  1024    	LD	(IX+%FFFFFFFA),A
                           A  1025    ;   84	            else {
                           A  1026    .LINE 84
                           A  1027    
040FD5 18 64               A  1028    	JR	L_30
040FD7                     A  1029    L_27:
                           A  1030    ;   85	                if(token.start[0] == '\
                           A  1031    .LINE 85
                           A  1032    
040FD7 DDE5E1              A  1033    	LD	HL,IX
040FDA 01E9FEFF            A  1034    	LD	BC,-279
040FDE 09                  A  1035    	ADD	HL,BC
040FDF DD2FF1              A  1036    	LD	(IX+%FFFFFFF1),HL
040FE2 7E                  A  1037    	LD	A,(HL)
040FE3 47                  A  1038    	LD	B,A
040FE4 17ED62              A  1039    	SEXT	HL
040FE7 68                  A  1040    	LD	L,B
040FE8 01270000            A  1041    	LD	BC,39
040FEC B7                  A  1042    	OR	A,A
040FED ED42                A  1043    	SBC	HL,BC
040FEF 20 15               A  1044    	JR	NZ,L_25
040FF1 DD07F1              A  1045    	LD	BC,(IX+%FFFFFFF1)
040FF4 C5                  A  1046    	PUSH	BC
040FF5 CD 64 0E 04         A  1047    	CALL	_getAsciiValue
040FF9 C1                  A  1048    	POP	BC
040FFA B7ED62              A  1049    	UEXT	HL
040FFD 6F                  A  1050    	LD	L,A
040FFE DD2FF7              A  1051    	LD	(IX+%FFFFFFF7),HL
041001 DD74FA              A  1052    	LD	(IX+%FFFFFFFA),H
                           A  1053    ;   86	                else {
                           A  1054    .LINE 86
                           A  1055    
041004 18 35               A  1056    	JR	L_30
041006                     A  1057    L_25:
                           A  1058    ;   87	                    tmp = str2num(token
                           A  1059    .LINE 87
                           A  1060    
041006 01000000            A  1061    	LD	BC,0
04100A C5                  A  1062    	PUSH	BC
04100B DD07F1              A  1063    	LD	BC,(IX+%FFFFFFF1)
04100E C5                  A  1064    	PUSH	BC
04100F CD 3E 54 04         A  1065    	CALL	_str2num
041013 C1                  A  1066    	POP	BC
041014 C1                  A  1067    	POP	BC
041015 DD2FF7              A  1068    	LD	(IX+%FFFFFFF7),HL
041018 DD73FA              A  1069    	LD	(IX+%FFFFFFFA),E
                           A  1070    ;   88	                    if(err_str2num && (
                           A  1071    .LINE 88
                           A  1072    
04101B 3A 4F FC 07         A  1073    	LD	A,(_err_str2num)
04101F B7                  A  1074    	OR	A,A
041020 28 19               A  1075    	JR	Z,L_30
041022 01020000            A  1076    	LD	BC,2
041026 2A 17 97 04         A  1077    	LD	HL,(_pass)
04102A B7                  A  1078    	OR	A,A
04102B ED42                A  1079    	SBC	HL,BC
04102D 20 0C               A  1080    	JR	NZ,L_30
04102F 21 92 71 04         A  1081    	LD	HL,_message+12
041033 ED07                A  1082    	LD	BC,(HL)
041035 C5                  A  1083    	PUSH	BC
041036 CD A1 58 04         A  1084    	CALL	_error
04103A C1                  A  1085    	POP	BC
                           A  1086    ;   89	                }
                           A  1087    ;   90	            }
                           A  1088    ;   91	        }
04103B                     A  1089    L_30:
                           A  1090    .LINE 91
                           A  1091    
                           A  1092    ;   92	        if(operator == '!') error(messa
                           A  1093    .LINE 92
                           A  1094    
04103B DD7EFF              A  1095    	LD	A,(IX+%FFFFFFFF)
04103E FE21                A  1096    	CP	A,%21
041040 20 0C               A  1097    	JR	NZ,L_32
041042 21 F8 71 04         A  1098    	LD	HL,_message+114
041046 ED07                A  1099    	LD	BC,(HL)
041048 C5                  A  1100    	PUSH	BC
041049 CD A1 58 04         A  1101    	CALL	_error
04104D C1                  A  1102    	POP	BC
04104E                     A  1103    L_32:
                           A  1104    ;   93	        if(operator == '+') total += tm
                           A  1105    .LINE 93
                           A  1106    
04104E DD7EFF              A  1107    	LD	A,(IX+%FFFFFFFF)
041051 FE2B                A  1108    	CP	A,%2B
041053 20 16               A  1109    	JR	NZ,L_34
041055 DD27FB              A  1110    	LD	HL,(IX+%FFFFFFFB)
041058 DD5EFE              A  1111    	LD	E,(IX+%FFFFFFFE)
04105B DD07F7              A  1112    	LD	BC,(IX+%FFFFFFF7)
04105E DD7EFA              A  1113    	LD	A,(IX+%FFFFFFFA)
041061 CD 0E 64 04         A  1114    	CALL	__ladd
041065 DD2FFB              A  1115    	LD	(IX+%FFFFFFFB),HL
041068 DD73FE              A  1116    	LD	(IX+%FFFFFFFE),E
04106B                     A  1117    L_34:
                           A  1118    ;   94	        if(operator == '-') total -= tm
                           A  1119    .LINE 94
                           A  1120    
04106B DD7EFF              A  1121    	LD	A,(IX+%FFFFFFFF)
04106E FE2D                A  1122    	CP	A,%2D
041070 20 16               A  1123    	JR	NZ,L_36
041072 DD27FB              A  1124    	LD	HL,(IX+%FFFFFFFB)
041075 DD5EFE              A  1125    	LD	E,(IX+%FFFFFFFE)
041078 DD07F7              A  1126    	LD	BC,(IX+%FFFFFFF7)
04107B DD7EFA              A  1127    	LD	A,(IX+%FFFFFFFA)
04107E CD 91 6A 04         A  1128    	CALL	__lsub
041082 DD2FFB              A  1129    	LD	(IX+%FFFFFFFB),HL
041085 DD73FE              A  1130    	LD	(IX+%FFFFFFFE),E
041088                     A  1131    L_36:
                           A  1132    ;   95	        if(operator == '<') total = tot
                           A  1133    .LINE 95
                           A  1134    
041088 DD7EFF              A  1135    	LD	A,(IX+%FFFFFFFF)
04108B FE3C                A  1136    	CP	A,%3C
04108D 20 13               A  1137    	JR	NZ,L_38
04108F DD27F7              A  1138    	LD	HL,(IX+%FFFFFFF7)
041092 DD07FB              A  1139    	LD	BC,(IX+%FFFFFFFB)
041095 DD7EFE              A  1140    	LD	A,(IX+%FFFFFFFE)
041098 CD B1 6E 04         A  1141    	CALL	__lshl
04109C DD0FFB              A  1142    	LD	(IX+%FFFFFFFB),BC
04109F DD77FE              A  1143    	LD	(IX+%FFFFFFFE),A
0410A2                     A  1144    L_38:
                           A  1145    ;   96	        if(operator == '>') total = tot
                           A  1146    .LINE 96
                           A  1147    
0410A2 DD7EFF              A  1148    	LD	A,(IX+%FFFFFFFF)
0410A5 FE3E                A  1149    	CP	A,%3E
0410A7 20 13               A  1150    	JR	NZ,L_39
0410A9 DD27F7              A  1151    	LD	HL,(IX+%FFFFFFF7)
0410AC DD07FB              A  1152    	LD	BC,(IX+%FFFFFFFB)
0410AF DD7EFE              A  1153    	LD	A,(IX+%FFFFFFFE)
0410B2 CD 6F 6A 04         A  1154    	CALL	__lshrs
0410B6 DD0FFB              A  1155    	LD	(IX+%FFFFFFFB),BC
0410B9 DD77FE              A  1156    	LD	(IX+%FFFFFFFE),A
0410BC                     A  1157    L_39:
                           A  1158    ;   97	        operator = token.terminator;
                           A  1159    .LINE 97
                           A  1160    
0410BC DD7EED              A  1161    	LD	A,(IX+%FFFFFFED)
0410BF DD77FF              A  1162    	LD	(IX+%FFFFFFFF),A
                           A  1163    ;   98	
                           A  1164    ;   99	        if(operator) ptr = token.next;
                           A  1165    .LINE 99
                           A  1166    
0410C2 B7                  A  1167    	OR	A,A
0410C3 28 08               A  1168    	JR	Z,L_41
0410C5 DD07EA              A  1169    	LD	BC,(IX+%FFFFFFEA)
0410C8 DD0FF4              A  1170    	LD	(IX+%FFFFFFF4),BC
                           A  1171    ;  100	        else ptr = NULL;
                           A  1172    .LINE 100
                           A  1173    
0410CB 18 07               A  1174    	JR	L_42
0410CD                     A  1175    L_41:
0410CD 01000000            A  1176    	LD	BC,0
0410D1 DD0FF4              A  1177    	LD	(IX+%FFFFFFF4),BC
                           A  1178    ;  101	    }
0410D4                     A  1179    L_42:
                           A  1180    .LINE 101
                           A  1181    
0410D4 DD27F4              A  1182    	LD	HL,(IX+%FFFFFFF4)
0410D7 CD E3 6A 04         A  1183    	CALL	__icmpzero
0410DB C2 78 0F 04         A  1184    	JR	NZ,L_43
                           A  1185    ;  102	    return total;
                           A  1186    .LINE 102
                           A  1187    
0410DF DD27FB              A  1188    	LD	HL,(IX+%FFFFFFFB)
0410E2 DD5EFE              A  1189    	LD	E,(IX+%FFFFFFFE)
                           A  1190    ;  103	}
                           A  1191    .LINE 103
                           A  1192    
0410E5 DDF9                A  1193    	LD	SP,IX
0410E7 DDE1                A  1194    	POP	IX
0410E9 C9                  A  1195    	RET	
                           A  1196    
                           A  1197    
                           A  1198    ;**************************** _getLabelValue **
                           A  1199    ;Name                         Addr/Register   S
                           A  1200    ;_message                            IMPORT  un
                           A  1201    ;_error                              IMPORT  --
                           A  1202    ;_pass                               IMPORT    
                           A  1203    ;_err_str2num                        IMPORT    
                           A  1204    ;_str2num                            IMPORT  --
                           A  1205    ;_findLabel                          IMPORT  --
                           A  1206    ;_notEmpty                           IMPORT  --
                           A  1207    ;_getOperatorToken                   IMPORT  --
                           A  1208    ;token                               IX-279    
                           A  1209    ;lbl                                  IX-18    
                           A  1210    ;G_1                                  IX-15    
                           A  1211    ;ptr                                  IX-12    
                           A  1212    ;tmp                                   IX-9    
                           A  1213    ;total                                 IX-5    
                           A  1214    ;operator                              IX-1    
                           A  1215    ;string                                IX+6    
                           A  1216    
                           A  1217    
                           A  1218    ; Stack Frame Size: 288 (bytes)
                           A  1219    ;       Spill Code: 0 (instruction)
                           A  1220    
                           A  1221    
                           A  1222    .ENDFUNC "getLabelValue",103,"_getLabelValue"
                           A  1223    ;  104	
                           A  1224    ;  105	// parses the given string to the opera
                           A  1225    ;  106	// will destruct parts of the original 
                           A  1226    ;  107	void parse_operand(char *string, operan
0410EA                     A  1227    _parse_operand:
                           A  1228    .DEFINE "_parse_operand"
                           A  1229    
                           A  1230    .VALUE _parse_operand
                           A  1231    
                           A  1232    .CLASS 2
                           A  1233    
                           A  1234    .TYPE 65
                           A  1235    
                           A  1236    .ENDEF
                           A  1237    
                           A  1238    .BEGFUNC "parse_operand",107,"_parse_operand"
                           A  1239    
                           A  1240    .LINE 107
                           A  1241    
                           A  1242    .DEFINE "string"
                           A  1243    
                           A  1244    .CLASS 65
                           A  1245    
                           A  1246    .VALUE 6
                           A  1247    
                           A  1248    .TYPE 34
                           A  1249    
                           A  1250    .ENDEF
                           A  1251    
                           A  1252    .DEFINE "operand"
                           A  1253    
                           A  1254    .CLASS 65
                           A  1255    
                           A  1256    .VALUE 9
                           A  1257    
                           A  1258    .TAG "NONAME3"
                           A  1259    
                           A  1260    .TYPE 40
                           A  1261    
                           A  1262    .ENDEF
                           A  1263    
                           A  1264    .DEFINE "ptr"
                           A  1265    
                           A  1266    .CLASS 65
                           A  1267    
                           A  1268    .VALUE -3
                           A  1269    
                           A  1270    .TYPE 34
                           A  1271    
                           A  1272    .ENDEF
                           A  1273    
                           A  1274    .DEFINE "len"
                           A  1275    
                           A  1276    .CLASS 65
                           A  1277    
                           A  1278    .VALUE -4
                           A  1279    
                           A  1280    .TYPE 12
                           A  1281    
                           A  1282    .ENDEF
                           A  1283    
0410EA DDE5                A  1284    	PUSH	IX
0410EC DD210000 00         A  1285    	LD	IX,0
0410F1 DD39                A  1286    	ADD	IX,SP
0410F3 ED22CC              A  1287    	LEA	HL,IX+%FFFFFFCC
0410F6 F9                  A  1288    	LD	SP,HL
                           A  1289    ;  108	    char *ptr = string;
                           A  1290    .LINE 108
                           A  1291    
0410F7 DD0706              A  1292    	LD	BC,(IX+%6)
0410FA DD0FFD              A  1293    	LD	(IX+%FFFFFFFD),BC
                           A  1294    ;  109	    uint8_t len = strlen(string);
                           A  1295    .LINE 109
                           A  1296    
0410FD DD0706              A  1297    	LD	BC,(IX+%6)
041100 C5                  A  1298    	PUSH	BC
041101 CD 0D 67 04         A  1299    	CALL	_strlen
041105 C1                  A  1300    	POP	BC
041106 DD75FC              A  1301    	LD	(IX+%FFFFFFFC),L
                           A  1302    ;  110	
                           A  1303    ;  111	    // direct or indirect
                           A  1304    ;  112	    if(*ptr == '(') {
                           A  1305    .LINE 112
                           A  1306    
041109 DD2706              A  1307    	LD	HL,(IX+%6)
04110C 7E                  A  1308    	LD	A,(HL)
04110D 47                  A  1309    	LD	B,A
04110E 17ED62              A  1310    	SEXT	HL
041111 68                  A  1311    	LD	L,B
041112 01280000            A  1312    	LD	BC,40
041116 B7                  A  1313    	OR	A,A
041117 ED42                A  1314    	SBC	HL,BC
041119 20 41               A  1315    	JR	NZ,L_51
                           A  1316    ;  113	        operand->indirect = true;
                           A  1317    .LINE 113
                           A  1318    
04111B DD3109              A  1319    	LD	IY,(IX+%9)
04111E FD360401            A  1320    	LD	(IY+%4),%1
                           A  1321    ;  114	        // find closing bracket or erro
                           A  1322    ;  115	        if(string[len-1] == ')') string
                           A  1323    .LINE 115
                           A  1324    
041122 DD7EFC              A  1325    	LD	A,(IX+%FFFFFFFC)
041125 B7ED62              A  1326    	UEXT	HL
041128 6F                  A  1327    	LD	L,A
041129 DD0706              A  1328    	LD	BC,(IX+%6)
04112C 09                  A  1329    	ADD	HL,BC
04112D 2B                  A  1330    	DEC	HL
04112E DD2FF9              A  1331    	LD	(IX+%FFFFFFF9),HL
041131 7E                  A  1332    	LD	A,(HL)
041132 47                  A  1333    	LD	B,A
041133 17ED62              A  1334    	SEXT	HL
041136 68                  A  1335    	LD	L,B
041137 01290000            A  1336    	LD	BC,41
04113B B7                  A  1337    	OR	A,A
04113C ED42                A  1338    	SBC	HL,BC
04113E 20 07               A  1339    	JR	NZ,L_47
041140 DD27F9              A  1340    	LD	HL,(IX+%FFFFFFF9)
041143 3600                A  1341    	LD	(HL),%0
                           A  1342    ;  116	        else error(message[ERROR_CLOSIN
                           A  1343    .LINE 116
                           A  1344    
041145 18 0C               A  1345    	JR	L_48
041147                     A  1346    L_47:
041147 21 8C 71 04         A  1347    	LD	HL,_message+6
04114B ED07                A  1348    	LD	BC,(HL)
04114D C5                  A  1349    	PUSH	BC
04114E CD A1 58 04         A  1350    	CALL	_error
041152 C1                  A  1351    	POP	BC
041153                     A  1352    L_48:
                           A  1353    ;  117	        ptr = &string[1];
                           A  1354    .LINE 117
                           A  1355    
041153 DD0706              A  1356    	LD	BC,(IX+%6)
041156 03                  A  1357    	INC	BC
041157 DD0FFD              A  1358    	LD	(IX+%FFFFFFFD),BC
                           A  1359    ;  118	    }
                           A  1360    ;  119	    else {
                           A  1361    .LINE 119
                           A  1362    
04115A 18 2E               A  1363    	JR	L_171
04115C                     A  1364    L_51:
                           A  1365    ;  120	        operand->indirect = false;
                           A  1366    .LINE 120
                           A  1367    
04115C DD3109              A  1368    	LD	IY,(IX+%9)
04115F FD360400            A  1369    	LD	(IY+%4),%0
                           A  1370    ;  121	        // should not find a closing br
                           A  1371    ;  122	        if(string[len-1] == ')') error(
                           A  1372    .LINE 122
                           A  1373    
041163 DD7EFC              A  1374    	LD	A,(IX+%FFFFFFFC)
041166 B7ED62              A  1375    	UEXT	HL
041169 6F                  A  1376    	LD	L,A
04116A DD0706              A  1377    	LD	BC,(IX+%6)
04116D 09                  A  1378    	ADD	HL,BC
04116E 2B                  A  1379    	DEC	HL
04116F 7E                  A  1380    	LD	A,(HL)
041170 47                  A  1381    	LD	B,A
041171 17ED62              A  1382    	SEXT	HL
041174 68                  A  1383    	LD	L,B
041175 01290000            A  1384    	LD	BC,41
041179 B7                  A  1385    	OR	A,A
04117A ED42                A  1386    	SBC	HL,BC
04117C 20 0C               A  1387    	JR	NZ,L_171
04117E 21 89 71 04         A  1388    	LD	HL,_message+3
041182 ED07                A  1389    	LD	BC,(HL)
041184 C5                  A  1390    	PUSH	BC
041185 CD A1 58 04         A  1391    	CALL	_error
041189 C1                  A  1392    	POP	BC
                           A  1393    ;  123	    }
04118A                     A  1394    L_171:
                           A  1395    .LINE 123
                           A  1396    
                           A  1397    ;  124	
                           A  1398    ;  125	    switch(tolower(*ptr++)) {
                           A  1399    .LINE 125
                           A  1400    
04118A DD07FD              A  1401    	LD	BC,(IX+%FFFFFFFD)
04118D DD0FF6              A  1402    	LD	(IX+%FFFFFFF6),BC
041190 DD07FD              A  1403    	LD	BC,(IX+%FFFFFFFD)
041193 03                  A  1404    	INC	BC
041194 DD0FFD              A  1405    	LD	(IX+%FFFFFFFD),BC
041197 DD27F6              A  1406    	LD	HL,(IX+%FFFFFFF6)
04119A 7E                  A  1407    	LD	A,(HL)
04119B 47                  A  1408    	LD	B,A
04119C 17ED62              A  1409    	SEXT	HL
04119F 68                  A  1410    	LD	L,B
0411A0 E5                  A  1411    	PUSH	HL
0411A1 CD D0 6E 04         A  1412    	CALL	_tolower
0411A5 C1                  A  1413    	POP	BC
0411A6 CD 33 6E 04         A  1414    	CALL	__case8D
0411AA E9                  A  1415    	JP	(HL)
0411AB                     A  1416    L__30:
0411AB 0F00                A  1417    	DW	15
0411AD 00                  A  1418    	DB	0
0411AE C31704              A  1419    	DW24	L_176	
                           A  1420    
0411B1 61                  A  1421    	DB	97
0411B2 EC1104              A  1422    	DW24	L_54	
                           A  1423    
0411B5 62                  A  1424    	DB	98
0411B6 771204              A  1425    	DW24	L_67	
                           A  1426    
0411B9 63                  A  1427    	DB	99
0411BA E61204              A  1428    	DW24	L_75	
                           A  1429    
0411BD 64                  A  1430    	DB	100
0411BE 241304              A  1431    	DW24	L_80	
                           A  1432    
0411C1 65                  A  1433    	DB	101
0411C2 921304              A  1434    	DW24	L_90	
                           A  1435    
0411C5 68                  A  1436    	DB	104
0411C6 C81304              A  1437    	DW24	L_95	
                           A  1438    
0411C9 69                  A  1439    	DB	105
0411CA 371404              A  1440    	DW24	L_103	
                           A  1441    
0411CD 6C                  A  1442    	DB	108
0411CE 3B1604              A  1443    	DW24	L_136	
                           A  1444    
0411D1 6D                  A  1445    	DB	109
0411D2 711604              A  1446    	DW24	L_141	
                           A  1447    
0411D5 6E                  A  1448    	DB	110
0411D6 BB1604              A  1449    	DW24	L_147	
                           A  1450    
0411D9 70                  A  1451    	DB	112
0411DA 071704              A  1452    	DW24	L_153	
                           A  1453    
0411DD 72                  A  1454    	DB	114
0411DE 661704              A  1455    	DW24	L_160	
                           A  1456    
0411E1 73                  A  1457    	DB	115
0411E2 7F1704              A  1458    	DW24	L_163	
                           A  1459    
0411E5 7A                  A  1460    	DB	122
0411E6 AF1704              A  1461    	DW24	L_167	
                           A  1462    
0411E9 C31704              A  1463    	DW24	L_176	
                           A  1464    
                           A  1465    ;  126	        case 0: // empty operand
                           A  1466    ;  127	            break;
                           A  1467    ;  128	        case 'a':
0411EC                     A  1468    L_54:
                           A  1469    .LINE 128
                           A  1470    
                           A  1471    ;  129	            switch(tolower(*ptr++)) {
                           A  1472    .LINE 129
                           A  1473    
0411EC DD07FD              A  1474    	LD	BC,(IX+%FFFFFFFD)
0411EF DD0FF3              A  1475    	LD	(IX+%FFFFFFF3),BC
0411F2 DD07FD              A  1476    	LD	BC,(IX+%FFFFFFFD)
0411F5 03                  A  1477    	INC	BC
0411F6 DD0FFD              A  1478    	LD	(IX+%FFFFFFFD),BC
0411F9 DD27F3              A  1479    	LD	HL,(IX+%FFFFFFF3)
0411FC 7E                  A  1480    	LD	A,(HL)
0411FD 47                  A  1481    	LD	B,A
0411FE 17ED62              A  1482    	SEXT	HL
041201 68                  A  1483    	LD	L,B
041202 E5                  A  1484    	PUSH	HL
041203 CD D0 6E 04         A  1485    	CALL	_tolower
041207 C1                  A  1486    	POP	BC
041208 CD 33 6E 04         A  1487    	CALL	__case8D
04120C E9                  A  1488    	JP	(HL)
04120D                     A  1489    L__31:
04120D 0200                A  1490    	DW	2
04120F 00                  A  1491    	DB	0
041210 1A1204              A  1492    	DW24	L_56	
                           A  1493    
041213 66                  A  1494    	DB	102
041214 2C1204              A  1495    	DW24	L_57	
                           A  1496    
041217 C31704              A  1497    	DW24	L_176	
                           A  1498    
                           A  1499    ;  130	                case 0:
04121A                     A  1500    L_56:
                           A  1501    .LINE 130
                           A  1502    
                           A  1503    ;  131	                    operand->reg = R_A;
                           A  1504    .LINE 131
                           A  1505    
04121A 01010000            A  1506    	LD	BC,1
04121E DD3109              A  1507    	LD	IY,(IX+%9)
041221 FD0F00              A  1508    	LD	(IY+%0),BC
                           A  1509    ;  132	                    operand->reg_index 
                           A  1510    .LINE 132
                           A  1511    
041224 FD360307            A  1512    	LD	(IY+%3),%7
                           A  1513    ;  133	                    return;
                           A  1514    .LINE 133
                           A  1515    
041228 C3 05 18 04         A  1516    	JR	L_177
                           A  1517    ;  134	                case 'f':
04122C                     A  1518    L_57:
                           A  1519    .LINE 134
                           A  1520    
                           A  1521    ;  135	                    switch(tolower(*ptr
                           A  1522    .LINE 135
                           A  1523    
04122C DD07FD              A  1524    	LD	BC,(IX+%FFFFFFFD)
04122F DD0FF0              A  1525    	LD	(IX+%FFFFFFF0),BC
041232 C5E1                A  1526    	LD	HL,BC
041234 7E                  A  1527    	LD	A,(HL)
041235 47                  A  1528    	LD	B,A
041236 17ED62              A  1529    	SEXT	HL
041239 68                  A  1530    	LD	L,B
04123A E5                  A  1531    	PUSH	HL
04123B CD D0 6E 04         A  1532    	CALL	_tolower
04123F C1                  A  1533    	POP	BC
041240 CD 33 6E 04         A  1534    	CALL	__case8D
041244 E9                  A  1535    	JP	(HL)
041245                     A  1536    L__32:
041245 0200                A  1537    	DW	2
041247 00                  A  1538    	DB	0
041248 521204              A  1539    	DW24	L_59	
                           A  1540    
04124B 27                  A  1541    	DB	39
04124C 521204              A  1542    	DW24	L_60	
                           A  1543    
04124F C31704              A  1544    	DW24	L_176	
                           A  1545    
                           A  1546    ;  136	                        case 0:
041252                     A  1547    L_59:
                           A  1548    .LINE 136
                           A  1549    
                           A  1550    ;  137	                        case '\'':
041252                     A  1551    L_60:
                           A  1552    .LINE 137
                           A  1553    
                           A  1554    ;  138	                            operand->re
                           A  1555    .LINE 138
                           A  1556    
041252 010C0000            A  1557    	LD	BC,12
041256 DD3109              A  1558    	LD	IY,(IX+%9)
041259 FD0F00              A  1559    	LD	(IY+%0),BC
                           A  1560    ;  139	                            operand->re
                           A  1561    .LINE 139
                           A  1562    
04125C FD360303            A  1563    	LD	(IY+%3),%3
                           A  1564    ;  140	                            if(operand-
                           A  1565    .LINE 140
                           A  1566    
041260 FD7E04              A  1567    	LD	A,(IY+%4)
041263 B7                  A  1568    	OR	A,A
041264 CA 05 18 04         A  1569    	JR	Z,L_177
041268 ED4B 86 71 04       A  1570    	LD	BC,(_message)
04126D C5                  A  1571    	PUSH	BC
04126E CD A1 58 04         A  1572    	CALL	_error
041272 C1                  A  1573    	POP	BC
                           A  1574    ;  141	                            return;
                           A  1575    .LINE 141
                           A  1576    
041273 C3 05 18 04         A  1577    	JR	L_177
                           A  1578    ;  142	                        default:
                           A  1579    ;  143	                            break;
                           A  1580    ;  144	                    }
                           A  1581    ;  145	                    break;
                           A  1582    ;  146	                default:
                           A  1583    ;  147	                    break;
                           A  1584    ;  148	            }
                           A  1585    ;  149	            break;
                           A  1586    ;  150	        case 'b':
041277                     A  1587    L_67:
                           A  1588    .LINE 150
                           A  1589    
                           A  1590    ;  151	            switch(tolower(*ptr++)) {
                           A  1591    .LINE 151
                           A  1592    
041277 DD07FD              A  1593    	LD	BC,(IX+%FFFFFFFD)
04127A DD0FED              A  1594    	LD	(IX+%FFFFFFED),BC
04127D DD07FD              A  1595    	LD	BC,(IX+%FFFFFFFD)
041280 03                  A  1596    	INC	BC
041281 DD0FFD              A  1597    	LD	(IX+%FFFFFFFD),BC
041284 DD27ED              A  1598    	LD	HL,(IX+%FFFFFFED)
041287 7E                  A  1599    	LD	A,(HL)
041288 47                  A  1600    	LD	B,A
041289 17ED62              A  1601    	SEXT	HL
04128C 68                  A  1602    	LD	L,B
04128D E5                  A  1603    	PUSH	HL
04128E CD D0 6E 04         A  1604    	CALL	_tolower
041292 C1                  A  1605    	POP	BC
041293 CD 33 6E 04         A  1606    	CALL	__case8D
041297 E9                  A  1607    	JP	(HL)
041298                     A  1608    L__34:
041298 0200                A  1609    	DW	2
04129A 00                  A  1610    	DB	0
04129B A51204              A  1611    	DW24	L_69	
                           A  1612    
04129E 63                  A  1613    	DB	99
04129F B71204              A  1614    	DW24	L_70	
                           A  1615    
0412A2 C31704              A  1616    	DW24	L_176	
                           A  1617    
                           A  1618    ;  152	                case 0:
0412A5                     A  1619    L_69:
                           A  1620    .LINE 152
                           A  1621    
                           A  1622    ;  153	                    operand->reg = R_B;
                           A  1623    .LINE 153
                           A  1624    
0412A5 01020000            A  1625    	LD	BC,2
0412A9 DD3109              A  1626    	LD	IY,(IX+%9)
0412AC FD0F00              A  1627    	LD	(IY+%0),BC
                           A  1628    ;  154	                    operand->reg_index 
                           A  1629    .LINE 154
                           A  1630    
0412AF FD360300            A  1631    	LD	(IY+%3),%0
                           A  1632    ;  155	                    return;
                           A  1633    .LINE 155
                           A  1634    
0412B3 C3 05 18 04         A  1635    	JR	L_177
                           A  1636    ;  156	                case 'c':
0412B7                     A  1637    L_70:
                           A  1638    .LINE 156
                           A  1639    
                           A  1640    ;  157	                    if(tolower(*ptr == 
                           A  1641    .LINE 157
                           A  1642    
0412B7 DD27FD              A  1643    	LD	HL,(IX+%FFFFFFFD)
0412BA 7E                  A  1644    	LD	A,(HL)
0412BB B7                  A  1645    	OR	A,A
0412BC 20 04               A  1646    	JR	NZ,L__36
0412BE 3E01                A  1647    	LD	A,%1
0412C0 18 01               A  1648    	JR	L__37
0412C2                     A  1649    L__36:
0412C2 AF                  A  1650    	XOR	A,A
0412C3                     A  1651    L__37:
0412C3 4F                  A  1652    	LD	C,A
0412C4 0600                A  1653    	LD	B,%0
0412C6 C5                  A  1654    	PUSH	BC
0412C7 CD D0 6E 04         A  1655    	CALL	_tolower
0412CB C1                  A  1656    	POP	BC
0412CC CD E3 6A 04         A  1657    	CALL	__icmpzero
0412D0 CA C3 17 04         A  1658    	JR	Z,L_176
                           A  1659    ;  158	                        operand->reg = 
                           A  1660    .LINE 158
                           A  1661    
0412D4 01080000            A  1662    	LD	BC,8
0412D8 DD3109              A  1663    	LD	IY,(IX+%9)
0412DB FD0F00              A  1664    	LD	(IY+%0),BC
                           A  1665    ;  159	                        operand->reg_in
                           A  1666    .LINE 159
                           A  1667    
0412DE FD360300            A  1668    	LD	(IY+%3),%0
                           A  1669    ;  160	                        return;
                           A  1670    .LINE 160
                           A  1671    
0412E2 C3 05 18 04         A  1672    	JR	L_177
                           A  1673    ;  161	                    }
                           A  1674    .LINE 161
                           A  1675    
                           A  1676    ;  162	                    break;
                           A  1677    .LINE 162
                           A  1678    
                           A  1679    ;  163	                default:
                           A  1680    ;  164	                    break;
                           A  1681    ;  165	            }
                           A  1682    ;  166	            break;
                           A  1683    ;  167	        case 'c':
0412E6                     A  1684    L_75:
                           A  1685    .LINE 167
                           A  1686    
                           A  1687    ;  168	            switch(tolower(*ptr++)) {
                           A  1688    .LINE 168
                           A  1689    
0412E6 DD07FD              A  1690    	LD	BC,(IX+%FFFFFFFD)
0412E9 DD0FEA              A  1691    	LD	(IX+%FFFFFFEA),BC
0412EC DD07FD              A  1692    	LD	BC,(IX+%FFFFFFFD)
0412EF 03                  A  1693    	INC	BC
0412F0 DD0FFD              A  1694    	LD	(IX+%FFFFFFFD),BC
0412F3 DD27EA              A  1695    	LD	HL,(IX+%FFFFFFEA)
0412F6 7E                  A  1696    	LD	A,(HL)
0412F7 47                  A  1697    	LD	B,A
0412F8 17ED62              A  1698    	SEXT	HL
0412FB 68                  A  1699    	LD	L,B
0412FC E5                  A  1700    	PUSH	HL
0412FD CD D0 6E 04         A  1701    	CALL	_tolower
041301 C1                  A  1702    	POP	BC
041302 CD E3 6A 04         A  1703    	CALL	__icmpzero
041306 C2 C3 17 04         A  1704    	JR	NZ,L_176
                           A  1705    ;  169	                case 0:
                           A  1706    .LINE 169
                           A  1707    
                           A  1708    ;  170	                    operand->reg = R_C;
                           A  1709    .LINE 170
                           A  1710    
04130A 01030000            A  1711    	LD	BC,3
04130E DD3109              A  1712    	LD	IY,(IX+%9)
041311 FD0F00              A  1713    	LD	(IY+%0),BC
                           A  1714    ;  171	                    operand->reg_index 
                           A  1715    .LINE 171
                           A  1716    
041314 FD360301            A  1717    	LD	(IY+%3),%1
                           A  1718    ;  172	                    operand->cc = true;
                           A  1719    .LINE 172
                           A  1720    
041318 FD360501            A  1721    	LD	(IY+%5),%1
                           A  1722    ;  173	                    operand->cc_index =
                           A  1723    .LINE 173
                           A  1724    
04131C FD360603            A  1725    	LD	(IY+%6),%3
                           A  1726    ;  174	                    return;
                           A  1727    .LINE 174
                           A  1728    
041320 C3 05 18 04         A  1729    	JR	L_177
                           A  1730    ;  175	                default:
                           A  1731    ;  176	                    break;
                           A  1732    ;  177	            }
                           A  1733    ;  178	            break;
                           A  1734    ;  179	        case 'd':
041324                     A  1735    L_80:
                           A  1736    .LINE 179
                           A  1737    
                           A  1738    ;  180	            switch(tolower(*ptr++)) {
                           A  1739    .LINE 180
                           A  1740    
041324 DD07FD              A  1741    	LD	BC,(IX+%FFFFFFFD)
041327 DD0FE7              A  1742    	LD	(IX+%FFFFFFE7),BC
04132A DD07FD              A  1743    	LD	BC,(IX+%FFFFFFFD)
04132D 03                  A  1744    	INC	BC
04132E DD0FFD              A  1745    	LD	(IX+%FFFFFFFD),BC
041331 DD27E7              A  1746    	LD	HL,(IX+%FFFFFFE7)
041334 7E                  A  1747    	LD	A,(HL)
041335 47                  A  1748    	LD	B,A
041336 17ED62              A  1749    	SEXT	HL
041339 68                  A  1750    	LD	L,B
04133A E5                  A  1751    	PUSH	HL
04133B CD D0 6E 04         A  1752    	CALL	_tolower
04133F C1                  A  1753    	POP	BC
041340 CD 33 6E 04         A  1754    	CALL	__case8D
041344 E9                  A  1755    	JP	(HL)
041345                     A  1756    L__39:
041345 0200                A  1757    	DW	2
041347 00                  A  1758    	DB	0
041348 521304              A  1759    	DW24	L_82	
                           A  1760    
04134B 65                  A  1761    	DB	101
04134C 641304              A  1762    	DW24	L_83	
                           A  1763    
04134F C31704              A  1764    	DW24	L_176	
                           A  1765    
                           A  1766    ;  181	                case 0:
041352                     A  1767    L_82:
                           A  1768    .LINE 181
                           A  1769    
                           A  1770    ;  182	                    operand->reg = R_D;
                           A  1771    .LINE 182
                           A  1772    
041352 01040000            A  1773    	LD	BC,4
041356 DD3109              A  1774    	LD	IY,(IX+%9)
041359 FD0F00              A  1775    	LD	(IY+%0),BC
                           A  1776    ;  183	                    operand->reg_index 
                           A  1777    .LINE 183
                           A  1778    
04135C FD360302            A  1779    	LD	(IY+%3),%2
                           A  1780    ;  184	                    return;
                           A  1781    .LINE 184
                           A  1782    
041360 C3 05 18 04         A  1783    	JR	L_177
                           A  1784    ;  185	                case 'e':
041364                     A  1785    L_83:
                           A  1786    .LINE 185
                           A  1787    
                           A  1788    ;  186	                    switch(tolower(*ptr
                           A  1789    .LINE 186
                           A  1790    
041364 DD07FD              A  1791    	LD	BC,(IX+%FFFFFFFD)
041367 DD0FE4              A  1792    	LD	(IX+%FFFFFFE4),BC
04136A C5E1                A  1793    	LD	HL,BC
04136C 7E                  A  1794    	LD	A,(HL)
04136D 47                  A  1795    	LD	B,A
04136E 17ED62              A  1796    	SEXT	HL
041371 68                  A  1797    	LD	L,B
041372 E5                  A  1798    	PUSH	HL
041373 CD D0 6E 04         A  1799    	CALL	_tolower
041377 C1                  A  1800    	POP	BC
041378 CD E3 6A 04         A  1801    	CALL	__icmpzero
04137C C2 C3 17 04         A  1802    	JR	NZ,L_176
                           A  1803    ;  187	                        case 0:
                           A  1804    .LINE 187
                           A  1805    
                           A  1806    ;  188	                            operand->re
                           A  1807    .LINE 188
                           A  1808    
041380 01090000            A  1809    	LD	BC,9
041384 DD3109              A  1810    	LD	IY,(IX+%9)
041387 FD0F00              A  1811    	LD	(IY+%0),BC
                           A  1812    ;  189	                            operand->re
                           A  1813    .LINE 189
                           A  1814    
04138A FD360301            A  1815    	LD	(IY+%3),%1
                           A  1816    ;  190	                            return;
                           A  1817    .LINE 190
                           A  1818    
04138E C3 05 18 04         A  1819    	JR	L_177
                           A  1820    ;  191	                        default:
                           A  1821    ;  192	                            break;
                           A  1822    ;  193	                    }
                           A  1823    ;  194	                    break;
                           A  1824    ;  195	                default:
                           A  1825    ;  196	                    break;
                           A  1826    ;  197	            }
                           A  1827    ;  198	            break;
                           A  1828    ;  199	        case 'e':
041392                     A  1829    L_90:
                           A  1830    .LINE 199
                           A  1831    
                           A  1832    ;  200	            switch(tolower(*ptr++)) {
                           A  1833    .LINE 200
                           A  1834    
041392 DD07FD              A  1835    	LD	BC,(IX+%FFFFFFFD)
041395 DD0FE1              A  1836    	LD	(IX+%FFFFFFE1),BC
041398 DD07FD              A  1837    	LD	BC,(IX+%FFFFFFFD)
04139B 03                  A  1838    	INC	BC
04139C DD0FFD              A  1839    	LD	(IX+%FFFFFFFD),BC
04139F DD27E1              A  1840    	LD	HL,(IX+%FFFFFFE1)
0413A2 7E                  A  1841    	LD	A,(HL)
0413A3 47                  A  1842    	LD	B,A
0413A4 17ED62              A  1843    	SEXT	HL
0413A7 68                  A  1844    	LD	L,B
0413A8 E5                  A  1845    	PUSH	HL
0413A9 CD D0 6E 04         A  1846    	CALL	_tolower
0413AD C1                  A  1847    	POP	BC
0413AE CD E3 6A 04         A  1848    	CALL	__icmpzero
0413B2 C2 C3 17 04         A  1849    	JR	NZ,L_176
                           A  1850    ;  201	                case 0:
                           A  1851    .LINE 201
                           A  1852    
                           A  1853    ;  202	                    operand->reg = R_E;
                           A  1854    .LINE 202
                           A  1855    
0413B6 01050000            A  1856    	LD	BC,5
0413BA DD3109              A  1857    	LD	IY,(IX+%9)
0413BD FD0F00              A  1858    	LD	(IY+%0),BC
                           A  1859    ;  203	                    operand->reg_index 
                           A  1860    .LINE 203
                           A  1861    
0413C0 FD360303            A  1862    	LD	(IY+%3),%3
                           A  1863    ;  204	                    return;
                           A  1864    .LINE 204
                           A  1865    
0413C4 C3 05 18 04         A  1866    	JR	L_177
                           A  1867    ;  205	                default:
                           A  1868    ;  206	                    break;
                           A  1869    ;  207	            }
                           A  1870    ;  208	            break;
                           A  1871    ;  209	        case 'h':
0413C8                     A  1872    L_95:
                           A  1873    .LINE 209
                           A  1874    
                           A  1875    ;  210	            switch(tolower(*ptr++)) {
                           A  1876    .LINE 210
                           A  1877    
0413C8 DD07FD              A  1878    	LD	BC,(IX+%FFFFFFFD)
0413CB DD0FDE              A  1879    	LD	(IX+%FFFFFFDE),BC
0413CE DD07FD              A  1880    	LD	BC,(IX+%FFFFFFFD)
0413D1 03                  A  1881    	INC	BC
0413D2 DD0FFD              A  1882    	LD	(IX+%FFFFFFFD),BC
0413D5 DD27DE              A  1883    	LD	HL,(IX+%FFFFFFDE)
0413D8 7E                  A  1884    	LD	A,(HL)
0413D9 47                  A  1885    	LD	B,A
0413DA 17ED62              A  1886    	SEXT	HL
0413DD 68                  A  1887    	LD	L,B
0413DE E5                  A  1888    	PUSH	HL
0413DF CD D0 6E 04         A  1889    	CALL	_tolower
0413E3 C1                  A  1890    	POP	BC
0413E4 CD 33 6E 04         A  1891    	CALL	__case8D
0413E8 E9                  A  1892    	JP	(HL)
0413E9                     A  1893    L__40:
0413E9 0200                A  1894    	DW	2
0413EB 00                  A  1895    	DB	0
0413EC F61304              A  1896    	DW24	L_97	
                           A  1897    
0413EF 6C                  A  1898    	DB	108
0413F0 081404              A  1899    	DW24	L_98	
                           A  1900    
0413F3 C31704              A  1901    	DW24	L_176	
                           A  1902    
                           A  1903    ;  211	                case 0:
0413F6                     A  1904    L_97:
                           A  1905    .LINE 211
                           A  1906    
                           A  1907    ;  212	                    operand->reg = R_H;
                           A  1908    .LINE 212
                           A  1909    
0413F6 01060000            A  1910    	LD	BC,6
0413FA DD3109              A  1911    	LD	IY,(IX+%9)
0413FD FD0F00              A  1912    	LD	(IY+%0),BC
                           A  1913    ;  213	                    operand->reg_index 
                           A  1914    .LINE 213
                           A  1915    
041400 FD360304            A  1916    	LD	(IY+%3),%4
                           A  1917    ;  214	                    return;
                           A  1918    .LINE 214
                           A  1919    
041404 C3 05 18 04         A  1920    	JR	L_177
                           A  1921    ;  215	                case 'l':
041408                     A  1922    L_98:
                           A  1923    .LINE 215
                           A  1924    
                           A  1925    ;  216	                    if(tolower(*ptr == 
                           A  1926    .LINE 216
                           A  1927    
041408 DD27FD              A  1928    	LD	HL,(IX+%FFFFFFFD)
04140B 7E                  A  1929    	LD	A,(HL)
04140C B7                  A  1930    	OR	A,A
04140D 20 04               A  1931    	JR	NZ,L__42
04140F 3E01                A  1932    	LD	A,%1
041411 18 01               A  1933    	JR	L__43
041413                     A  1934    L__42:
041413 AF                  A  1935    	XOR	A,A
041414                     A  1936    L__43:
041414 4F                  A  1937    	LD	C,A
041415 0600                A  1938    	LD	B,%0
041417 C5                  A  1939    	PUSH	BC
041418 CD D0 6E 04         A  1940    	CALL	_tolower
04141C C1                  A  1941    	POP	BC
04141D CD E3 6A 04         A  1942    	CALL	__icmpzero
041421 CA C3 17 04         A  1943    	JR	Z,L_176
                           A  1944    ;  217	                        operand->reg = 
                           A  1945    .LINE 217
                           A  1946    
041425 010A0000            A  1947    	LD	BC,10
041429 DD3109              A  1948    	LD	IY,(IX+%9)
04142C FD0F00              A  1949    	LD	(IY+%0),BC
                           A  1950    ;  218	                        operand->reg_in
                           A  1951    .LINE 218
                           A  1952    
04142F FD360302            A  1953    	LD	(IY+%3),%2
                           A  1954    ;  219	                        return;
                           A  1955    .LINE 219
                           A  1956    
041433 C3 05 18 04         A  1957    	JR	L_177
                           A  1958    ;  220	                    }
                           A  1959    .LINE 220
                           A  1960    
                           A  1961    ;  221	                    break;
                           A  1962    .LINE 221
                           A  1963    
                           A  1964    ;  222	                default:
                           A  1965    ;  223	                    break;
                           A  1966    ;  224	            }
                           A  1967    ;  225	            break;
                           A  1968    ;  226	        case 'i':
041437                     A  1969    L_103:
                           A  1970    .LINE 226
                           A  1971    
                           A  1972    ;  227	            switch(tolower(*ptr++)) {
                           A  1973    .LINE 227
                           A  1974    
041437 DD07FD              A  1975    	LD	BC,(IX+%FFFFFFFD)
04143A DD0FDB              A  1976    	LD	(IX+%FFFFFFDB),BC
04143D DD07FD              A  1977    	LD	BC,(IX+%FFFFFFFD)
041440 03                  A  1978    	INC	BC
041441 DD0FFD              A  1979    	LD	(IX+%FFFFFFFD),BC
041444 DD27DB              A  1980    	LD	HL,(IX+%FFFFFFDB)
041447 7E                  A  1981    	LD	A,(HL)
041448 47                  A  1982    	LD	B,A
041449 17ED62              A  1983    	SEXT	HL
04144C 68                  A  1984    	LD	L,B
04144D E5                  A  1985    	PUSH	HL
04144E CD D0 6E 04         A  1986    	CALL	_tolower
041452 C1                  A  1987    	POP	BC
041453 CD 33 6E 04         A  1988    	CALL	__case8D
041457 E9                  A  1989    	JP	(HL)
041458                     A  1990    L__45:
041458 0300                A  1991    	DW	3
04145A 00                  A  1992    	DB	0
04145B 691404              A  1993    	DW24	L_105	
                           A  1994    
04145E 78                  A  1995    	DB	120
04145F 7B1404              A  1996    	DW24	L_106	
                           A  1997    
041462 79                  A  1998    	DB	121
041463 5B1504              A  1999    	DW24	L_120	
                           A  2000    
041466 C31704              A  2001    	DW24	L_176	
                           A  2002    
                           A  2003    ;  228	                case 0:
041469                     A  2004    L_105:
                           A  2005    .LINE 228
                           A  2006    
                           A  2007    ;  229	                    operand->reg = R_I;
                           A  2008    .LINE 229
                           A  2009    
041469 01150000            A  2010    	LD	BC,21
04146D DD3109              A  2011    	LD	IY,(IX+%9)
041470 FD0F00              A  2012    	LD	(IY+%0),BC
                           A  2013    ;  230	                    operand->reg_index 
                           A  2014    .LINE 230
                           A  2015    
041473 FD360300            A  2016    	LD	(IY+%3),%0
                           A  2017    ;  231	                    return;
                           A  2018    .LINE 231
                           A  2019    
041477 C3 05 18 04         A  2020    	JR	L_177
                           A  2021    ;  232	                case 'x':
04147B                     A  2022    L_106:
                           A  2023    .LINE 232
                           A  2024    
                           A  2025    ;  233	                    switch(tolower(*ptr
                           A  2026    .LINE 233
                           A  2027    
04147B DD07FD              A  2028    	LD	BC,(IX+%FFFFFFFD)
04147E DD0FD8              A  2029    	LD	(IX+%FFFFFFD8),BC
041481 DD07FD              A  2030    	LD	BC,(IX+%FFFFFFFD)
041484 03                  A  2031    	INC	BC
041485 DD0FFD              A  2032    	LD	(IX+%FFFFFFFD),BC
041488 DD27D8              A  2033    	LD	HL,(IX+%FFFFFFD8)
04148B 7E                  A  2034    	LD	A,(HL)
04148C 47                  A  2035    	LD	B,A
04148D 17ED62              A  2036    	SEXT	HL
041490 68                  A  2037    	LD	L,B
041491 E5                  A  2038    	PUSH	HL
041492 CD D0 6E 04         A  2039    	CALL	_tolower
041496 C1                  A  2040    	POP	BC
041497 CD 33 6E 04         A  2041    	CALL	__case8D
04149B E9                  A  2042    	JP	(HL)
04149C                     A  2043    L__46:
04149C 0500                A  2044    	DW	5
04149E 00                  A  2045    	DB	0
04149F B51404              A  2046    	DW24	L_108	
                           A  2047    
0414A2 2B                  A  2048    	DB	43
0414A3 E31404              A  2049    	DW24	L_111	
                           A  2050    
0414A6 2D                  A  2051    	DB	45
0414A7 E31404              A  2052    	DW24	L_112	
                           A  2053    
0414AA 68                  A  2054    	DB	104
0414AB C71404              A  2055    	DW24	L_109	
                           A  2056    
0414AE 6C                  A  2057    	DB	108
0414AF D51404              A  2058    	DW24	L_110	
                           A  2059    
0414B2 C31704              A  2060    	DW24	L_176	
                           A  2061    
                           A  2062    ;  234	                        case 0:
0414B5                     A  2063    L_108:
                           A  2064    .LINE 234
                           A  2065    
                           A  2066    ;  235	                            operand->re
                           A  2067    .LINE 235
                           A  2068    
0414B5 010D0000            A  2069    	LD	BC,13
0414B9 DD3109              A  2070    	LD	IY,(IX+%9)
0414BC FD0F00              A  2071    	LD	(IY+%0),BC
                           A  2072    ;  236	                            operand->re
                           A  2073    .LINE 236
                           A  2074    
0414BF FD360302            A  2075    	LD	(IY+%3),%2
                           A  2076    ;  237	                            return;
                           A  2077    .LINE 237
                           A  2078    
0414C3 C3 05 18 04         A  2079    	JR	L_177
                           A  2080    ;  238	                        case 'h':
0414C7                     A  2081    L_109:
                           A  2082    .LINE 238
                           A  2083    
                           A  2084    ;  239	                            operand->re
                           A  2085    .LINE 239
                           A  2086    
0414C7 010F0000            A  2087    	LD	BC,15
0414CB DD3109              A  2088    	LD	IY,(IX+%9)
0414CE FD0F00              A  2089    	LD	(IY+%0),BC
                           A  2090    ;  240	                            return;
                           A  2091    .LINE 240
                           A  2092    
0414D1 C3 05 18 04         A  2093    	JR	L_177
                           A  2094    ;  241	                        case 'l':
0414D5                     A  2095    L_110:
                           A  2096    .LINE 241
                           A  2097    
                           A  2098    ;  242	                            operand->re
                           A  2099    .LINE 242
                           A  2100    
0414D5 01100000            A  2101    	LD	BC,16
0414D9 DD3109              A  2102    	LD	IY,(IX+%9)
0414DC FD0F00              A  2103    	LD	(IY+%0),BC
                           A  2104    ;  243	                            return;
                           A  2105    .LINE 243
                           A  2106    
0414DF C3 05 18 04         A  2107    	JR	L_177
                           A  2108    ;  244	                        case '+':
0414E3                     A  2109    L_111:
                           A  2110    .LINE 244
                           A  2111    
                           A  2112    ;  245	                        case '-':
0414E3                     A  2113    L_112:
                           A  2114    .LINE 245
                           A  2115    
                           A  2116    ;  246	                            if(isdigit(
                           A  2117    .LINE 246
                           A  2118    
0414E3 DD27FD              A  2119    	LD	HL,(IX+%FFFFFFFD)
0414E6 7E                  A  2120    	LD	A,(HL)
0414E7 47                  A  2121    	LD	B,A
0414E8 17ED62              A  2122    	SEXT	HL
0414EB 68                  A  2123    	LD	L,B
0414EC E5                  A  2124    	PUSH	HL
0414ED CD EF 6A 04         A  2125    	CALL	_isdigit
0414F1 C1                  A  2126    	POP	BC
0414F2 CD E3 6A 04         A  2127    	CALL	__icmpzero
0414F6 CA C3 17 04         A  2128    	JR	Z,L_176
                           A  2129    ;  247	                                operand
                           A  2130    .LINE 247
                           A  2131    
0414FA 010D0000            A  2132    	LD	BC,13
0414FE DD3109              A  2133    	LD	IY,(IX+%9)
041501 FD0F00              A  2134    	LD	(IY+%0),BC
                           A  2135    ;  248	                                operand
                           A  2136    .LINE 248
                           A  2137    
041504 FD360901            A  2138    	LD	(IY+%9),%1
                           A  2139    ;  249	                                if(*(pt
                           A  2140    .LINE 249
                           A  2141    
041508 DD27FD              A  2142    	LD	HL,(IX+%FFFFFFFD)
04150B 2B                  A  2143    	DEC	HL
04150C 7E                  A  2144    	LD	A,(HL)
04150D 47                  A  2145    	LD	B,A
04150E 17ED62              A  2146    	SEXT	HL
041511 68                  A  2147    	LD	L,B
041512 012D0000            A  2148    	LD	BC,45
041516 B7                  A  2149    	OR	A,A
041517 ED42                A  2150    	SBC	HL,BC
041519 20 22               A  2151    	JR	NZ,L_114
04151B 01010000            A  2152    	LD	BC,1
04151F C5                  A  2153    	PUSH	BC
041520 DD07FD              A  2154    	LD	BC,(IX+%FFFFFFFD)
041523 C5                  A  2155    	PUSH	BC
041524 CD 3E 54 04         A  2156    	CALL	_str2num
041528 C1                  A  2157    	POP	BC
041529 C1                  A  2158    	POP	BC
04152A CD 14 64 04         A  2159    	CALL	__sneg
04152E DD3109              A  2160    	LD	IY,(IX+%9)
041531 E5C1                A  2161    	LD	BC,HL
041533 FD7107              A  2162    	LD	(IY+%7),C
041536 FD7008              A  2163    	LD	(IY+%8),B
                           A  2164    ;  250	                                else op
                           A  2165    .LINE 250
                           A  2166    
041539 C3 05 18 04         A  2167    	JR	L_177
04153D                     A  2168    L_114:
04153D 01010000            A  2169    	LD	BC,1
041541 C5                  A  2170    	PUSH	BC
041542 DD07FD              A  2171    	LD	BC,(IX+%FFFFFFFD)
041545 C5                  A  2172    	PUSH	BC
041546 CD 3E 54 04         A  2173    	CALL	_str2num
04154A C1                  A  2174    	POP	BC
04154B C1                  A  2175    	POP	BC
04154C DD3109              A  2176    	LD	IY,(IX+%9)
04154F E5C1                A  2177    	LD	BC,HL
041551 FD7107              A  2178    	LD	(IY+%7),C
041554 FD7008              A  2179    	LD	(IY+%8),B
                           A  2180    ;  251	                                return;
                           A  2181    .LINE 251
                           A  2182    
041557 C3 05 18 04         A  2183    	JR	L_177
                           A  2184    ;  252	                            }
                           A  2185    .LINE 252
                           A  2186    
                           A  2187    ;  253	                            break;
                           A  2188    .LINE 253
                           A  2189    
                           A  2190    ;  254	                        default:
                           A  2191    ;  255	                            break;
                           A  2192    ;  256	                    }
                           A  2193    ;  257	                    break;
                           A  2194    ;  258	                case 'y':
04155B                     A  2195    L_120:
                           A  2196    .LINE 258
                           A  2197    
                           A  2198    ;  259	                    switch(tolower(*ptr
                           A  2199    .LINE 259
                           A  2200    
04155B DD07FD              A  2201    	LD	BC,(IX+%FFFFFFFD)
04155E DD0FD5              A  2202    	LD	(IX+%FFFFFFD5),BC
041561 DD07FD              A  2203    	LD	BC,(IX+%FFFFFFFD)
041564 03                  A  2204    	INC	BC
041565 DD0FFD              A  2205    	LD	(IX+%FFFFFFFD),BC
041568 DD27D5              A  2206    	LD	HL,(IX+%FFFFFFD5)
04156B 7E                  A  2207    	LD	A,(HL)
04156C 47                  A  2208    	LD	B,A
04156D 17ED62              A  2209    	SEXT	HL
041570 68                  A  2210    	LD	L,B
041571 E5                  A  2211    	PUSH	HL
041572 CD D0 6E 04         A  2212    	CALL	_tolower
041576 C1                  A  2213    	POP	BC
041577 CD 33 6E 04         A  2214    	CALL	__case8D
04157B E9                  A  2215    	JP	(HL)
04157C                     A  2216    L__49:
04157C 0500                A  2217    	DW	5
04157E 00                  A  2218    	DB	0
04157F 951504              A  2219    	DW24	L_122	
                           A  2220    
041582 2B                  A  2221    	DB	43
041583 C31504              A  2222    	DW24	L_125	
                           A  2223    
041586 2D                  A  2224    	DB	45
041587 C31504              A  2225    	DW24	L_126	
                           A  2226    
04158A 68                  A  2227    	DB	104
04158B A71504              A  2228    	DW24	L_123	
                           A  2229    
04158E 6C                  A  2230    	DB	108
04158F B51504              A  2231    	DW24	L_124	
                           A  2232    
041592 C31704              A  2233    	DW24	L_176	
                           A  2234    
                           A  2235    ;  260	                        case 0:
041595                     A  2236    L_122:
                           A  2237    .LINE 260
                           A  2238    
                           A  2239    ;  261	                            operand->re
                           A  2240    .LINE 261
                           A  2241    
041595 010E0000            A  2242    	LD	BC,14
041599 DD3109              A  2243    	LD	IY,(IX+%9)
04159C FD0F00              A  2244    	LD	(IY+%0),BC
                           A  2245    ;  262	                            operand->re
                           A  2246    .LINE 262
                           A  2247    
04159F FD360302            A  2248    	LD	(IY+%3),%2
                           A  2249    ;  263	                            return;
                           A  2250    .LINE 263
                           A  2251    
0415A3 C3 05 18 04         A  2252    	JR	L_177
                           A  2253    ;  264	                        case 'h':
0415A7                     A  2254    L_123:
                           A  2255    .LINE 264
                           A  2256    
                           A  2257    ;  265	                            operand->re
                           A  2258    .LINE 265
                           A  2259    
0415A7 01110000            A  2260    	LD	BC,17
0415AB DD3109              A  2261    	LD	IY,(IX+%9)
0415AE FD0F00              A  2262    	LD	(IY+%0),BC
                           A  2263    ;  266	                            return;
                           A  2264    .LINE 266
                           A  2265    
0415B1 C3 05 18 04         A  2266    	JR	L_177
                           A  2267    ;  267	                        case 'l':
0415B5                     A  2268    L_124:
                           A  2269    .LINE 267
                           A  2270    
                           A  2271    ;  268	                            operand->re
                           A  2272    .LINE 268
                           A  2273    
0415B5 01120000            A  2274    	LD	BC,18
0415B9 DD3109              A  2275    	LD	IY,(IX+%9)
0415BC FD0F00              A  2276    	LD	(IY+%0),BC
                           A  2277    ;  269	                            return;
                           A  2278    .LINE 269
                           A  2279    
0415BF C3 05 18 04         A  2280    	JR	L_177
                           A  2281    ;  270	                        case '+':
0415C3                     A  2282    L_125:
                           A  2283    .LINE 270
                           A  2284    
                           A  2285    ;  271	                        case '-':
0415C3                     A  2286    L_126:
                           A  2287    .LINE 271
                           A  2288    
                           A  2289    ;  272	                            if(isdigit(
                           A  2290    .LINE 272
                           A  2291    
0415C3 DD27FD              A  2292    	LD	HL,(IX+%FFFFFFFD)
0415C6 7E                  A  2293    	LD	A,(HL)
0415C7 47                  A  2294    	LD	B,A
0415C8 17ED62              A  2295    	SEXT	HL
0415CB 68                  A  2296    	LD	L,B
0415CC E5                  A  2297    	PUSH	HL
0415CD CD EF 6A 04         A  2298    	CALL	_isdigit
0415D1 C1                  A  2299    	POP	BC
0415D2 CD E3 6A 04         A  2300    	CALL	__icmpzero
0415D6 CA C3 17 04         A  2301    	JR	Z,L_176
                           A  2302    ;  273	                                operand
                           A  2303    .LINE 273
                           A  2304    
0415DA 010E0000            A  2305    	LD	BC,14
0415DE DD3109              A  2306    	LD	IY,(IX+%9)
0415E1 FD0F00              A  2307    	LD	(IY+%0),BC
                           A  2308    ;  274	                                operand
                           A  2309    .LINE 274
                           A  2310    
0415E4 FD360901            A  2311    	LD	(IY+%9),%1
                           A  2312    ;  275	                                if(*(pt
                           A  2313    .LINE 275
                           A  2314    
0415E8 DD27FD              A  2315    	LD	HL,(IX+%FFFFFFFD)
0415EB 2B                  A  2316    	DEC	HL
0415EC 7E                  A  2317    	LD	A,(HL)
0415ED 47                  A  2318    	LD	B,A
0415EE 17ED62              A  2319    	SEXT	HL
0415F1 68                  A  2320    	LD	L,B
0415F2 012D0000            A  2321    	LD	BC,45
0415F6 B7                  A  2322    	OR	A,A
0415F7 ED42                A  2323    	SBC	HL,BC
0415F9 20 22               A  2324    	JR	NZ,L_128
0415FB 01010000            A  2325    	LD	BC,1
0415FF C5                  A  2326    	PUSH	BC
041600 DD07FD              A  2327    	LD	BC,(IX+%FFFFFFFD)
041603 C5                  A  2328    	PUSH	BC
041604 CD 3E 54 04         A  2329    	CALL	_str2num
041608 C1                  A  2330    	POP	BC
041609 C1                  A  2331    	POP	BC
04160A CD 14 64 04         A  2332    	CALL	__sneg
04160E DD3109              A  2333    	LD	IY,(IX+%9)
041611 E5C1                A  2334    	LD	BC,HL
041613 FD7107              A  2335    	LD	(IY+%7),C
041616 FD7008              A  2336    	LD	(IY+%8),B
                           A  2337    ;  276	                                else op
                           A  2338    .LINE 276
                           A  2339    
041619 C3 05 18 04         A  2340    	JR	L_177
04161D                     A  2341    L_128:
04161D 01010000            A  2342    	LD	BC,1
041621 C5                  A  2343    	PUSH	BC
041622 DD07FD              A  2344    	LD	BC,(IX+%FFFFFFFD)
041625 C5                  A  2345    	PUSH	BC
041626 CD 3E 54 04         A  2346    	CALL	_str2num
04162A C1                  A  2347    	POP	BC
04162B C1                  A  2348    	POP	BC
04162C DD3109              A  2349    	LD	IY,(IX+%9)
04162F E5C1                A  2350    	LD	BC,HL
041631 FD7107              A  2351    	LD	(IY+%7),C
041634 FD7008              A  2352    	LD	(IY+%8),B
                           A  2353    ;  277	                                return;
                           A  2354    .LINE 277
                           A  2355    
041637 C3 05 18 04         A  2356    	JR	L_177
                           A  2357    ;  278	                            }
                           A  2358    .LINE 278
                           A  2359    
                           A  2360    ;  279	                            break;
                           A  2361    .LINE 279
                           A  2362    
                           A  2363    ;  280	                        default:
                           A  2364    ;  281	                            break;
                           A  2365    ;  282	                    }
                           A  2366    ;  283	                    break;
                           A  2367    ;  284	                default:
                           A  2368    ;  285	                    break;
                           A  2369    ;  286	            }
                           A  2370    ;  287	            break;
                           A  2371    ;  288	        case 'l':
04163B                     A  2372    L_136:
                           A  2373    .LINE 288
                           A  2374    
                           A  2375    ;  289	            switch(tolower(*ptr++)) {
                           A  2376    .LINE 289
                           A  2377    
04163B DD07FD              A  2378    	LD	BC,(IX+%FFFFFFFD)
04163E DD0FD2              A  2379    	LD	(IX+%FFFFFFD2),BC
041641 DD07FD              A  2380    	LD	BC,(IX+%FFFFFFFD)
041644 03                  A  2381    	INC	BC
041645 DD0FFD              A  2382    	LD	(IX+%FFFFFFFD),BC
041648 DD27D2              A  2383    	LD	HL,(IX+%FFFFFFD2)
04164B 7E                  A  2384    	LD	A,(HL)
04164C 47                  A  2385    	LD	B,A
04164D 17ED62              A  2386    	SEXT	HL
041650 68                  A  2387    	LD	L,B
041651 E5                  A  2388    	PUSH	HL
041652 CD D0 6E 04         A  2389    	CALL	_tolower
041656 C1                  A  2390    	POP	BC
041657 CD E3 6A 04         A  2391    	CALL	__icmpzero
04165B C2 C3 17 04         A  2392    	JR	NZ,L_176
                           A  2393    ;  290	                case 0:
                           A  2394    .LINE 290
                           A  2395    
                           A  2396    ;  291	                    operand->reg = R_L;
                           A  2397    .LINE 291
                           A  2398    
04165F 01070000            A  2399    	LD	BC,7
041663 DD3109              A  2400    	LD	IY,(IX+%9)
041666 FD0F00              A  2401    	LD	(IY+%0),BC
                           A  2402    ;  292	                    operand->reg_index 
                           A  2403    .LINE 292
                           A  2404    
041669 FD360305            A  2405    	LD	(IY+%3),%5
                           A  2406    ;  293	                    return;
                           A  2407    .LINE 293
                           A  2408    
04166D C3 05 18 04         A  2409    	JR	L_177
                           A  2410    ;  294	                default:
                           A  2411    ;  295	                    break;
                           A  2412    ;  296	            }
                           A  2413    ;  297	            break;
                           A  2414    ;  298	        case 'm':
041671                     A  2415    L_141:
                           A  2416    .LINE 298
                           A  2417    
                           A  2418    ;  299	            if((tolower(*ptr) == 'b') &
                           A  2419    .LINE 299
                           A  2420    
041671 DD27FD              A  2421    	LD	HL,(IX+%FFFFFFFD)
041674 7E                  A  2422    	LD	A,(HL)
041675 47                  A  2423    	LD	B,A
041676 17ED62              A  2424    	SEXT	HL
041679 68                  A  2425    	LD	L,B
04167A E5                  A  2426    	PUSH	HL
04167B CD D0 6E 04         A  2427    	CALL	_tolower
04167F C1                  A  2428    	POP	BC
041680 01620000            A  2429    	LD	BC,98
041684 B7                  A  2430    	OR	A,A
041685 ED42                A  2431    	SBC	HL,BC
041687 20 1A               A  2432    	JR	NZ,L_145
041689 DD27FD              A  2433    	LD	HL,(IX+%FFFFFFFD)
04168C 23                  A  2434    	INC	HL
04168D 7E                  A  2435    	LD	A,(HL)
04168E B7                  A  2436    	OR	A,A
04168F 20 12               A  2437    	JR	NZ,L_145
                           A  2438    ;  300	                operand->reg = R_MB;
                           A  2439    .LINE 300
                           A  2440    
041691 01140000            A  2441    	LD	BC,20
041695 DD3109              A  2442    	LD	IY,(IX+%9)
041698 FD0F00              A  2443    	LD	(IY+%0),BC
                           A  2444    ;  301	                operand->reg_index = R_
                           A  2445    .LINE 301
                           A  2446    
04169B FD360300            A  2447    	LD	(IY+%3),%0
                           A  2448    ;  302	                return;
                           A  2449    .LINE 302
                           A  2450    
04169F C3 05 18 04         A  2451    	JR	L_177
                           A  2452    ;  303	            }
0416A3                     A  2453    L_145:
                           A  2454    .LINE 303
                           A  2455    
                           A  2456    ;  304	            if((*ptr == 0)) {
                           A  2457    .LINE 304
                           A  2458    
0416A3 DD27FD              A  2459    	LD	HL,(IX+%FFFFFFFD)
0416A6 7E                  A  2460    	LD	A,(HL)
0416A7 B7                  A  2461    	OR	A,A
0416A8 C2 C3 17 04         A  2462    	JR	NZ,L_176
                           A  2463    ;  305	                operand->cc = true;
                           A  2464    .LINE 305
                           A  2465    
0416AC DD3109              A  2466    	LD	IY,(IX+%9)
0416AF FD360501            A  2467    	LD	(IY+%5),%1
                           A  2468    ;  306	                operand->cc_index = CC_
                           A  2469    .LINE 306
                           A  2470    
0416B3 FD360607            A  2471    	LD	(IY+%6),%7
                           A  2472    ;  307	                return;
                           A  2473    .LINE 307
                           A  2474    
0416B7 C3 05 18 04         A  2475    	JR	L_177
                           A  2476    ;  308	            }
                           A  2477    .LINE 308
                           A  2478    
                           A  2479    ;  309	            break;
                           A  2480    .LINE 309
                           A  2481    
                           A  2482    ;  310	        case 'n':
0416BB                     A  2483    L_147:
                           A  2484    .LINE 310
                           A  2485    
                           A  2486    ;  311	            switch(tolower(*ptr++)) {
                           A  2487    .LINE 311
                           A  2488    
0416BB DD07FD              A  2489    	LD	BC,(IX+%FFFFFFFD)
0416BE DD0FCF              A  2490    	LD	(IX+%FFFFFFCF),BC
0416C1 DD07FD              A  2491    	LD	BC,(IX+%FFFFFFFD)
0416C4 03                  A  2492    	INC	BC
0416C5 DD0FFD              A  2493    	LD	(IX+%FFFFFFFD),BC
0416C8 DD27CF              A  2494    	LD	HL,(IX+%FFFFFFCF)
0416CB 7E                  A  2495    	LD	A,(HL)
0416CC 47                  A  2496    	LD	B,A
0416CD 17ED62              A  2497    	SEXT	HL
0416D0 68                  A  2498    	LD	L,B
0416D1 E5                  A  2499    	PUSH	HL
0416D2 CD D0 6E 04         A  2500    	CALL	_tolower
0416D6 C1                  A  2501    	POP	BC
0416D7 CD 33 6E 04         A  2502    	CALL	__case8D
0416DB E9                  A  2503    	JP	(HL)
0416DC                     A  2504    L__55:
0416DC 0200                A  2505    	DW	2
0416DE 63                  A  2506    	DB	99
0416DF E91604              A  2507    	DW24	L_149	
                           A  2508    
0416E2 7A                  A  2509    	DB	122
0416E3 F81604              A  2510    	DW24	L_150	
                           A  2511    
0416E6 C31704              A  2512    	DW24	L_176	
                           A  2513    
                           A  2514    ;  312	                case 'c':   // NC
0416E9                     A  2515    L_149:
                           A  2516    .LINE 312
                           A  2517    
                           A  2518    ;  313	                    operand->cc = true;
                           A  2519    .LINE 313
                           A  2520    
0416E9 DD3109              A  2521    	LD	IY,(IX+%9)
0416EC FD360501            A  2522    	LD	(IY+%5),%1
                           A  2523    ;  314	                    operand->cc_index =
                           A  2524    .LINE 314
                           A  2525    
0416F0 FD360602            A  2526    	LD	(IY+%6),%2
                           A  2527    ;  315	                    return;
                           A  2528    .LINE 315
                           A  2529    
0416F4 C3 05 18 04         A  2530    	JR	L_177
                           A  2531    ;  316	                case 'z':   // NZ
0416F8                     A  2532    L_150:
                           A  2533    .LINE 316
                           A  2534    
                           A  2535    ;  317	                    operand->cc = true;
                           A  2536    .LINE 317
                           A  2537    
0416F8 DD3109              A  2538    	LD	IY,(IX+%9)
0416FB FD360501            A  2539    	LD	(IY+%5),%1
                           A  2540    ;  318	                    operand->cc_index =
                           A  2541    .LINE 318
                           A  2542    
0416FF FD360600            A  2543    	LD	(IY+%6),%0
                           A  2544    ;  319	                    return;
                           A  2545    .LINE 319
                           A  2546    
041703 C3 05 18 04         A  2547    	JR	L_177
                           A  2548    ;  320	                default:
                           A  2549    ;  321	                    break;
                           A  2550    ;  322	            }
                           A  2551    ;  323	            break;
                           A  2552    ;  324	        case 'p':
041707                     A  2553    L_153:
                           A  2554    .LINE 324
                           A  2555    
                           A  2556    ;  325	            switch(tolower(*ptr++)) {
                           A  2557    .LINE 325
                           A  2558    
041707 DD07FD              A  2559    	LD	BC,(IX+%FFFFFFFD)
04170A DD0FCC              A  2560    	LD	(IX+%FFFFFFCC),BC
04170D DD07FD              A  2561    	LD	BC,(IX+%FFFFFFFD)
041710 03                  A  2562    	INC	BC
041711 DD0FFD              A  2563    	LD	(IX+%FFFFFFFD),BC
041714 DD27CC              A  2564    	LD	HL,(IX+%FFFFFFCC)
041717 7E                  A  2565    	LD	A,(HL)
041718 47                  A  2566    	LD	B,A
041719 17ED62              A  2567    	SEXT	HL
04171C 68                  A  2568    	LD	L,B
04171D E5                  A  2569    	PUSH	HL
04171E CD D0 6E 04         A  2570    	CALL	_tolower
041722 C1                  A  2571    	POP	BC
041723 CD 33 6E 04         A  2572    	CALL	__case8D
041727 E9                  A  2573    	JP	(HL)
041728                     A  2574    L__56:
041728 0300                A  2575    	DW	3
04172A 00                  A  2576    	DB	0
04172B 391704              A  2577    	DW24	L_155	
                           A  2578    
04172E 65                  A  2579    	DB	101
04172F 481704              A  2580    	DW24	L_156	
                           A  2581    
041732 6F                  A  2582    	DB	111
041733 571704              A  2583    	DW24	L_157	
                           A  2584    
041736 C31704              A  2585    	DW24	L_176	
                           A  2586    
                           A  2587    ;  326	                case 0:
041739                     A  2588    L_155:
                           A  2589    .LINE 326
                           A  2590    
                           A  2591    ;  327	                    operand->cc = true;
                           A  2592    .LINE 327
                           A  2593    
041739 DD3109              A  2594    	LD	IY,(IX+%9)
04173C FD360501            A  2595    	LD	(IY+%5),%1
                           A  2596    ;  328	                    operand->cc_index =
                           A  2597    .LINE 328
                           A  2598    
041740 FD360606            A  2599    	LD	(IY+%6),%6
                           A  2600    ;  329	                    return;
                           A  2601    .LINE 329
                           A  2602    
041744 C3 05 18 04         A  2603    	JR	L_177
                           A  2604    ;  330	                case 'e':
041748                     A  2605    L_156:
                           A  2606    .LINE 330
                           A  2607    
                           A  2608    ;  331	                    operand->cc = true;
                           A  2609    .LINE 331
                           A  2610    
041748 DD3109              A  2611    	LD	IY,(IX+%9)
04174B FD360501            A  2612    	LD	(IY+%5),%1
                           A  2613    ;  332	                    operand->cc_index =
                           A  2614    .LINE 332
                           A  2615    
04174F FD360605            A  2616    	LD	(IY+%6),%5
                           A  2617    ;  333	                    return;
                           A  2618    .LINE 333
                           A  2619    
041753 C3 05 18 04         A  2620    	JR	L_177
                           A  2621    ;  334	                case 'o':
041757                     A  2622    L_157:
                           A  2623    .LINE 334
                           A  2624    
                           A  2625    ;  335	                    operand->cc = true;
                           A  2626    .LINE 335
                           A  2627    
041757 DD3109              A  2628    	LD	IY,(IX+%9)
04175A FD360501            A  2629    	LD	(IY+%5),%1
                           A  2630    ;  336	                    operand->cc_index =
                           A  2631    .LINE 336
                           A  2632    
04175E FD360604            A  2633    	LD	(IY+%6),%4
                           A  2634    ;  337	                    return;
                           A  2635    .LINE 337
                           A  2636    
041762 C3 05 18 04         A  2637    	JR	L_177
                           A  2638    ;  338	                default:
                           A  2639    ;  339	                    break;
                           A  2640    ;  340	            }
                           A  2641    ;  341	            break;
                           A  2642    ;  342	        case 'r':
041766                     A  2643    L_160:
                           A  2644    .LINE 342
                           A  2645    
                           A  2646    ;  343	            if(*ptr == 0) {
                           A  2647    .LINE 343
                           A  2648    
041766 DD27FD              A  2649    	LD	HL,(IX+%FFFFFFFD)
041769 7E                  A  2650    	LD	A,(HL)
04176A B7                  A  2651    	OR	A,A
04176B 20 56               A  2652    	JR	NZ,L_176
                           A  2653    ;  344	                operand->reg = R_R;
                           A  2654    .LINE 344
                           A  2655    
04176D 01130000            A  2656    	LD	BC,19
041771 DD3109              A  2657    	LD	IY,(IX+%9)
041774 FD0F00              A  2658    	LD	(IY+%0),BC
                           A  2659    ;  345	                operand->reg_index = R_
                           A  2660    .LINE 345
                           A  2661    
041777 FD360300            A  2662    	LD	(IY+%3),%0
                           A  2663    ;  346	                return;
                           A  2664    .LINE 346
                           A  2665    
04177B C3 05 18 04         A  2666    	JR	L_177
                           A  2667    ;  347	            }
                           A  2668    .LINE 347
                           A  2669    
                           A  2670    ;  348	            break;
                           A  2671    .LINE 348
                           A  2672    
                           A  2673    ;  349	        case 's':
04177F                     A  2674    L_163:
                           A  2675    .LINE 349
                           A  2676    
                           A  2677    ;  350	            if((tolower(*ptr) == 'p') &
                           A  2678    .LINE 350
                           A  2679    
04177F DD27FD              A  2680    	LD	HL,(IX+%FFFFFFFD)
041782 7E                  A  2681    	LD	A,(HL)
041783 47                  A  2682    	LD	B,A
041784 17ED62              A  2683    	SEXT	HL
041787 68                  A  2684    	LD	L,B
041788 E5                  A  2685    	PUSH	HL
041789 CD D0 6E 04         A  2686    	CALL	_tolower
04178D C1                  A  2687    	POP	BC
04178E 01700000            A  2688    	LD	BC,112
041792 B7                  A  2689    	OR	A,A
041793 ED42                A  2690    	SBC	HL,BC
041795 20 2C               A  2691    	JR	NZ,L_176
041797 DD27FD              A  2692    	LD	HL,(IX+%FFFFFFFD)
04179A 23                  A  2693    	INC	HL
04179B 7E                  A  2694    	LD	A,(HL)
04179C B7                  A  2695    	OR	A,A
04179D 20 24               A  2696    	JR	NZ,L_176
                           A  2697    ;  351	                operand->reg = R_SP;
                           A  2698    .LINE 351
                           A  2699    
04179F 010B0000            A  2700    	LD	BC,11
0417A3 DD3109              A  2701    	LD	IY,(IX+%9)
0417A6 FD0F00              A  2702    	LD	(IY+%0),BC
                           A  2703    ;  352	                operand->reg_index = R_
                           A  2704    .LINE 352
                           A  2705    
0417A9 FD360303            A  2706    	LD	(IY+%3),%3
                           A  2707    ;  353	                return;
                           A  2708    .LINE 353
                           A  2709    
0417AD 18 56               A  2710    	JR	L_177
                           A  2711    ;  354	            }
                           A  2712    .LINE 354
                           A  2713    
                           A  2714    ;  355	            break;
                           A  2715    .LINE 355
                           A  2716    
                           A  2717    ;  356	        case 'z':
0417AF                     A  2718    L_167:
                           A  2719    .LINE 356
                           A  2720    
                           A  2721    ;  357	            if(*ptr == 0) {
                           A  2722    .LINE 357
                           A  2723    
0417AF DD27FD              A  2724    	LD	HL,(IX+%FFFFFFFD)
0417B2 7E                  A  2725    	LD	A,(HL)
0417B3 B7                  A  2726    	OR	A,A
0417B4 20 0D               A  2727    	JR	NZ,L_176
                           A  2728    ;  358	                operand->cc = true;
                           A  2729    .LINE 358
                           A  2730    
0417B6 3E01                A  2731    	LD	A,%1
0417B8 DD3109              A  2732    	LD	IY,(IX+%9)
0417BB FD7705              A  2733    	LD	(IY+%5),A
                           A  2734    ;  359	                operand->cc_index = CC_
                           A  2735    .LINE 359
                           A  2736    
0417BE FD7706              A  2737    	LD	(IY+%6),A
                           A  2738    ;  360	                return;
                           A  2739    .LINE 360
                           A  2740    
0417C1 18 42               A  2741    	JR	L_177
                           A  2742    ;  361	            }
                           A  2743    .LINE 361
                           A  2744    
                           A  2745    ;  362	            break;
                           A  2746    ;  363	        default:
                           A  2747    ;  364	            break;
                           A  2748    ;  365	    }
0417C3                     A  2749    L_176:
                           A  2750    .LINE 365
                           A  2751    
                           A  2752    ;  366	    if(*string) {
                           A  2753    .LINE 366
                           A  2754    
0417C3 DD2706              A  2755    	LD	HL,(IX+%6)
0417C6 7E                  A  2756    	LD	A,(HL)
0417C7 B7                  A  2757    	OR	A,A
0417C8 28 3B               A  2758    	JR	Z,L_177
                           A  2759    ;  367	        if(operand->indirect) operand->
                           A  2760    .LINE 367
                           A  2761    
0417CA DD3109              A  2762    	LD	IY,(IX+%9)
0417CD FD7E04              A  2763    	LD	A,(IY+%4)
0417D0 B7                  A  2764    	OR	A,A
0417D1 28 15               A  2765    	JR	Z,L_173
0417D3 DD0706              A  2766    	LD	BC,(IX+%6)
0417D6 03                  A  2767    	INC	BC
0417D7 C5                  A  2768    	PUSH	BC
0417D8 CD 50 0F 04         A  2769    	CALL	_getLabelValue
0417DC C1                  A  2770    	POP	BC
0417DD DD3109              A  2771    	LD	IY,(IX+%9)
0417E0 FD2F0B              A  2772    	LD	(IY+%B),HL
0417E3 FD730E              A  2773    	LD	(IY+%E),E
                           A  2774    ;  368	        else operand->immediate = getLa
                           A  2775    .LINE 368
                           A  2776    
0417E6 18 12               A  2777    	JR	L_174
0417E8                     A  2778    L_173:
0417E8 DD0706              A  2779    	LD	BC,(IX+%6)
0417EB C5                  A  2780    	PUSH	BC
0417EC CD 50 0F 04         A  2781    	CALL	_getLabelValue
0417F0 C1                  A  2782    	POP	BC
0417F1 DD3109              A  2783    	LD	IY,(IX+%9)
0417F4 FD2F0B              A  2784    	LD	(IY+%B),HL
0417F7 FD730E              A  2785    	LD	(IY+%E),E
0417FA                     A  2786    L_174:
                           A  2787    ;  369	        operand->immediate_provided = t
                           A  2788    .LINE 369
                           A  2789    
0417FA 3E01                A  2790    	LD	A,%1
0417FC DD3109              A  2791    	LD	IY,(IX+%9)
0417FF FD770A              A  2792    	LD	(IY+%A),A
                           A  2793    ;  370	        operand->wasLabel = true;
                           A  2794    .LINE 370
                           A  2795    
041802 FD770F              A  2796    	LD	(IY+%F),A
                           A  2797    ;  371	    }
                           A  2798    ;  372	}
041805                     A  2799    L_177:
                           A  2800    .LINE 372
                           A  2801    
041805 DDF9                A  2802    	LD	SP,IX
041807 DDE1                A  2803    	POP	IX
041809 C9                  A  2804    	RET	
                           A  2805    
                           A  2806    
                           A  2807    ;**************************** _parse_operand **
                           A  2808    ;Name                         Addr/Register   S
                           A  2809    ;_str2num                            IMPORT  --
                           A  2810    ;_isdigit                            IMPORT  --
                           A  2811    ;_tolower                            IMPORT  --
                           A  2812    ;_message                            IMPORT  un
                           A  2813    ;_error                              IMPORT  --
                           A  2814    ;_strlen                             IMPORT  --
                           A  2815    ;G_3                                   IX-7    
                           A  2816    ;len                                   IX-4    
                           A  2817    ;ptr                                   IX-3    
                           A  2818    ;operand                               IX+9    
                           A  2819    ;string                                IX+6    
                           A  2820    
                           A  2821    
                           A  2822    ; Stack Frame Size: 64 (bytes)
                           A  2823    ;       Spill Code: 0 (instruction)
                           A  2824    
                           A  2825    
                           A  2826    .ENDFUNC "parse_operand",372,"_parse_operand"
                           A  2827    ;  373	
                           A  2828    ;  374	void parseLine(char *src) {
04180A                     A  2829    _parseLine:
                           A  2830    .DEFINE "_parseLine"
                           A  2831    
                           A  2832    .VALUE _parseLine
                           A  2833    
                           A  2834    .CLASS 2
                           A  2835    
                           A  2836    .TYPE 65
                           A  2837    
                           A  2838    .ENDEF
                           A  2839    
                           A  2840    .BEGFUNC "parseLine",374,"_parseLine"
                           A  2841    
                           A  2842    .LINE 374
                           A  2843    
                           A  2844    .DEFINE "src"
                           A  2845    
                           A  2846    .CLASS 65
                           A  2847    
                           A  2848    .VALUE 6
                           A  2849    
                           A  2850    .TYPE 34
                           A  2851    
                           A  2852    .ENDEF
                           A  2853    
                           A  2854    .DEFINE "state"
                           A  2855    
                           A  2856    .CLASS 65
                           A  2857    
                           A  2858    .VALUE -1
                           A  2859    
                           A  2860    .TYPE 12
                           A  2861    
                           A  2862    .ENDEF
                           A  2863    
                           A  2864    .DEFINE "argcount"
                           A  2865    
                           A  2866    .CLASS 65
                           A  2867    
                           A  2868    .VALUE -2
                           A  2869    
                           A  2870    .TYPE 12
                           A  2871    
                           A  2872    .ENDEF
                           A  2873    
                           A  2874    .DEFINE "x"
                           A  2875    
                           A  2876    .CLASS 65
                           A  2877    
                           A  2878    .VALUE -3
                           A  2879    
                           A  2880    .TYPE 12
                           A  2881    
                           A  2882    .ENDEF
                           A  2883    
                           A  2884    .DEFINE "done"
                           A  2885    
                           A  2886    .CLASS 65
                           A  2887    
                           A  2888    .VALUE -4
                           A  2889    
                           A  2890    .TYPE 12
                           A  2891    
                           A  2892    .ENDEF
                           A  2893    
                           A  2894    .DEFINE "token"
                           A  2895    
                           A  2896    .CLASS 65
                           A  2897    
                           A  2898    .VALUE -268
                           A  2899    
                           A  2900    .TAG "NONAME11"
                           A  2901    
                           A  2902    .TYPE 8
                           A  2903    
                           A  2904    .ENDEF
                           A  2905    
04180A DDE5                A  2906    	PUSH	IX
04180C DD210000 00         A  2907    	LD	IX,0
041811 DD39                A  2908    	ADD	IX,SP
041813 21F4FEFF            A  2909    	LD	HL,-268
041817 39                  A  2910    	ADD	HL,SP
041818 F9                  A  2911    	LD	SP,HL
                           A  2912    ;  375	    uint8_t x;
                           A  2913    ;  376	    bool done;
                           A  2914    ;  377	    uint8_t state;
                           A  2915    ;  378	    uint8_t argcount = 0;
                           A  2916    .LINE 378
                           A  2917    
041819 DD36FE00            A  2918    	LD	(IX+%FFFFFFFE),%0
                           A  2919    ;  379	    tokentype token;
                           A  2920    ;  380	
                           A  2921    ;  381	    // default current line items
                           A  2922    ;  382	    currentline.current_instruction = N
                           A  2923    .LINE 382
                           A  2924    
04181D 01000000            A  2925    	LD	BC,0
041821 ED43 25 97 04       A  2926    	LD	(_currentline),BC
                           A  2927    ;  383	    currentline.next = NULL;
                           A  2928    .LINE 383
                           A  2929    
041826 ED43 28 97 04       A  2930    	LD	(_currentline+3),BC
                           A  2931    ;  384	    currentline.label[0] = 0;
                           A  2932    .LINE 384
                           A  2933    
04182B AF                  A  2934    	XOR	A,A
04182C 32 2B 97 04         A  2935    	LD	(_currentline+6),A
                           A  2936    ;  385	    currentline.mnemonic[0] = 0;
                           A  2937    .LINE 385
                           A  2938    
041830 AF                  A  2939    	XOR	A,A
041831 32 4B 97 04         A  2940    	LD	(_currentline+38),A
                           A  2941    ;  386	    currentline.suffix[0] = 0;
                           A  2942    .LINE 386
                           A  2943    
041835 AF                  A  2944    	XOR	A,A
041836 32 5B 97 04         A  2945    	LD	(_currentline+54),A
                           A  2946    ;  387	    currentline.operand1[0] = 0;
                           A  2947    .LINE 387
                           A  2948    
04183A AF                  A  2949    	XOR	A,A
04183B 32 6B 97 04         A  2950    	LD	(_currentline+70),A
                           A  2951    ;  388	    currentline.operand2[0] = 0;
                           A  2952    .LINE 388
                           A  2953    
04183F AF                  A  2954    	XOR	A,A
041840 32 8B 97 04         A  2955    	LD	(_currentline+102),A
                           A  2956    ;  389	    currentline.comment[0] = 0;
                           A  2957    .LINE 389
                           A  2958    
041844 AF                  A  2959    	XOR	A,A
041845 32 AB 97 04         A  2960    	LD	(_currentline+134),A
                           A  2961    ;  390	    currentline.size = 0;
                           A  2962    .LINE 390
                           A  2963    
041849 21 2B 98 04         A  2964    	LD	HL,_currentline+262
04184D 3600                A  2965    	LD	(HL),%0
04184F 23                  A  2966    	INC	HL
041850 3600                A  2967    	LD	(HL),%0
                           A  2968    ;  391	
                           A  2969    ;  392	    empty_operand(&operand1);
                           A  2970    .LINE 392
                           A  2971    
041852 01 2D 98 04         A  2972    	LD	BC,_operand1
041856 C5                  A  2973    	PUSH	BC
041857 CD ED 0D 04         A  2974    	CALL	_empty_operand
04185B C1                  A  2975    	POP	BC
                           A  2976    ;  393	    empty_operand(&operand2);
                           A  2977    .LINE 393
                           A  2978    
04185C 01 3D 98 04         A  2979    	LD	BC,_operand2
041860 C5                  A  2980    	PUSH	BC
041861 CD ED 0D 04         A  2981    	CALL	_empty_operand
041865 C1                  A  2982    	POP	BC
                           A  2983    ;  394	
                           A  2984    ;  395	    state = PS_START;
                           A  2985    .LINE 395
                           A  2986    
041866 DD36FF00            A  2987    	LD	(IX+%FFFFFFFF),%0
                           A  2988    ;  396	    done = false;
                           A  2989    .LINE 396
                           A  2990    
04186A DD36FC00            A  2991    	LD	(IX+%FFFFFFFC),%0
                           A  2992    ;  397	    while(!done) {
                           A  2993    .LINE 397
                           A  2994    
04186E C3 FC 1B 04         A  2995    	JR	L_227
041872                     A  2996    L_228:
                           A  2997    ;  398	        switch(state) {
                           A  2998    .LINE 398
                           A  2999    
041872 DD7EFF              A  3000    	LD	A,(IX+%FFFFFFFF)
041875 B7ED62              A  3001    	UEXT	HL
041878 6F                  A  3002    	LD	L,A
041879 CD 64 64 04         A  3003    	CALL	__seqcaseD
04187D E9                  A  3004    	JP	(HL)
04187E                     A  3005    L__64:
04187E 0800                A  3006    	DW	8
041880 0000                A  3007    	DW	0
041882 00                  A  3008    	DB	0
041883 9E1804              A  3009    	DW24	L_178	
                           A  3010    
041886 671904              A  3011    	DW24	L_192	
                           A  3012    
041889 C91904              A  3013    	DW24	L_199	
                           A  3014    
04188C F01A04              A  3015    	DW24	L_213	
                           A  3016    
04188F FC1B04              A  3017    	DW24	L_227	
                           A  3018    
041892 CD1B04              A  3019    	DW24	L_224	
                           A  3020    
041895 F81B04              A  3021    	DW24	L_226	
                           A  3022    
041898 E91B04              A  3023    	DW24	L_225	
                           A  3024    
04189B FC1B04              A  3025    	DW24	L_227	
                           A  3026    
                           A  3027    ;  399	            case PS_START:
04189E                     A  3028    L_178:
                           A  3029    .LINE 399
                           A  3030    
                           A  3031    ;  400	                if((isspace(*src) == 0)
                           A  3032    .LINE 400
                           A  3033    
04189E DD2706              A  3034    	LD	HL,(IX+%6)
0418A1 7E                  A  3035    	LD	A,(HL)
0418A2 47                  A  3036    	LD	B,A
0418A3 17ED62              A  3037    	SEXT	HL
0418A6 68                  A  3038    	LD	L,B
0418A7 E5                  A  3039    	PUSH	HL
0418A8 CD 18 6B 04         A  3040    	CALL	_isspace
0418AC C1                  A  3041    	POP	BC
0418AD CD E3 6A 04         A  3042    	CALL	__icmpzero
0418B1 20 6C               A  3043    	JR	NZ,L_185
0418B3 DD2706              A  3044    	LD	HL,(IX+%6)
0418B6 7E                  A  3045    	LD	A,(HL)
0418B7 47                  A  3046    	LD	B,A
0418B8 17ED62              A  3047    	SEXT	HL
0418BB 68                  A  3048    	LD	L,B
0418BC 012E0000            A  3049    	LD	BC,46
0418C0 B7                  A  3050    	OR	A,A
0418C1 ED42                A  3051    	SBC	HL,BC
0418C3 28 5A               A  3052    	JR	Z,L_185
                           A  3053    ;  401	                    getLineToken(&token
                           A  3054    .LINE 401
                           A  3055    
0418C5 013A0000            A  3056    	LD	BC,58
0418C9 C5                  A  3057    	PUSH	BC
0418CA DD0706              A  3058    	LD	BC,(IX+%6)
0418CD C5                  A  3059    	PUSH	BC
0418CE DDE5E1              A  3060    	LD	HL,IX
0418D1 01F4FEFF            A  3061    	LD	BC,-268
0418D5 09                  A  3062    	ADD	HL,BC
0418D6 E5C1                A  3063    	LD	BC,HL
0418D8 C5                  A  3064    	PUSH	BC
0418D9 CD D0 59 04         A  3065    	CALL	_getLineToken
0418DD C1                  A  3066    	POP	BC
0418DE C1                  A  3067    	POP	BC
0418DF C1                  A  3068    	POP	BC
                           A  3069    ;  402	                    switch(token.termin
                           A  3070    .LINE 402
                           A  3071    
0418E0 DD7EF8              A  3072    	LD	A,(IX+%FFFFFFF8)
0418E3 17ED62              A  3073    	SEXT	HL
0418E6 DD6EF8              A  3074    	LD	L,(IX+%FFFFFFF8)
0418E9 CD 33 6E 04         A  3075    	CALL	__case8D
0418ED E9                  A  3076    	JP	(HL)
0418EE                     A  3077    L__67:
0418EE 0200                A  3078    	DW	2
0418F0 3A                  A  3079    	DB	58
0418F1 FB1804              A  3080    	DW24	L_180	
                           A  3081    
0418F4 3B                  A  3082    	DB	59
0418F5 031904              A  3083    	DW24	L_181	
                           A  3084    
0418F8 0B1904              A  3085    	DW24	L_182	
                           A  3086    
                           A  3087    ;  403	                        case ':':
0418FB                     A  3088    L_180:
                           A  3089    .LINE 403
                           A  3090    
                           A  3091    ;  404	                            state = PS_
                           A  3092    .LINE 404
                           A  3093    
0418FB DD36FF01            A  3094    	LD	(IX+%FFFFFFFF),%1
                           A  3095    ;  405	                            break;
                           A  3096    .LINE 405
                           A  3097    
0418FF C3 FC 1B 04         A  3098    	JR	L_227
                           A  3099    ;  406	                        case ';':
041903                     A  3100    L_181:
                           A  3101    .LINE 406
                           A  3102    
                           A  3103    ;  407	                            state = PS_
                           A  3104    .LINE 407
                           A  3105    
041903 DD36FF05            A  3106    	LD	(IX+%FFFFFFFF),%5
                           A  3107    ;  408	                            break;
                           A  3108    .LINE 408
                           A  3109    
041907 C3 FC 1B 04         A  3110    	JR	L_227
                           A  3111    ;  409	                        default:
04190B                     A  3112    L_182:
                           A  3113    .LINE 409
                           A  3114    
                           A  3115    ;  410	                            error(messa
                           A  3116    .LINE 410
                           A  3117    
04190B 21 92 71 04         A  3118    	LD	HL,_message+12
04190F ED07                A  3119    	LD	BC,(HL)
041911 C5                  A  3120    	PUSH	BC
041912 CD A1 58 04         A  3121    	CALL	_error
041916 C1                  A  3122    	POP	BC
                           A  3123    ;  411	                            state = PS_
                           A  3124    .LINE 411
                           A  3125    
041917 DD36FF07            A  3126    	LD	(IX+%FFFFFFFF),%7
                           A  3127    ;  412	                            break;
                           A  3128    .LINE 412
                           A  3129    
04191B C3 FC 1B 04         A  3130    	JR	L_227
                           A  3131    ;  413	                    }
                           A  3132    ;  414	                    break;
                           A  3133    ;  415	                }
04191F                     A  3134    L_185:
                           A  3135    .LINE 415
                           A  3136    
                           A  3137    ;  416	                x = getLineToken(&token
                           A  3138    .LINE 416
                           A  3139    
04191F 01200000            A  3140    	LD	BC,32
041923 C5                  A  3141    	PUSH	BC
041924 DD0706              A  3142    	LD	BC,(IX+%6)
041927 C5                  A  3143    	PUSH	BC
041928 DDE5E1              A  3144    	LD	HL,IX
04192B 01F4FEFF            A  3145    	LD	BC,-268
04192F 09                  A  3146    	ADD	HL,BC
041930 E5C1                A  3147    	LD	BC,HL
041932 C5                  A  3148    	PUSH	BC
041933 CD D0 59 04         A  3149    	CALL	_getLineToken
041937 C1                  A  3150    	POP	BC
041938 C1                  A  3151    	POP	BC
041939 C1                  A  3152    	POP	BC
04193A DD77FD              A  3153    	LD	(IX+%FFFFFFFD),A
                           A  3154    ;  417	                if(x) state = PS_COMMAN
                           A  3155    .LINE 417
                           A  3156    
04193D B7                  A  3157    	OR	A,A
04193E 28 08               A  3158    	JR	Z,L_190
041940 DD36FF02            A  3159    	LD	(IX+%FFFFFFFF),%2
                           A  3160    ;  418	                else {
                           A  3161    .LINE 418
                           A  3162    
041944 C3 FC 1B 04         A  3163    	JR	L_227
041948                     A  3164    L_190:
                           A  3165    ;  419	                    if(token.terminator
                           A  3166    .LINE 419
                           A  3167    
041948 DD7EF8              A  3168    	LD	A,(IX+%FFFFFFF8)
04194B B7                  A  3169    	OR	A,A
04194C 20 08               A  3170    	JR	NZ,L_188
                           A  3171    ;  420	                        state = PS_DONE
                           A  3172    .LINE 420
                           A  3173    
04194E DD36FF06            A  3174    	LD	(IX+%FFFFFFFF),%6
                           A  3175    ;  421	                        break;
                           A  3176    .LINE 421
                           A  3177    
041952 C3 FC 1B 04         A  3178    	JR	L_227
                           A  3179    ;  422	                    }
041956                     A  3180    L_188:
                           A  3181    .LINE 422
                           A  3182    
                           A  3183    ;  423	                    if(token.terminator
                           A  3184    .LINE 423
                           A  3185    
041956 DD7EF8              A  3186    	LD	A,(IX+%FFFFFFF8)
041959 FE3B                A  3187    	CP	A,%3B
04195B C2 FC 1B 04         A  3188    	JR	NZ,L_227
                           A  3189    ;  424	                        state = PS_COMM
                           A  3190    .LINE 424
                           A  3191    
04195F DD36FF05            A  3192    	LD	(IX+%FFFFFFFF),%5
                           A  3193    ;  425	                        break;
                           A  3194    .LINE 425
                           A  3195    
041963 C3 FC 1B 04         A  3196    	JR	L_227
                           A  3197    ;  426	                    }
                           A  3198    ;  427	                }
                           A  3199    .LINE 427
                           A  3200    
                           A  3201    ;  428	                break;
                           A  3202    .LINE 428
                           A  3203    
                           A  3204    ;  429	            case PS_LABEL:
041967                     A  3205    L_192:
                           A  3206    .LINE 429
                           A  3207    
                           A  3208    ;  430	                strcpy(currentline.labe
                           A  3209    .LINE 430
                           A  3210    
041967 DDE5E1              A  3211    	LD	HL,IX
04196A 01F4FEFF            A  3212    	LD	BC,-268
04196E 09                  A  3213    	ADD	HL,BC
04196F E5C1                A  3214    	LD	BC,HL
041971 C5                  A  3215    	PUSH	BC
041972 01 2B 97 04         A  3216    	LD	BC,_currentline+6
041976 C5                  A  3217    	PUSH	BC
041977 CD 6F 6E 04         A  3218    	CALL	_strcpy
04197B C1                  A  3219    	POP	BC
04197C C1                  A  3220    	POP	BC
                           A  3221    ;  431	                advanceLocalLabel();
                           A  3222    .LINE 431
                           A  3223    
04197D CD 2C 0E 04         A  3224    	CALL	_advanceLocalLabel
                           A  3225    ;  432	                x = getLineToken(&token
                           A  3226    .LINE 432
                           A  3227    
041981 01200000            A  3228    	LD	BC,32
041985 C5                  A  3229    	PUSH	BC
041986 DD07F5              A  3230    	LD	BC,(IX+%FFFFFFF5)
041989 C5                  A  3231    	PUSH	BC
04198A DDE5E1              A  3232    	LD	HL,IX
04198D 01F4FEFF            A  3233    	LD	BC,-268
041991 09                  A  3234    	ADD	HL,BC
041992 E5C1                A  3235    	LD	BC,HL
041994 C5                  A  3236    	PUSH	BC
041995 CD D0 59 04         A  3237    	CALL	_getLineToken
041999 C1                  A  3238    	POP	BC
04199A C1                  A  3239    	POP	BC
04199B C1                  A  3240    	POP	BC
04199C DD77FD              A  3241    	LD	(IX+%FFFFFFFD),A
                           A  3242    ;  433	                if(x) state = PS_COMMAN
                           A  3243    .LINE 433
                           A  3244    
04199F B7                  A  3245    	OR	A,A
0419A0 28 08               A  3246    	JR	Z,L_197
0419A2 DD36FF02            A  3247    	LD	(IX+%FFFFFFFF),%2
                           A  3248    ;  434	                else {
                           A  3249    .LINE 434
                           A  3250    
0419A6 C3 FC 1B 04         A  3251    	JR	L_227
0419AA                     A  3252    L_197:
                           A  3253    ;  435	                    if(token.terminator
                           A  3254    .LINE 435
                           A  3255    
0419AA DD7EF8              A  3256    	LD	A,(IX+%FFFFFFF8)
0419AD B7                  A  3257    	OR	A,A
0419AE 20 08               A  3258    	JR	NZ,L_195
                           A  3259    ;  436	                        state = PS_DONE
                           A  3260    .LINE 436
                           A  3261    
0419B0 DD36FF06            A  3262    	LD	(IX+%FFFFFFFF),%6
                           A  3263    ;  437	                        break;
                           A  3264    .LINE 437
                           A  3265    
0419B4 C3 FC 1B 04         A  3266    	JR	L_227
                           A  3267    ;  438	                    }
0419B8                     A  3268    L_195:
                           A  3269    .LINE 438
                           A  3270    
                           A  3271    ;  439	                    if(token.terminator
                           A  3272    .LINE 439
                           A  3273    
0419B8 DD7EF8              A  3274    	LD	A,(IX+%FFFFFFF8)
0419BB FE3B                A  3275    	CP	A,%3B
0419BD C2 FC 1B 04         A  3276    	JR	NZ,L_227
                           A  3277    ;  440	                        state = PS_COMM
                           A  3278    .LINE 440
                           A  3279    
0419C1 DD36FF05            A  3280    	LD	(IX+%FFFFFFFF),%5
                           A  3281    ;  441	                        break;
                           A  3282    .LINE 441
                           A  3283    
0419C5 C3 FC 1B 04         A  3284    	JR	L_227
                           A  3285    ;  442	                    }
                           A  3286    ;  443	                }
                           A  3287    .LINE 443
                           A  3288    
                           A  3289    ;  444	                break;
                           A  3290    .LINE 444
                           A  3291    
                           A  3292    ;  445	            case PS_COMMAND:
0419C9                     A  3293    L_199:
                           A  3294    .LINE 445
                           A  3295    
                           A  3296    ;  446	                if(token.start[0] == '.
                           A  3297    .LINE 446
                           A  3298    
0419C9 DDE5E1              A  3299    	LD	HL,IX
0419CC 01F4FEFF            A  3300    	LD	BC,-268
0419D0 09                  A  3301    	ADD	HL,BC
0419D1 DD2FF9              A  3302    	LD	(IX+%FFFFFFF9),HL
0419D4 7E                  A  3303    	LD	A,(HL)
0419D5 47                  A  3304    	LD	B,A
0419D6 17ED62              A  3305    	SEXT	HL
0419D9 68                  A  3306    	LD	L,B
0419DA 012E0000            A  3307    	LD	BC,46
0419DE B7                  A  3308    	OR	A,A
0419DF ED42                A  3309    	SBC	HL,BC
0419E1 20 12               A  3310    	JR	NZ,L_201
0419E3 DD07F9              A  3311    	LD	BC,(IX+%FFFFFFF9)
0419E6 03                  A  3312    	INC	BC
0419E7 C5                  A  3313    	PUSH	BC
0419E8 01 4B 97 04         A  3314    	LD	BC,_currentline+38
0419EC C5                  A  3315    	PUSH	BC
0419ED CD 6F 6E 04         A  3316    	CALL	_strcpy
0419F1 C1                  A  3317    	POP	BC
0419F2 C1                  A  3318    	POP	BC
                           A  3319    ;  447	                else split_suffix(curre
                           A  3320    .LINE 447
                           A  3321    
0419F3 18 15               A  3322    	JR	L_202
0419F5                     A  3323    L_201:
0419F5 DD07F9              A  3324    	LD	BC,(IX+%FFFFFFF9)
0419F8 C5                  A  3325    	PUSH	BC
0419F9 01 5B 97 04         A  3326    	LD	BC,_currentline+54
0419FD C5                  A  3327    	PUSH	BC
0419FE 01 4B 97 04         A  3328    	LD	BC,_currentline+38
041A02 C5                  A  3329    	PUSH	BC
041A03 CD 61 59 04         A  3330    	CALL	_split_suffix
041A07 C1                  A  3331    	POP	BC
041A08 C1                  A  3332    	POP	BC
041A09 C1                  A  3333    	POP	BC
041A0A                     A  3334    L_202:
                           A  3335    ;  448	
                           A  3336    ;  449	                currentline.current_ins
                           A  3337    .LINE 449
                           A  3338    
041A0A 01 4B 97 04         A  3339    	LD	BC,_currentline+38
041A0E C5                  A  3340    	PUSH	BC
041A0F CD 8E 43 04         A  3341    	CALL	_instruction_table_lookup
041A13 C1                  A  3342    	POP	BC
041A14 22 25 97 04         A  3343    	LD	(_currentline),HL
                           A  3344    ;  450	                if(currentline.current_
                           A  3345    .LINE 450
                           A  3346    
041A18 CD E3 6A 04         A  3347    	CALL	__icmpzero
041A1C 20 14               A  3348    	JR	NZ,L_205
                           A  3349    ;  451	                    error(message[ERROR
                           A  3350    .LINE 451
                           A  3351    
041A1E 21 98 71 04         A  3352    	LD	HL,_message+18
041A22 ED07                A  3353    	LD	BC,(HL)
041A24 C5                  A  3354    	PUSH	BC
041A25 CD A1 58 04         A  3355    	CALL	_error
041A29 C1                  A  3356    	POP	BC
                           A  3357    ;  452	                    state = PS_ERROR;
                           A  3358    .LINE 452
                           A  3359    
041A2A DD36FF07            A  3360    	LD	(IX+%FFFFFFFF),%7
                           A  3361    ;  453	                    break;
                           A  3362    .LINE 453
                           A  3363    
041A2E C3 FC 1B 04         A  3364    	JR	L_227
                           A  3365    ;  454	                }
041A32                     A  3366    L_205:
                           A  3367    .LINE 454
                           A  3368    
                           A  3369    ;  455	                if(currentline.current_
                           A  3370    .LINE 455
                           A  3371    
041A32 FD2A 25 97 04       A  3372    	LD	IY,(_currentline)
041A37 FD7E08              A  3373    	LD	A,(IY+%8)
041A3A FE01                A  3374    	CP	A,%1
041A3C 20 10               A  3375    	JR	NZ,L_207
                           A  3376    ;  456	                    currentline.next = 
                           A  3377    .LINE 456
                           A  3378    
041A3E DD07F5              A  3379    	LD	BC,(IX+%FFFFFFF5)
041A41 ED43 28 97 04       A  3380    	LD	(_currentline+3),BC
                           A  3381    ;  457	                    state = PS_DONE;
                           A  3382    .LINE 457
                           A  3383    
041A46 DD36FF06            A  3384    	LD	(IX+%FFFFFFFF),%6
                           A  3385    ;  458	                    break;
                           A  3386    .LINE 458
                           A  3387    
041A4A C3 FC 1B 04         A  3388    	JR	L_227
                           A  3389    ;  459	                }
041A4E                     A  3390    L_207:
                           A  3391    .LINE 459
                           A  3392    
                           A  3393    ;  460	                if(token.start[0] == '.
                           A  3394    .LINE 460
                           A  3395    
041A4E 21F4FEFF            A  3396    	LD	HL,-268
041A52 DDE5C1              A  3397    	LD	BC,IX
041A55 09                  A  3398    	ADD	HL,BC
041A56 7E                  A  3399    	LD	A,(HL)
041A57 47                  A  3400    	LD	B,A
041A58 17ED62              A  3401    	SEXT	HL
041A5B 68                  A  3402    	LD	L,B
041A5C 012E0000            A  3403    	LD	BC,46
041A60 B7                  A  3404    	OR	A,A
041A61 ED42                A  3405    	SBC	HL,BC
041A63 20 19               A  3406    	JR	NZ,L_211
                           A  3407    ;  461	                    error(message[ERROR
                           A  3408    .LINE 461
                           A  3409    
041A65 21 98 71 04         A  3410    	LD	HL,_message+18
041A69 ED07                A  3411    	LD	BC,(HL)
041A6B C5                  A  3412    	PUSH	BC
041A6C CD A1 58 04         A  3413    	CALL	_error
041A70 C1                  A  3414    	POP	BC
                           A  3415    ;  462	                    currentline.mnemoni
                           A  3416    .LINE 462
                           A  3417    
041A71 AF                  A  3418    	XOR	A,A
041A72 32 4B 97 04         A  3419    	LD	(_currentline+38),A
                           A  3420    ;  463	                    state = PS_ERROR;  
                           A  3421    .LINE 463
                           A  3422    
041A76 DD36FF07            A  3423    	LD	(IX+%FFFFFFFF),%7
                           A  3424    ;  464	                    break;
                           A  3425    .LINE 464
                           A  3426    
041A7A C3 FC 1B 04         A  3427    	JR	L_227
                           A  3428    ;  465	                }
041A7E                     A  3429    L_211:
                           A  3430    .LINE 465
                           A  3431    
                           A  3432    ;  466	                // Valid EZ80 instructi
                           A  3433    ;  467	                switch(token.terminator
                           A  3434    .LINE 467
                           A  3435    
041A7E DD7EF8              A  3436    	LD	A,(IX+%FFFFFFF8)
041A81 17ED62              A  3437    	SEXT	HL
041A84 DD6EF8              A  3438    	LD	L,(IX+%FFFFFFF8)
041A87 CD 33 6E 04         A  3439    	CALL	__case8D
041A8B E9                  A  3440    	JP	(HL)
041A8C                     A  3441    L__78:
041A8C 0200                A  3442    	DW	2
041A8E 00                  A  3443    	DB	0
041A8F BC1A04              A  3444    	DW24	L_209	
                           A  3445    
041A92 3B                  A  3446    	DB	59
041A93 991A04              A  3447    	DW24	L_208	
                           A  3448    
041A96 CD1A04              A  3449    	DW24	L_210	
                           A  3450    
                           A  3451    ;  468	                    case ';':
041A99                     A  3452    L_208:
                           A  3453    .LINE 468
                           A  3454    
                           A  3455    ;  469	                        getLineToken(&t
                           A  3456    .LINE 469
                           A  3457    
041A99 01000000            A  3458    	LD	BC,0
041A9D C5                  A  3459    	PUSH	BC
041A9E DD07F5              A  3460    	LD	BC,(IX+%FFFFFFF5)
041AA1 C5                  A  3461    	PUSH	BC
041AA2 DDE5E1              A  3462    	LD	HL,IX
041AA5 01F4FEFF            A  3463    	LD	BC,-268
041AA9 09                  A  3464    	ADD	HL,BC
041AAA E5C1                A  3465    	LD	BC,HL
041AAC C5                  A  3466    	PUSH	BC
041AAD CD D0 59 04         A  3467    	CALL	_getLineToken
041AB1 C1                  A  3468    	POP	BC
041AB2 C1                  A  3469    	POP	BC
041AB3 C1                  A  3470    	POP	BC
                           A  3471    ;  470	                        state = PS_COMM
                           A  3472    .LINE 470
                           A  3473    
041AB4 DD36FF05            A  3474    	LD	(IX+%FFFFFFFF),%5
                           A  3475    ;  471	                        break;
                           A  3476    .LINE 471
                           A  3477    
041AB8 C3 FC 1B 04         A  3478    	JR	L_227
                           A  3479    ;  472	                    case 0:
041ABC                     A  3480    L_209:
                           A  3481    .LINE 472
                           A  3482    
                           A  3483    ;  473	                        currentline.nex
                           A  3484    .LINE 473
                           A  3485    
041ABC 01000000            A  3486    	LD	BC,0
041AC0 ED43 28 97 04       A  3487    	LD	(_currentline+3),BC
                           A  3488    ;  474	                        state = PS_DONE
                           A  3489    .LINE 474
                           A  3490    
041AC5 DD36FF06            A  3491    	LD	(IX+%FFFFFFFF),%6
                           A  3492    ;  475	                        break;
                           A  3493    .LINE 475
                           A  3494    
041AC9 C3 FC 1B 04         A  3495    	JR	L_227
                           A  3496    ;  476	                    default:
041ACD                     A  3497    L_210:
                           A  3498    .LINE 476
                           A  3499    
                           A  3500    ;  477	                        getLineToken(&t
                           A  3501    .LINE 477
                           A  3502    
041ACD 012C0000            A  3503    	LD	BC,44
041AD1 C5                  A  3504    	PUSH	BC
041AD2 DD07F5              A  3505    	LD	BC,(IX+%FFFFFFF5)
041AD5 C5                  A  3506    	PUSH	BC
041AD6 DDE5E1              A  3507    	LD	HL,IX
041AD9 01F4FEFF            A  3508    	LD	BC,-268
041ADD 09                  A  3509    	ADD	HL,BC
041ADE E5C1                A  3510    	LD	BC,HL
041AE0 C5                  A  3511    	PUSH	BC
041AE1 CD D0 59 04         A  3512    	CALL	_getLineToken
041AE5 C1                  A  3513    	POP	BC
041AE6 C1                  A  3514    	POP	BC
041AE7 C1                  A  3515    	POP	BC
                           A  3516    ;  478	                        state = PS_OP1;
                           A  3517    .LINE 478
                           A  3518    
041AE8 DD36FF03            A  3519    	LD	(IX+%FFFFFFFF),%3
                           A  3520    ;  479	                        break;
                           A  3521    .LINE 479
                           A  3522    
041AEC C3 FC 1B 04         A  3523    	JR	L_227
                           A  3524    ;  480	                }                
                           A  3525    ;  481	                break;
                           A  3526    ;  482	            case PS_OP1:
041AF0                     A  3527    L_213:
                           A  3528    .LINE 482
                           A  3529    
                           A  3530    ;  483	                argcount++;
                           A  3531    .LINE 483
                           A  3532    
041AF0 DD34FE              A  3533    	INC	(IX+%FFFFFFFE)
                           A  3534    ;  484	                if(argcount == 1) {
                           A  3535    .LINE 484
                           A  3536    
041AF3 DD7EFE              A  3537    	LD	A,(IX+%FFFFFFFE)
041AF6 FE01                A  3538    	CP	A,%1
041AF8 20 28               A  3539    	JR	NZ,L_216
                           A  3540    ;  485	                    strcpy(currentline.
                           A  3541    .LINE 485
                           A  3542    
041AFA DDE5E1              A  3543    	LD	HL,IX
041AFD 01F4FEFF            A  3544    	LD	BC,-268
041B01 09                  A  3545    	ADD	HL,BC
041B02 E5C1                A  3546    	LD	BC,HL
041B04 C5                  A  3547    	PUSH	BC
041B05 01 6B 97 04         A  3548    	LD	BC,_currentline+70
041B09 C5                  A  3549    	PUSH	BC
041B0A CD 6F 6E 04         A  3550    	CALL	_strcpy
041B0E C1                  A  3551    	POP	BC
041B0F C1                  A  3552    	POP	BC
                           A  3553    ;  486	                    parse_operand(curre
                           A  3554    .LINE 486
                           A  3555    
041B10 01 2D 98 04         A  3556    	LD	BC,_operand1
041B14 C5                  A  3557    	PUSH	BC
041B15 01 6B 97 04         A  3558    	LD	BC,_currentline+70
041B19 C5                  A  3559    	PUSH	BC
041B1A CD EA 10 04         A  3560    	CALL	_parse_operand
041B1E C1                  A  3561    	POP	BC
041B1F C1                  A  3562    	POP	BC
                           A  3563    ;  487	                }
                           A  3564    ;  488	                else {
                           A  3565    .LINE 488
                           A  3566    
041B20 18 26               A  3567    	JR	L_222
041B22                     A  3568    L_216:
                           A  3569    ;  489	                    strcpy(currentline.
                           A  3570    .LINE 489
                           A  3571    
041B22 DDE5E1              A  3572    	LD	HL,IX
041B25 01F4FEFF            A  3573    	LD	BC,-268
041B29 09                  A  3574    	ADD	HL,BC
041B2A E5C1                A  3575    	LD	BC,HL
041B2C C5                  A  3576    	PUSH	BC
041B2D 01 8B 97 04         A  3577    	LD	BC,_currentline+102
041B31 C5                  A  3578    	PUSH	BC
041B32 CD 6F 6E 04         A  3579    	CALL	_strcpy
041B36 C1                  A  3580    	POP	BC
041B37 C1                  A  3581    	POP	BC
                           A  3582    ;  490	                    parse_operand(curre
                           A  3583    .LINE 490
                           A  3584    
041B38 01 3D 98 04         A  3585    	LD	BC,_operand2
041B3C C5                  A  3586    	PUSH	BC
041B3D 01 8B 97 04         A  3587    	LD	BC,_currentline+102
041B41 C5                  A  3588    	PUSH	BC
041B42 CD EA 10 04         A  3589    	CALL	_parse_operand
041B46 C1                  A  3590    	POP	BC
041B47 C1                  A  3591    	POP	BC
                           A  3592    ;  491	                }
041B48                     A  3593    L_222:
                           A  3594    .LINE 491
                           A  3595    
                           A  3596    ;  492	                switch(token.terminator
                           A  3597    .LINE 492
                           A  3598    
041B48 DD7EF8              A  3599    	LD	A,(IX+%FFFFFFF8)
041B4B 17ED62              A  3600    	SEXT	HL
041B4E DD6EF8              A  3601    	LD	L,(IX+%FFFFFFF8)
041B51 CD 33 6E 04         A  3602    	CALL	__case8D
041B55 E9                  A  3603    	JP	(HL)
041B56                     A  3604    L__80:
041B56 0300                A  3605    	DW	3
041B58 00                  A  3606    	DB	0
041B59 881B04              A  3607    	DW24	L_218	
                           A  3608    
041B5C 2C                  A  3609    	DB	44
041B5D 971B04              A  3610    	DW24	L_219	
                           A  3611    
041B60 3B                  A  3612    	DB	59
041B61 671B04              A  3613    	DW24	L_217	
                           A  3614    
041B64 FC1B04              A  3615    	DW24	L_227	
                           A  3616    
                           A  3617    ;  493	                    case ';':
041B67                     A  3618    L_217:
                           A  3619    .LINE 493
                           A  3620    
                           A  3621    ;  494	                        getLineToken(&t
                           A  3622    .LINE 494
                           A  3623    
041B67 01000000            A  3624    	LD	BC,0
041B6B C5                  A  3625    	PUSH	BC
041B6C DD07F5              A  3626    	LD	BC,(IX+%FFFFFFF5)
041B6F C5                  A  3627    	PUSH	BC
041B70 DDE5E1              A  3628    	LD	HL,IX
041B73 01F4FEFF            A  3629    	LD	BC,-268
041B77 09                  A  3630    	ADD	HL,BC
041B78 E5C1                A  3631    	LD	BC,HL
041B7A C5                  A  3632    	PUSH	BC
041B7B CD D0 59 04         A  3633    	CALL	_getLineToken
041B7F C1                  A  3634    	POP	BC
041B80 C1                  A  3635    	POP	BC
041B81 C1                  A  3636    	POP	BC
                           A  3637    ;  495	                        state = PS_COMM
                           A  3638    .LINE 495
                           A  3639    
041B82 DD36FF05            A  3640    	LD	(IX+%FFFFFFFF),%5
                           A  3641    ;  496	                        break;
                           A  3642    .LINE 496
                           A  3643    
041B86 18 74               A  3644    	JR	L_227
                           A  3645    ;  497	                    case 0:
041B88                     A  3646    L_218:
                           A  3647    .LINE 497
                           A  3648    
                           A  3649    ;  498	                        currentline.nex
                           A  3650    .LINE 498
                           A  3651    
041B88 01000000            A  3652    	LD	BC,0
041B8C ED43 28 97 04       A  3653    	LD	(_currentline+3),BC
                           A  3654    ;  499	                        state = PS_DONE
                           A  3655    .LINE 499
                           A  3656    
041B91 DD36FF06            A  3657    	LD	(IX+%FFFFFFFF),%6
                           A  3658    ;  500	                        break;
                           A  3659    .LINE 500
                           A  3660    
041B95 18 65               A  3661    	JR	L_227
                           A  3662    ;  501	                    case ',':
041B97                     A  3663    L_219:
                           A  3664    .LINE 501
                           A  3665    
                           A  3666    ;  502	                        if(argcount == 
                           A  3667    .LINE 502
                           A  3668    
041B97 DD7EFE              A  3669    	LD	A,(IX+%FFFFFFFE)
041B9A FE02                A  3670    	CP	A,%2
041B9C 20 12               A  3671    	JR	NZ,L_221
                           A  3672    ;  503	                            error(messa
                           A  3673    .LINE 503
                           A  3674    
041B9E 21 DD 71 04         A  3675    	LD	HL,_message+87
041BA2 ED07                A  3676    	LD	BC,(HL)
041BA4 C5                  A  3677    	PUSH	BC
041BA5 CD A1 58 04         A  3678    	CALL	_error
041BA9 C1                  A  3679    	POP	BC
                           A  3680    ;  504	                            state = PS_
                           A  3681    .LINE 504
                           A  3682    
041BAA DD36FF07            A  3683    	LD	(IX+%FFFFFFFF),%7
                           A  3684    ;  505	                            break;
                           A  3685    .LINE 505
                           A  3686    
041BAE 18 4C               A  3687    	JR	L_227
                           A  3688    ;  506	                        }
041BB0                     A  3689    L_221:
                           A  3690    .LINE 506
                           A  3691    
                           A  3692    ;  507	                        getLineToken(&t
                           A  3693    .LINE 507
                           A  3694    
041BB0 012C0000            A  3695    	LD	BC,44
041BB4 C5                  A  3696    	PUSH	BC
041BB5 DD07F5              A  3697    	LD	BC,(IX+%FFFFFFF5)
041BB8 C5                  A  3698    	PUSH	BC
041BB9 DDE5E1              A  3699    	LD	HL,IX
041BBC 01F4FEFF            A  3700    	LD	BC,-268
041BC0 09                  A  3701    	ADD	HL,BC
041BC1 E5C1                A  3702    	LD	BC,HL
041BC3 C5                  A  3703    	PUSH	BC
041BC4 CD D0 59 04         A  3704    	CALL	_getLineToken
041BC8 C1                  A  3705    	POP	BC
041BC9 C1                  A  3706    	POP	BC
041BCA C1                  A  3707    	POP	BC
                           A  3708    ;  508	                        break;
                           A  3709    .LINE 508
                           A  3710    
041BCB 18 2F               A  3711    	JR	L_227
                           A  3712    ;  509	                }
                           A  3713    ;  510	                break;
                           A  3714    ;  511	            case PS_COMMENT:
041BCD                     A  3715    L_224:
                           A  3716    .LINE 511
                           A  3717    
                           A  3718    ;  512	                strcpy(currentline.comm
                           A  3719    .LINE 512
                           A  3720    
041BCD DDE5E1              A  3721    	LD	HL,IX
041BD0 01F4FEFF            A  3722    	LD	BC,-268
041BD4 09                  A  3723    	ADD	HL,BC
041BD5 E5C1                A  3724    	LD	BC,HL
041BD7 C5                  A  3725    	PUSH	BC
041BD8 01 AB 97 04         A  3726    	LD	BC,_currentline+134
041BDC C5                  A  3727    	PUSH	BC
041BDD CD 6F 6E 04         A  3728    	CALL	_strcpy
041BE1 C1                  A  3729    	POP	BC
041BE2 C1                  A  3730    	POP	BC
                           A  3731    ;  513	                state = PS_DONE;
                           A  3732    .LINE 513
                           A  3733    
041BE3 DD36FF06            A  3734    	LD	(IX+%FFFFFFFF),%6
                           A  3735    ;  514	                break;
                           A  3736    .LINE 514
                           A  3737    
041BE7 18 13               A  3738    	JR	L_227
                           A  3739    ;  515	            case PS_ERROR:
041BE9                     A  3740    L_225:
                           A  3741    .LINE 515
                           A  3742    
                           A  3743    ;  516	                //error(message[ERROR_P
                           A  3744    ;  517	                currentline.next = NULL
                           A  3745    .LINE 517
                           A  3746    
041BE9 01000000            A  3747    	LD	BC,0
041BED ED43 28 97 04       A  3748    	LD	(_currentline+3),BC
                           A  3749    ;  518	                state = PS_DONE;
                           A  3750    .LINE 518
                           A  3751    
041BF2 DD36FF06            A  3752    	LD	(IX+%FFFFFFFF),%6
                           A  3753    ;  519	                break;
                           A  3754    .LINE 519
                           A  3755    
041BF6 18 04               A  3756    	JR	L_227
                           A  3757    ;  520	            case PS_DONE:
041BF8                     A  3758    L_226:
                           A  3759    .LINE 520
                           A  3760    
                           A  3761    ;  521	                done = true;
                           A  3762    .LINE 521
                           A  3763    
041BF8 DD36FC01            A  3764    	LD	(IX+%FFFFFFFC),%1
                           A  3765    ;  522	                break;
                           A  3766    ;  523	        }
                           A  3767    ;  524	    }
041BFC                     A  3768    L_227:
                           A  3769    .LINE 524
                           A  3770    
041BFC DD7EFC              A  3771    	LD	A,(IX+%FFFFFFFC)
041BFF B7                  A  3772    	OR	A,A
041C00 CA 72 18 04         A  3773    	JR	Z,L_228
                           A  3774    ;  525	}
                           A  3775    .LINE 525
                           A  3776    
041C04 DDF9                A  3777    	LD	SP,IX
041C06 DDE1                A  3778    	POP	IX
041C08 C9                  A  3779    	RET	
                           A  3780    
                           A  3781    
                           A  3782    ;**************************** _parseLine ******
                           A  3783    ;Name                         Addr/Register   S
                           A  3784    ;_instruction_table_lookup           IMPORT  --
                           A  3785    ;_split_suffix                       IMPORT  --
                           A  3786    ;_strcpy                             IMPORT  --
                           A  3787    ;_message                            IMPORT  un
                           A  3788    ;_error                              IMPORT  --
                           A  3789    ;_getLineToken                       IMPORT  --
                           A  3790    ;_isspace                            IMPORT  --
                           A  3791    ;_operand2                           IMPORT    
                           A  3792    ;_operand1                           IMPORT    
                           A  3793    ;_currentline                        IMPORT    
                           A  3794    ;token                               IX-268    
                           A  3795    ;G_4                                   IX-7    
                           A  3796    ;done                                  IX-4    
                           A  3797    ;x                                     IX-3    
                           A  3798    ;argcount                              IX-2    
                           A  3799    ;state                                 IX-1    
                           A  3800    ;src                                   IX+6    
                           A  3801    
                           A  3802    
                           A  3803    ; Stack Frame Size: 277 (bytes)
                           A  3804    ;       Spill Code: 0 (instruction)
                           A  3805    
                           A  3806    
                           A  3807    .ENDFUNC "parseLine",525,"_parseLine"
                           A  3808    ;  526	
                           A  3809    ;  527	void definelabel(int32_t num){
041C09                     A  3810    _definelabel:
                           A  3811    .DEFINE "_definelabel"
                           A  3812    
                           A  3813    .VALUE _definelabel
                           A  3814    
                           A  3815    .CLASS 2
                           A  3816    
                           A  3817    .TYPE 65
                           A  3818    
                           A  3819    .ENDEF
                           A  3820    
                           A  3821    .BEGFUNC "definelabel",527,"_definelabel"
                           A  3822    
                           A  3823    .LINE 527
                           A  3824    
                           A  3825    .DEFINE "num"
                           A  3826    
                           A  3827    .CLASS 65
                           A  3828    
                           A  3829    .VALUE 6
                           A  3830    
                           A  3831    .TYPE 5
                           A  3832    
                           A  3833    .ENDEF
                           A  3834    
041C09 DDE5                A  3835    	PUSH	IX
041C0B DD210000 00         A  3836    	LD	IX,0
041C10 DD39                A  3837    	ADD	IX,SP
041C12 C5                  A  3838    	PUSH	BC
                           A  3839    ;  528	    if(strlen(currentline.label)) {
                           A  3840    .LINE 528
                           A  3841    
041C13 01 2B 97 04         A  3842    	LD	BC,_currentline+6
041C17 C5                  A  3843    	PUSH	BC
041C18 CD 0D 67 04         A  3844    	CALL	_strlen
041C1C C1                  A  3845    	POP	BC
041C1D CD E3 6A 04         A  3846    	CALL	__icmpzero
041C21 CA B6 1C 04         A  3847    	JR	Z,L_238
                           A  3848    ;  529	        if(currentline.label[0] == '@')
                           A  3849    .LINE 529
                           A  3850    
041C25 01 2B 97 04         A  3851    	LD	BC,_currentline+6
041C29 DD0FFD              A  3852    	LD	(IX+%FFFFFFFD),BC
041C2C C5E1                A  3853    	LD	HL,BC
041C2E 7E                  A  3854    	LD	A,(HL)
041C2F 47                  A  3855    	LD	B,A
041C30 17ED62              A  3856    	SEXT	HL
041C33 68                  A  3857    	LD	L,B
041C34 01400000            A  3858    	LD	BC,64
041C38 B7                  A  3859    	OR	A,A
041C39 ED42                A  3860    	SBC	HL,BC
041C3B 20 4B               A  3861    	JR	NZ,L_236
                           A  3862    ;  530	            if(currentline.label[1] == 
                           A  3863    .LINE 530
                           A  3864    
041C3D DD27FD              A  3865    	LD	HL,(IX+%FFFFFFFD)
041C40 23                  A  3866    	INC	HL
041C41 7E                  A  3867    	LD	A,(HL)
041C42 47                  A  3868    	LD	B,A
041C43 17ED62              A  3869    	SEXT	HL
041C46 68                  A  3870    	LD	L,B
041C47 01400000            A  3871    	LD	BC,64
041C4B B7                  A  3872    	OR	A,A
041C4C ED42                A  3873    	SBC	HL,BC
041C4E 20 12               A  3874    	JR	NZ,L_232
                           A  3875    ;  531	                writeAnonymousLabel(num
                           A  3876    .LINE 531
                           A  3877    
041C50 DD4E09              A  3878    	LD	C,(IX+%9)
041C53 0600                A  3879    	LD	B,%0
041C55 C5                  A  3880    	PUSH	BC
041C56 DD0706              A  3881    	LD	BC,(IX+%6)
041C59 C5                  A  3882    	PUSH	BC
041C5A CD E4 48 04         A  3883    	CALL	_writeAnonymousLabel
041C5E C1                  A  3884    	POP	BC
041C5F C1                  A  3885    	POP	BC
                           A  3886    ;  532	                return;
                           A  3887    .LINE 532
                           A  3888    
041C60 18 54               A  3889    	JR	L_238
                           A  3890    ;  533	            }
041C62                     A  3891    L_232:
                           A  3892    .LINE 533
                           A  3893    
                           A  3894    ;  534	            if(insertLocalLabel(current
                           A  3895    .LINE 534
                           A  3896    
041C62 DD4E09              A  3897    	LD	C,(IX+%9)
041C65 0600                A  3898    	LD	B,%0
041C67 C5                  A  3899    	PUSH	BC
041C68 DD0706              A  3900    	LD	BC,(IX+%6)
041C6B C5                  A  3901    	PUSH	BC
041C6C DD07FD              A  3902    	LD	BC,(IX+%FFFFFFFD)
041C6F C5                  A  3903    	PUSH	BC
041C70 CD 8B 49 04         A  3904    	CALL	_insertLocalLabel
041C74 C1                  A  3905    	POP	BC
041C75 C1                  A  3906    	POP	BC
041C76 C1                  A  3907    	POP	BC
041C77 B7                  A  3908    	OR	A,A
041C78 20 3C               A  3909    	JR	NZ,L_238
                           A  3910    ;  535	                error(message[ERROR_CRE
                           A  3911    .LINE 535
                           A  3912    
041C7A 21 E3 71 04         A  3913    	LD	HL,_message+93
041C7E ED07                A  3914    	LD	BC,(HL)
041C80 C5                  A  3915    	PUSH	BC
041C81 CD A1 58 04         A  3916    	CALL	_error
041C85 C1                  A  3917    	POP	BC
                           A  3918    ;  536	                return;
                           A  3919    .LINE 536
                           A  3920    
041C86 18 2E               A  3921    	JR	L_238
                           A  3922    ;  537	            }
                           A  3923    ;  538	        }
                           A  3924    ;  539	        else {
041C88                     A  3925    L_236:
                           A  3926    .LINE 539
                           A  3927    
                           A  3928    ;  540	            if(insertGlobalLabel(curren
                           A  3929    .LINE 540
                           A  3930    
041C88 DD4E09              A  3931    	LD	C,(IX+%9)
041C8B 0600                A  3932    	LD	B,%0
041C8D C5                  A  3933    	PUSH	BC
041C8E DD0706              A  3934    	LD	BC,(IX+%6)
041C91 C5                  A  3935    	PUSH	BC
041C92 DD07FD              A  3936    	LD	BC,(IX+%FFFFFFFD)
041C95 C5                  A  3937    	PUSH	BC
041C96 CD 87 4B 04         A  3938    	CALL	_insertGlobalLabel
041C9A C1                  A  3939    	POP	BC
041C9B C1                  A  3940    	POP	BC
041C9C C1                  A  3941    	POP	BC
041C9D B7                  A  3942    	OR	A,A
041C9E 20 0E               A  3943    	JR	NZ,L_234
                           A  3944    ;  541	                error(message[ERROR_CRE
                           A  3945    .LINE 541
                           A  3946    
041CA0 21 E3 71 04         A  3947    	LD	HL,_message+93
041CA4 ED07                A  3948    	LD	BC,(HL)
041CA6 C5                  A  3949    	PUSH	BC
041CA7 CD A1 58 04         A  3950    	CALL	_error
041CAB C1                  A  3951    	POP	BC
                           A  3952    ;  542	                return;
                           A  3953    .LINE 542
                           A  3954    
041CAC 18 08               A  3955    	JR	L_238
                           A  3956    ;  543	            }
041CAE                     A  3957    L_234:
                           A  3958    .LINE 543
                           A  3959    
                           A  3960    ;  544	            writeLocalLabels();
                           A  3961    .LINE 544
                           A  3962    
041CAE CD DD 46 04         A  3963    	CALL	_writeLocalLabels
                           A  3964    ;  545	            clearLocalLabels();
                           A  3965    .LINE 545
                           A  3966    
041CB2 CD E4 45 04         A  3967    	CALL	_clearLocalLabels
                           A  3968    ;  546	        }
                           A  3969    ;  547	    }
                           A  3970    ;  548	}
041CB6                     A  3971    L_238:
                           A  3972    .LINE 548
                           A  3973    
041CB6 DDF9                A  3974    	LD	SP,IX
041CB8 DDE1                A  3975    	POP	IX
041CBA C9                  A  3976    	RET	
                           A  3977    
                           A  3978    
                           A  3979    ;**************************** _definelabel ****
                           A  3980    ;Name                         Addr/Register   S
                           A  3981    ;_clearLocalLabels                   IMPORT  --
                           A  3982    ;_writeLocalLabels                   IMPORT  --
                           A  3983    ;_insertGlobalLabel                  IMPORT  --
                           A  3984    ;_message                            IMPORT  un
                           A  3985    ;_error                              IMPORT  --
                           A  3986    ;_insertLocalLabel                   IMPORT  --
                           A  3987    ;_writeAnonymousLabel                IMPORT  --
                           A  3988    ;_currentline                        IMPORT    
                           A  3989    ;_strlen                             IMPORT  --
                           A  3990    ;G_6                                   IX-3    
                           A  3991    ;num                                   IX+6    
                           A  3992    
                           A  3993    
                           A  3994    ; Stack Frame Size: 15 (bytes)
                           A  3995    ;       Spill Code: 0 (instruction)
                           A  3996    
                           A  3997    
                           A  3998    .ENDFUNC "definelabel",548,"_definelabel"
                           A  3999    ;  549	
                           A  4000    ;  550	void refreshlocalLabels(void) {
041CBB                     A  4001    _refreshlocalLabels:
                           A  4002    .DEFINE "_refreshlocalLabels"
                           A  4003    
                           A  4004    .VALUE _refreshlocalLabels
                           A  4005    
                           A  4006    .CLASS 2
                           A  4007    
                           A  4008    .TYPE 65
                           A  4009    
                           A  4010    .ENDEF
                           A  4011    
                           A  4012    .BEGFUNC "refreshlocalLabels",550,"_refreshloca
                           A  4013    
041CBB DDE5                A  4014    	PUSH	IX
041CBD DD210000 00         A  4015    	LD	IX,0
041CC2 DD39                A  4016    	ADD	IX,SP
                           A  4017    ;  551	    if(pass == 2) {
                           A  4018    .LINE 551
                           A  4019    
041CC4 01020000            A  4020    	LD	BC,2
041CC8 2A 17 97 04         A  4021    	LD	HL,(_pass)
041CCC B7                  A  4022    	OR	A,A
041CCD ED42                A  4023    	SBC	HL,BC
041CCF 20 27               A  4024    	JR	NZ,L_242
                           A  4025    ;  552	        if(notEmpty(currentline.label))
                           A  4026    .LINE 552
                           A  4027    
041CD1 01 2B 97 04         A  4028    	LD	BC,_currentline+6
041CD5 C5                  A  4029    	PUSH	BC
041CD6 CD 87 58 04         A  4030    	CALL	_notEmpty
041CDA C1                  A  4031    	POP	BC
041CDB B7                  A  4032    	OR	A,A
041CDC 28 1A               A  4033    	JR	Z,L_242
                           A  4034    ;  553	            if(currentline.label[0] != 
                           A  4035    .LINE 553
                           A  4036    
041CDE 3A 2B 97 04         A  4037    	LD	A,(_currentline+6)
041CE2 47                  A  4038    	LD	B,A
041CE3 17ED62              A  4039    	SEXT	HL
041CE6 68                  A  4040    	LD	L,B
041CE7 01400000            A  4041    	LD	BC,64
041CEB B7                  A  4042    	OR	A,A
041CEC ED42                A  4043    	SBC	HL,BC
041CEE 28 08               A  4044    	JR	Z,L_242
                           A  4045    ;  554	                clearLocalLabels();
                           A  4046    .LINE 554
                           A  4047    
041CF0 CD E4 45 04         A  4048    	CALL	_clearLocalLabels
                           A  4049    ;  555	                readLocalLabels();
                           A  4050    .LINE 555
                           A  4051    
041CF4 CD E0 47 04         A  4052    	CALL	_readLocalLabels
                           A  4053    ;  556	            }
                           A  4054    ;  557	        }
                           A  4055    ;  558	    }
                           A  4056    ;  559	}
041CF8                     A  4057    L_242:
                           A  4058    .LINE 559
                           A  4059    
041CF8 DDF9                A  4060    	LD	SP,IX
041CFA DDE1                A  4061    	POP	IX
041CFC C9                  A  4062    	RET	
                           A  4063    
                           A  4064    
                           A  4065    ;**************************** _refreshlocalLabe
                           A  4066    ;Name                         Addr/Register   S
                           A  4067    ;_readLocalLabels                    IMPORT  --
                           A  4068    ;_clearLocalLabels                   IMPORT  --
                           A  4069    ;_currentline                        IMPORT    
                           A  4070    ;_notEmpty                           IMPORT  --
                           A  4071    ;_pass                               IMPORT    
                           A  4072    
                           A  4073    
                           A  4074    ; Stack Frame Size: 6 (bytes)
                           A  4075    ;       Spill Code: 0 (instruction)
                           A  4076    
                           A  4077    
                           A  4078    .ENDFUNC "refreshlocalLabels",559,"_refreshloca
                           A  4079    ;  560	
                           A  4080    ;  561	// return ADL prefix bitfield, or 0 if 
                           A  4081    ;  562	uint8_t getADLsuffix(void) {
041CFD                     A  4082    _getADLsuffix:
                           A  4083    .DEFINE "_getADLsuffix"
                           A  4084    
                           A  4085    .VALUE _getADLsuffix
                           A  4086    
                           A  4087    .CLASS 2
                           A  4088    
                           A  4089    .TYPE 76
                           A  4090    
                           A  4091    .ENDEF
                           A  4092    
                           A  4093    .BEGFUNC "getADLsuffix",562,"_getADLsuffix"
                           A  4094    
041CFD DDE5                A  4095    	PUSH	IX
041CFF DD210000 00         A  4096    	LD	IX,0
041D04 DD39                A  4097    	ADD	IX,SP
041D06 ED22F4              A  4098    	LEA	HL,IX+%FFFFFFF4
041D09 F9                  A  4099    	LD	SP,HL
                           A  4100    ;  563	    if(notEmpty(currentline.suffix)) {
                           A  4101    .LINE 563
                           A  4102    
041D0A 01 5B 97 04         A  4103    	LD	BC,_currentline+54
041D0E C5                  A  4104    	PUSH	BC
041D0F CD 87 58 04         A  4105    	CALL	_notEmpty
041D13 C1                  A  4106    	POP	BC
041D14 B7                  A  4107    	OR	A,A
041D15 CA A0 1E 04         A  4108    	JR	Z,L_285
                           A  4109    ;  564	        switch(strlen(currentline.suffi
                           A  4110    .LINE 564
                           A  4111    
041D19 01 5B 97 04         A  4112    	LD	BC,_currentline+54
041D1D C5                  A  4113    	PUSH	BC
041D1E CD 0D 67 04         A  4114    	CALL	_strlen
041D22 C1                  A  4115    	POP	BC
041D23 CD 64 64 04         A  4116    	CALL	__seqcaseD
041D27 E9                  A  4117    	JP	(HL)
041D28                     A  4118    L__95:
041D28 0300                A  4119    	DW	3
041D2A 0100                A  4120    	DW	1
041D2C 00                  A  4121    	DB	0
041D2D 391D04              A  4122    	DW24	L_243	
                           A  4123    
041D30 801D04              A  4124    	DW24	L_254	
                           A  4125    
041D33 E81D04              A  4126    	DW24	L_267	
                           A  4127    
041D36 941E04              A  4128    	DW24	L_283	
                           A  4129    
                           A  4130    ;  565	            case 1: // .s or .l
041D39                     A  4131    L_243:
                           A  4132    .LINE 565
                           A  4133    
                           A  4134    ;  566	                switch(tolower(currentl
                           A  4135    .LINE 566
                           A  4136    
041D39 3A 5B 97 04         A  4137    	LD	A,(_currentline+54)
041D3D 47                  A  4138    	LD	B,A
041D3E 17ED62              A  4139    	SEXT	HL
041D41 68                  A  4140    	LD	L,B
041D42 E5                  A  4141    	PUSH	HL
041D43 CD D0 6E 04         A  4142    	CALL	_tolower
041D47 C1                  A  4143    	POP	BC
041D48 CD 33 6E 04         A  4144    	CALL	__case8D
041D4C E9                  A  4145    	JP	(HL)
041D4D                     A  4146    L__96:
041D4D 0200                A  4147    	DW	2
041D4F 6C                  A  4148    	DB	108
041D50 6D1D04              A  4149    	DW24	L_248	
                           A  4150    
041D53 73                  A  4151    	DB	115
041D54 5A1D04              A  4152    	DW24	L_244	
                           A  4153    
041D57 941E04              A  4154    	DW24	L_283	
                           A  4155    
                           A  4156    ;  567	                    case 's':
041D5A                     A  4157    L_244:
                           A  4158    .LINE 567
                           A  4159    
                           A  4160    ;  568	                        if(adlmode) ret
                           A  4161    .LINE 568
                           A  4162    
041D5A 3A 24 97 04         A  4163    	LD	A,(_adlmode)
041D5E B7                  A  4164    	OR	A,A
041D5F 28 06               A  4165    	JR	Z,L_246
041D61 3E04                A  4166    	LD	A,%4
041D63 C3 A1 1E 04         A  4167    	JR	L_286
                           A  4168    ;  569	                        else return S_S
041D67                     A  4169    L_246:
                           A  4170    .LINE 569
                           A  4171    
041D67 3E01                A  4172    	LD	A,%1
041D69 C3 A1 1E 04         A  4173    	JR	L_286
                           A  4174    ;  570	                        break;
                           A  4175    ;  571	                    case 'l':
041D6D                     A  4176    L_248:
                           A  4177    .LINE 571
                           A  4178    
                           A  4179    ;  572	                        if(adlmode) ret
                           A  4180    .LINE 572
                           A  4181    
041D6D 3A 24 97 04         A  4182    	LD	A,(_adlmode)
041D71 B7                  A  4183    	OR	A,A
041D72 28 06               A  4184    	JR	Z,L_250
041D74 3E08                A  4185    	LD	A,%8
041D76 C3 A1 1E 04         A  4186    	JR	L_286
                           A  4187    ;  573	                        else return S_L
041D7A                     A  4188    L_250:
                           A  4189    .LINE 573
                           A  4190    
041D7A 3E02                A  4191    	LD	A,%2
041D7C C3 A1 1E 04         A  4192    	JR	L_286
                           A  4193    ;  574	                        break;
                           A  4194    ;  575	                    default: // illegal
                           A  4195    ;  576	                        break;
                           A  4196    ;  577	                }
                           A  4197    ;  578	                break;
                           A  4198    ;  579	            case 2: // .is or .il
041D80                     A  4199    L_254:
                           A  4200    .LINE 579
                           A  4201    
                           A  4202    ;  580	                if(tolower(currentline.
                           A  4203    .LINE 580
                           A  4204    
041D80 01 5B 97 04         A  4205    	LD	BC,_currentline+54
041D84 DD0FFA              A  4206    	LD	(IX+%FFFFFFFA),BC
041D87 C5E1                A  4207    	LD	HL,BC
041D89 7E                  A  4208    	LD	A,(HL)
041D8A 47                  A  4209    	LD	B,A
041D8B 17ED62              A  4210    	SEXT	HL
041D8E 68                  A  4211    	LD	L,B
041D8F E5                  A  4212    	PUSH	HL
041D90 CD D0 6E 04         A  4213    	CALL	_tolower
041D94 C1                  A  4214    	POP	BC
041D95 01690000            A  4215    	LD	BC,105
041D99 B7                  A  4216    	OR	A,A
041D9A ED42                A  4217    	SBC	HL,BC
041D9C C2 94 1E 04         A  4218    	JR	NZ,L_283
                           A  4219    ;  581	                switch(tolower(currentl
                           A  4220    .LINE 581
                           A  4221    
041DA0 DD27FA              A  4222    	LD	HL,(IX+%FFFFFFFA)
041DA3 23                  A  4223    	INC	HL
041DA4 7E                  A  4224    	LD	A,(HL)
041DA5 47                  A  4225    	LD	B,A
041DA6 17ED62              A  4226    	SEXT	HL
041DA9 68                  A  4227    	LD	L,B
041DAA E5                  A  4228    	PUSH	HL
041DAB CD D0 6E 04         A  4229    	CALL	_tolower
041DAF C1                  A  4230    	POP	BC
041DB0 CD 33 6E 04         A  4231    	CALL	__case8D
041DB4 E9                  A  4232    	JP	(HL)
041DB5                     A  4233    L__100:
041DB5 0200                A  4234    	DW	2
041DB7 6C                  A  4235    	DB	108
041DB8 D51D04              A  4236    	DW24	L_260	
                           A  4237    
041DBB 73                  A  4238    	DB	115
041DBC C21D04              A  4239    	DW24	L_256	
                           A  4240    
041DBF 941E04              A  4241    	DW24	L_283	
                           A  4242    
                           A  4243    ;  582	                    case 's':
041DC2                     A  4244    L_256:
                           A  4245    .LINE 582
                           A  4246    
                           A  4247    ;  583	                        if(adlmode) ret
                           A  4248    .LINE 583
                           A  4249    
041DC2 3A 24 97 04         A  4250    	LD	A,(_adlmode)
041DC6 B7                  A  4251    	OR	A,A
041DC7 28 06               A  4252    	JR	Z,L_258
041DC9 3E02                A  4253    	LD	A,%2
041DCB C3 A1 1E 04         A  4254    	JR	L_286
                           A  4255    ;  584	                        else return S_S
041DCF                     A  4256    L_258:
                           A  4257    .LINE 584
                           A  4258    
041DCF 3E01                A  4259    	LD	A,%1
041DD1 C3 A1 1E 04         A  4260    	JR	L_286
                           A  4261    ;  585	                        break;
                           A  4262    ;  586	                    case 'l':
041DD5                     A  4263    L_260:
                           A  4264    .LINE 586
                           A  4265    
                           A  4266    ;  587	                        if(adlmode) ret
                           A  4267    .LINE 587
                           A  4268    
041DD5 3A 24 97 04         A  4269    	LD	A,(_adlmode)
041DD9 B7                  A  4270    	OR	A,A
041DDA 28 06               A  4271    	JR	Z,L_262
041DDC 3E08                A  4272    	LD	A,%8
041DDE C3 A1 1E 04         A  4273    	JR	L_286
                           A  4274    ;  588	                        else return S_S
041DE2                     A  4275    L_262:
                           A  4276    .LINE 588
                           A  4277    
041DE2 3E04                A  4278    	LD	A,%4
041DE4 C3 A1 1E 04         A  4279    	JR	L_286
                           A  4280    ;  589	                        break;
                           A  4281    ;  590	                    default: // illegal
                           A  4282    ;  591	                        break;
                           A  4283    ;  592	                }
                           A  4284    ;  593	                break;
                           A  4285    ;  594	            case 3:
041DE8                     A  4286    L_267:
                           A  4287    .LINE 594
                           A  4288    
                           A  4289    ;  595	                if(tolower(currentline.
                           A  4290    .LINE 595
                           A  4291    
041DE8 01 5B 97 04         A  4292    	LD	BC,_currentline+54
041DEC DD0FFD              A  4293    	LD	(IX+%FFFFFFFD),BC
041DEF C5E1                A  4294    	LD	HL,BC
041DF1 23                  A  4295    	INC	HL
041DF2 7E                  A  4296    	LD	A,(HL)
041DF3 47                  A  4297    	LD	B,A
041DF4 17ED62              A  4298    	SEXT	HL
041DF7 68                  A  4299    	LD	L,B
041DF8 E5                  A  4300    	PUSH	HL
041DF9 CD D0 6E 04         A  4301    	CALL	_tolower
041DFD C1                  A  4302    	POP	BC
041DFE 01690000            A  4303    	LD	BC,105
041E02 B7                  A  4304    	OR	A,A
041E03 ED42                A  4305    	SBC	HL,BC
041E05 C2 94 1E 04         A  4306    	JR	NZ,L_283
                           A  4307    ;  596	                switch(tolower(currentl
                           A  4308    .LINE 596
                           A  4309    
041E09 DD27FD              A  4310    	LD	HL,(IX+%FFFFFFFD)
041E0C 7E                  A  4311    	LD	A,(HL)
041E0D 47                  A  4312    	LD	B,A
041E0E 17ED62              A  4313    	SEXT	HL
041E11 68                  A  4314    	LD	L,B
041E12 E5                  A  4315    	PUSH	HL
041E13 CD D0 6E 04         A  4316    	CALL	_tolower
041E17 C1                  A  4317    	POP	BC
041E18 CD 33 6E 04         A  4318    	CALL	__case8D
041E1C E9                  A  4319    	JP	(HL)
041E1D                     A  4320    L__104:
041E1D 0200                A  4321    	DW	2
041E1F 6C                  A  4322    	DB	108
041E20 5F1E04              A  4323    	DW24	L_274	
                           A  4324    
041E23 73                  A  4325    	DB	115
041E24 2A1E04              A  4326    	DW24	L_269	
                           A  4327    
041E27 941E04              A  4328    	DW24	L_283	
                           A  4329    
                           A  4330    ;  597	                    case 's':
041E2A                     A  4331    L_269:
                           A  4332    .LINE 597
                           A  4333    
                           A  4334    ;  598	                        if(currentline.
                           A  4335    .LINE 598
                           A  4336    
041E2A DD31FD              A  4337    	LD	IY,(IX+%FFFFFFFD)
041E2D ED3302              A  4338    	LEA	IY,IY+%2
041E30 DD3EF7              A  4339    	LD	(IX+%FFFFFFF7),IY
041E33 DD27F7              A  4340    	LD	HL,(IX+%FFFFFFF7)
041E36 7E                  A  4341    	LD	A,(HL)
041E37 47                  A  4342    	LD	B,A
041E38 17ED62              A  4343    	SEXT	HL
041E3B 68                  A  4344    	LD	L,B
041E3C 01730000            A  4345    	LD	BC,115
041E40 B7                  A  4346    	OR	A,A
041E41 ED42                A  4347    	SBC	HL,BC
041E43 20 04               A  4348    	JR	NZ,L_272
041E45 3E01                A  4349    	LD	A,%1
041E47 18 58               A  4350    	JR	L_286
041E49                     A  4351    L_272:
                           A  4352    ;  599	                        if(currentline.
                           A  4353    .LINE 599
                           A  4354    
041E49 DD27F7              A  4355    	LD	HL,(IX+%FFFFFFF7)
041E4C 7E                  A  4356    	LD	A,(HL)
041E4D 47                  A  4357    	LD	B,A
041E4E 17ED62              A  4358    	SEXT	HL
041E51 68                  A  4359    	LD	L,B
041E52 016C0000            A  4360    	LD	BC,108
041E56 B7                  A  4361    	OR	A,A
041E57 ED42                A  4362    	SBC	HL,BC
041E59 20 39               A  4363    	JR	NZ,L_283
041E5B 3E04                A  4364    	LD	A,%4
041E5D 18 42               A  4365    	JR	L_286
                           A  4366    ;  600	                        // illegal suff
                           A  4367    ;  601	                        break;
                           A  4368    .LINE 601
                           A  4369    
                           A  4370    ;  602	                    case 'l':
041E5F                     A  4371    L_274:
                           A  4372    .LINE 602
                           A  4373    
                           A  4374    ;  603	                        if(currentline.
                           A  4375    .LINE 603
                           A  4376    
041E5F DD31FD              A  4377    	LD	IY,(IX+%FFFFFFFD)
041E62 ED3302              A  4378    	LEA	IY,IY+%2
041E65 DD3EF4              A  4379    	LD	(IX+%FFFFFFF4),IY
041E68 DD27F4              A  4380    	LD	HL,(IX+%FFFFFFF4)
041E6B 7E                  A  4381    	LD	A,(HL)
041E6C 47                  A  4382    	LD	B,A
041E6D 17ED62              A  4383    	SEXT	HL
041E70 68                  A  4384    	LD	L,B
041E71 01730000            A  4385    	LD	BC,115
041E75 B7                  A  4386    	OR	A,A
041E76 ED42                A  4387    	SBC	HL,BC
041E78 20 04               A  4388    	JR	NZ,L_277
041E7A 3E02                A  4389    	LD	A,%2
041E7C 18 23               A  4390    	JR	L_286
041E7E                     A  4391    L_277:
                           A  4392    ;  604	                        if(currentline.
                           A  4393    .LINE 604
                           A  4394    
041E7E DD27F4              A  4395    	LD	HL,(IX+%FFFFFFF4)
041E81 7E                  A  4396    	LD	A,(HL)
041E82 47                  A  4397    	LD	B,A
041E83 17ED62              A  4398    	SEXT	HL
041E86 68                  A  4399    	LD	L,B
041E87 016C0000            A  4400    	LD	BC,108
041E8B B7                  A  4401    	OR	A,A
041E8C ED42                A  4402    	SBC	HL,BC
041E8E 20 04               A  4403    	JR	NZ,L_283
041E90 3E08                A  4404    	LD	A,%8
041E92 18 0D               A  4405    	JR	L_286
                           A  4406    ;  605	                        // illegal suff
                           A  4407    ;  606	                        break;
                           A  4408    ;  607	                    default: // illegal
                           A  4409    ;  608	                        break;
                           A  4410    ;  609	                }
                           A  4411    ;  610	                break;
                           A  4412    ;  611	            default: // illegal suffix
                           A  4413    ;  612	                break;
                           A  4414    ;  613	        }
041E94                     A  4415    L_283:
                           A  4416    .LINE 613
                           A  4417    
                           A  4418    ;  614	        error(message[ERROR_INVALIDSUFF
                           A  4419    .LINE 614
                           A  4420    
041E94 21 AA 71 04         A  4421    	LD	HL,_message+36
041E98 ED07                A  4422    	LD	BC,(HL)
041E9A C5                  A  4423    	PUSH	BC
041E9B CD A1 58 04         A  4424    	CALL	_error
041E9F C1                  A  4425    	POP	BC
                           A  4426    ;  615	    }
041EA0                     A  4427    L_285:
                           A  4428    .LINE 615
                           A  4429    
                           A  4430    ;  616	    return 0;
                           A  4431    .LINE 616
                           A  4432    
041EA0 AF                  A  4433    	XOR	A,A
                           A  4434    ;  617	}
041EA1                     A  4435    L_286:
                           A  4436    .LINE 617
                           A  4437    
041EA1 DDF9                A  4438    	LD	SP,IX
041EA3 DDE1                A  4439    	POP	IX
041EA5 C9                  A  4440    	RET	
                           A  4441    
                           A  4442    
                           A  4443    ;**************************** _getADLsuffix ***
                           A  4444    ;Name                         Addr/Register   S
                           A  4445    ;_message                            IMPORT  un
                           A  4446    ;_error                              IMPORT  --
                           A  4447    ;_adlmode                            IMPORT    
                           A  4448    ;_tolower                            IMPORT  --
                           A  4449    ;_strlen                             IMPORT  --
                           A  4450    ;_currentline                        IMPORT    
                           A  4451    ;_notEmpty                           IMPORT  --
                           A  4452    ;G_14                                 IX-12    
                           A  4453    ;G_12                                  IX-9    
                           A  4454    ;G_9                                   IX-6    
                           A  4455    ;G_10                                  IX-3    
                           A  4456    
                           A  4457    
                           A  4458    ; Stack Frame Size: 18 (bytes)
                           A  4459    ;       Spill Code: 0 (instruction)
                           A  4460    
                           A  4461    
                           A  4462    .ENDFUNC "getADLsuffix",617,"_getADLsuffix"
                           A  4463    ;  618	
                           A  4464    ;  619	void adl_action() {
041EA6                     A  4465    _adl_action:
                           A  4466    .DEFINE "_adl_action"
                           A  4467    
                           A  4468    .VALUE _adl_action
                           A  4469    
                           A  4470    .CLASS 2
                           A  4471    
                           A  4472    .TYPE 65
                           A  4473    
                           A  4474    .ENDEF
                           A  4475    
                           A  4476    .BEGFUNC "adl_action",619,"_adl_action"
                           A  4477    
041EA6 DDE5                A  4478    	PUSH	IX
041EA8 DD210000 00         A  4479    	LD	IX,0
041EAD DD39                A  4480    	ADD	IX,SP
                           A  4481    ;  620	    if(strcmp(currentline.operand1, "0"
                           A  4482    .LINE 620
                           A  4483    
041EAF 01 F4 8C 04         A  4484    	LD	BC,L__110
041EB3 C5                  A  4485    	PUSH	BC
041EB4 01 6B 97 04         A  4486    	LD	BC,_currentline+70
041EB8 C5                  A  4487    	PUSH	BC
041EB9 CD 79 66 04         A  4488    	CALL	_strcmp
041EBD C1                  A  4489    	POP	BC
041EBE C1                  A  4490    	POP	BC
041EBF CD E3 6A 04         A  4491    	CALL	__icmpzero
041EC3 20 05               A  4492    	JR	NZ,L_289
041EC5 AF                  A  4493    	XOR	A,A
041EC6 32 24 97 04         A  4494    	LD	(_adlmode),A
041ECA                     A  4495    L_289:
                           A  4496    ;  621	    if(strcmp(currentline.operand1, "1"
                           A  4497    .LINE 621
                           A  4498    
041ECA 01 F6 8C 04         A  4499    	LD	BC,L__112
041ECE C5                  A  4500    	PUSH	BC
041ECF 01 6B 97 04         A  4501    	LD	BC,_currentline+70
041ED3 C5                  A  4502    	PUSH	BC
041ED4 CD 79 66 04         A  4503    	CALL	_strcmp
041ED8 C1                  A  4504    	POP	BC
041ED9 C1                  A  4505    	POP	BC
041EDA CD E3 6A 04         A  4506    	CALL	__icmpzero
041EDE 20 06               A  4507    	JR	NZ,L_290
041EE0 3E01                A  4508    	LD	A,%1
041EE2 32 24 97 04         A  4509    	LD	(_adlmode),A
                           A  4510    ;  622	}
041EE6                     A  4511    L_290:
                           A  4512    .LINE 622
                           A  4513    
041EE6 DDF9                A  4514    	LD	SP,IX
041EE8 DDE1                A  4515    	POP	IX
041EEA C9                  A  4516    	RET	
                           A  4517    
                           A  4518    
                           A  4519    ;**************************** _adl_action *****
                           A  4520    ;Name                         Addr/Register   S
                           A  4521    ;_adlmode                            IMPORT    
                           A  4522    ;_currentline                        IMPORT    
                           A  4523    ;_strcmp                             IMPORT  --
                           A  4524    
                           A  4525    
                           A  4526    ; Stack Frame Size: 6 (bytes)
                           A  4527    ;       Spill Code: 0 (instruction)
                           A  4528    
                           A  4529    
                           A  4530    .ENDFUNC "adl_action",622,"_adl_action"
                           A  4531    	SEGMENT STRSECT
048CF4                     A  4532    L__110:
048CF4 30                  A  4533    	DB	"0"
048CF5 00                  A  4534    	DB	0
048CF6                     A  4535    L__112:
048CF6 31                  A  4536    	DB	"1"
048CF7 00                  A  4537    	DB	0
                           A  4538    	SEGMENT CODE
                           A  4539    ;  623	
                           A  4540    ;  624	// get the number of bytes to emit from
                           A  4541    ;  625	uint8_t get_immediate_size(operand *op,
041EEB                     A  4542    _get_immediate_size:
                           A  4543    .DEFINE "_get_immediate_size"
                           A  4544    
                           A  4545    .VALUE _get_immediate_size
                           A  4546    
                           A  4547    .CLASS 2
                           A  4548    
                           A  4549    .TYPE 76
                           A  4550    
                           A  4551    .ENDEF
                           A  4552    
                           A  4553    .BEGFUNC "get_immediate_size",625,"_get_immedia
                           A  4554    
                           A  4555    .LINE 625
                           A  4556    
                           A  4557    .DEFINE "op"
                           A  4558    
                           A  4559    .CLASS 65
                           A  4560    
                           A  4561    .VALUE 6
                           A  4562    
                           A  4563    .TAG "NONAME3"
                           A  4564    
                           A  4565    .TYPE 40
                           A  4566    
                           A  4567    .ENDEF
                           A  4568    
                           A  4569    .DEFINE "suffix"
                           A  4570    
                           A  4571    .CLASS 65
                           A  4572    
                           A  4573    .VALUE 9
                           A  4574    
                           A  4575    .TYPE 12
                           A  4576    
                           A  4577    .ENDEF
                           A  4578    
                           A  4579    .DEFINE "num"
                           A  4580    
                           A  4581    .CLASS 65
                           A  4582    
                           A  4583    .VALUE -1
                           A  4584    
                           A  4585    .TYPE 12
                           A  4586    
                           A  4587    .ENDEF
                           A  4588    
041EEB DDE5                A  4589    	PUSH	IX
041EED DD210000 00         A  4590    	LD	IX,0
041EF2 DD39                A  4591    	ADD	IX,SP
041EF4 3B                  A  4592    	DEC	SP
                           A  4593    ;  626	    uint8_t num;
                           A  4594    ;  627	    switch(suffix) {
                           A  4595    .LINE 627
                           A  4596    
041EF5 DD7E09              A  4597    	LD	A,(IX+%9)
041EF8 B7ED62              A  4598    	UEXT	HL
041EFB 6F                  A  4599    	LD	L,A
041EFC CD 33 6E 04         A  4600    	CALL	__case8D
041F00 E9                  A  4601    	JP	(HL)
041F01                     A  4602    L__115:
041F01 0500                A  4603    	DW	5
041F03 00                  A  4604    	DB	0
041F04 261F04              A  4605    	DW24	L_295	
                           A  4606    
041F07 01                  A  4607    	DB	1
041F08 1A1F04              A  4608    	DW24	L_291	
                           A  4609    
041F0B 02                  A  4610    	DB	2
041F0C 1A1F04              A  4611    	DW24	L_292	
                           A  4612    
041F0F 04                  A  4613    	DB	4
041F10 201F04              A  4614    	DW24	L_293	
                           A  4615    
041F13 08                  A  4616    	DB	8
041F14 201F04              A  4617    	DW24	L_294	
                           A  4618    
041F17 391F04              A  4619    	DW24	L_299	
                           A  4620    
                           A  4621    ;  628	        case S_SIS:
041F1A                     A  4622    L_291:
                           A  4623    .LINE 628
                           A  4624    
                           A  4625    ;  629	        case S_LIS:
041F1A                     A  4626    L_292:
                           A  4627    .LINE 629
                           A  4628    
                           A  4629    ;  630	            num = 2;
                           A  4630    .LINE 630
                           A  4631    
041F1A DD36FF02            A  4632    	LD	(IX+%FFFFFFFF),%2
                           A  4633    ;  631	            break;
                           A  4634    .LINE 631
                           A  4635    
041F1E 18 28               A  4636    	JR	L_302
                           A  4637    ;  632	        case S_SIL:
041F20                     A  4638    L_293:
                           A  4639    .LINE 632
                           A  4640    
                           A  4641    ;  633	        case S_LIL:
041F20                     A  4642    L_294:
                           A  4643    .LINE 633
                           A  4644    
                           A  4645    ;  634	            num = 3;
                           A  4646    .LINE 634
                           A  4647    
041F20 DD36FF03            A  4648    	LD	(IX+%FFFFFFFF),%3
                           A  4649    ;  635	            break;
                           A  4650    .LINE 635
                           A  4651    
041F24 18 22               A  4652    	JR	L_302
                           A  4653    ;  636	        case 0: // Use current ADL mode
041F26                     A  4654    L_295:
                           A  4655    .LINE 636
                           A  4656    
                           A  4657    ;  637	            if(adlmode) num = 3;
                           A  4658    .LINE 637
                           A  4659    
041F26 3A 24 97 04         A  4660    	LD	A,(_adlmode)
041F2A B7                  A  4661    	OR	A,A
041F2B 28 06               A  4662    	JR	Z,L_297
041F2D DD36FF03            A  4663    	LD	(IX+%FFFFFFFF),%3
                           A  4664    ;  638	            else num = 2;
                           A  4665    .LINE 638
                           A  4666    
041F31 18 15               A  4667    	JR	L_302
041F33                     A  4668    L_297:
041F33 DD36FF02            A  4669    	LD	(IX+%FFFFFFFF),%2
                           A  4670    ;  639	            break;
                           A  4671    .LINE 639
                           A  4672    
041F37 18 0F               A  4673    	JR	L_302
                           A  4674    ;  640	        default:
041F39                     A  4675    L_299:
                           A  4676    .LINE 640
                           A  4677    
                           A  4678    ;  641	            error(message[ERROR_INVALID
                           A  4679    .LINE 641
                           A  4680    
041F39 21 98 71 04         A  4681    	LD	HL,_message+18
041F3D ED07                A  4682    	LD	BC,(HL)
041F3F C5                  A  4683    	PUSH	BC
041F40 CD A1 58 04         A  4684    	CALL	_error
041F44 C1                  A  4685    	POP	BC
                           A  4686    ;  642	            return 0;
                           A  4687    .LINE 642
                           A  4688    
041F45 AF                  A  4689    	XOR	A,A
041F46 18 2D               A  4690    	JR	L_304
                           A  4691    ;  643	    }
041F48                     A  4692    L_302:
                           A  4693    .LINE 643
                           A  4694    
                           A  4695    ;  644	    if((num == 2) && (op->immediate > 0
                           A  4696    .LINE 644
                           A  4697    
041F48 DD7EFF              A  4698    	LD	A,(IX+%FFFFFFFF)
041F4B FE02                A  4699    	CP	A,%2
041F4D 20 23               A  4700    	JR	NZ,L_303
041F4F 21FFFF00            A  4701    	LD	HL,65535
041F53 1E00                A  4702    	LD	E,%0
041F55 DD3106              A  4703    	LD	IY,(IX+%6)
041F58 FD070B              A  4704    	LD	BC,(IY+%B)
041F5B FD7E0E              A  4705    	LD	A,(IY+%E)
041F5E CD 1D 6E 04         A  4706    	CALL	__lcmps
041F62 F2 72 1F 04         A  4707    	JP	P,L_303
041F66 21 AD 71 04         A  4708    	LD	HL,_message+39
041F6A ED07                A  4709    	LD	BC,(HL)
041F6C C5                  A  4710    	PUSH	BC
041F6D CD A1 58 04         A  4711    	CALL	_error
041F71 C1                  A  4712    	POP	BC
041F72                     A  4713    L_303:
                           A  4714    ;  645	    return num;
                           A  4715    .LINE 645
                           A  4716    
041F72 DD7EFF              A  4717    	LD	A,(IX+%FFFFFFFF)
                           A  4718    ;  646	}
041F75                     A  4719    L_304:
                           A  4720    .LINE 646
                           A  4721    
041F75 DDF9                A  4722    	LD	SP,IX
041F77 DDE1                A  4723    	POP	IX
041F79 C9                  A  4724    	RET	
                           A  4725    
                           A  4726    
                           A  4727    ;**************************** _get_immediate_si
                           A  4728    ;Name                         Addr/Register   S
                           A  4729    ;_message                            IMPORT  un
                           A  4730    ;_error                              IMPORT  --
                           A  4731    ;_adlmode                            IMPORT    
                           A  4732    ;num                                   IX-1    
                           A  4733    ;suffix                                IX+9    
                           A  4734    ;op                                    IX+6    
                           A  4735    
                           A  4736    
                           A  4737    ; Stack Frame Size: 13 (bytes)
                           A  4738    ;       Spill Code: 0 (instruction)
                           A  4739    
                           A  4740    
                           A  4741    .ENDFUNC "get_immediate_size",646,"_get_immedia
                           A  4742    ;  647	// Emit a 16 or 24 bit immediate number
                           A  4743    ;  648	// given suffix bit, or in lack of it, 
                           A  4744    ;  649	void emit_immediate(operand *op, uint8_
041F7A                     A  4745    _emit_immediate:
                           A  4746    .DEFINE "_emit_immediate"
                           A  4747    
                           A  4748    .VALUE _emit_immediate
                           A  4749    
                           A  4750    .CLASS 2
                           A  4751    
                           A  4752    .TYPE 65
                           A  4753    
                           A  4754    .ENDEF
                           A  4755    
                           A  4756    .BEGFUNC "emit_immediate",649,"_emit_immediate"
                           A  4757    
                           A  4758    .LINE 649
                           A  4759    
                           A  4760    .DEFINE "op"
                           A  4761    
                           A  4762    .CLASS 65
                           A  4763    
                           A  4764    .VALUE 6
                           A  4765    
                           A  4766    .TAG "NONAME3"
                           A  4767    
                           A  4768    .TYPE 40
                           A  4769    
                           A  4770    .ENDEF
                           A  4771    
                           A  4772    .DEFINE "suffix"
                           A  4773    
                           A  4774    .CLASS 65
                           A  4775    
                           A  4776    .VALUE 9
                           A  4777    
                           A  4778    .TYPE 12
                           A  4779    
                           A  4780    .ENDEF
                           A  4781    
                           A  4782    .DEFINE "num"
                           A  4783    
                           A  4784    .CLASS 65
                           A  4785    
                           A  4786    .VALUE -1
                           A  4787    
                           A  4788    .TYPE 12
                           A  4789    
                           A  4790    .ENDEF
                           A  4791    
041F7A DDE5                A  4792    	PUSH	IX
041F7C DD210000 00         A  4793    	LD	IX,0
041F81 DD39                A  4794    	ADD	IX,SP
041F83 3B                  A  4795    	DEC	SP
                           A  4796    ;  650	    uint8_t num;
                           A  4797    ;  651	
                           A  4798    ;  652	    num = get_immediate_size(op, suffix
                           A  4799    .LINE 652
                           A  4800    
041F84 DD4E09              A  4801    	LD	C,(IX+%9)
041F87 0600                A  4802    	LD	B,%0
041F89 C5                  A  4803    	PUSH	BC
041F8A DD0706              A  4804    	LD	BC,(IX+%6)
041F8D C5                  A  4805    	PUSH	BC
041F8E CD EB 1E 04         A  4806    	CALL	_get_immediate_size
041F92 C1                  A  4807    	POP	BC
041F93 C1                  A  4808    	POP	BC
041F94 DD77FF              A  4809    	LD	(IX+%FFFFFFFF),A
                           A  4810    ;  653	    emit_8bit(op->immediate & 0xFF);
                           A  4811    .LINE 653
                           A  4812    
041F97 DD3106              A  4813    	LD	IY,(IX+%6)
041F9A FD460B              A  4814    	LD	B,(IY+%B)
041F9D 78                  A  4815    	LD	A,B
041F9E 4F                  A  4816    	LD	C,A
041F9F 0600                A  4817    	LD	B,%0
041FA1 C5                  A  4818    	PUSH	BC
041FA2 CD 2E 27 04         A  4819    	CALL	_emit_8bit
041FA6 C1                  A  4820    	POP	BC
                           A  4821    ;  654	    emit_8bit((op->immediate >> 8) & 0x
                           A  4822    .LINE 654
                           A  4823    
041FA7 DD3106              A  4824    	LD	IY,(IX+%6)
041FAA FD070B              A  4825    	LD	BC,(IY+%B)
041FAD FD7E0E              A  4826    	LD	A,(IY+%E)
041FB0 2E08                A  4827    	LD	L,%8
041FB2 CD 6F 6A 04         A  4828    	CALL	__lshrs
041FB6 0600                A  4829    	LD	B,%0
041FB8 C5                  A  4830    	PUSH	BC
041FB9 CD 2E 27 04         A  4831    	CALL	_emit_8bit
041FBD C1                  A  4832    	POP	BC
                           A  4833    ;  655	    if(num == 3) emit_8bit((op->immedia
                           A  4834    .LINE 655
                           A  4835    
041FBE DD7EFF              A  4836    	LD	A,(IX+%FFFFFFFF)
041FC1 FE03                A  4837    	CP	A,%3
041FC3 20 17               A  4838    	JR	NZ,L_306
041FC5 DD3106              A  4839    	LD	IY,(IX+%6)
041FC8 FD070B              A  4840    	LD	BC,(IY+%B)
041FCB FD7E0E              A  4841    	LD	A,(IY+%E)
041FCE 2E10                A  4842    	LD	L,%10
041FD0 CD 6F 6A 04         A  4843    	CALL	__lshrs
041FD4 0600                A  4844    	LD	B,%0
041FD6 C5                  A  4845    	PUSH	BC
041FD7 CD 2E 27 04         A  4846    	CALL	_emit_8bit
041FDB C1                  A  4847    	POP	BC
                           A  4848    ;  656	}
041FDC                     A  4849    L_306:
                           A  4850    .LINE 656
                           A  4851    
041FDC DDF9                A  4852    	LD	SP,IX
041FDE DDE1                A  4853    	POP	IX
041FE0 C9                  A  4854    	RET	
                           A  4855    
                           A  4856    
                           A  4857    ;**************************** _emit_immediate *
                           A  4858    ;Name                         Addr/Register   S
                           A  4859    ;_emit_8bit                          IMPORT  --
                           A  4860    ;num                                   IX-1    
                           A  4861    ;suffix                                IX+9    
                           A  4862    ;op                                    IX+6    
                           A  4863    
                           A  4864    
                           A  4865    ; Stack Frame Size: 13 (bytes)
                           A  4866    ;       Spill Code: 0 (instruction)
                           A  4867    
                           A  4868    
                           A  4869    .ENDFUNC "emit_immediate",656,"_emit_immediate"
                           A  4870    ;  657	
                           A  4871    ;  658	void emit_adlsuffix_code(uint8_t suffix
041FE1                     A  4872    _emit_adlsuffix_code:
                           A  4873    .DEFINE "_emit_adlsuffix_code"
                           A  4874    
                           A  4875    .VALUE _emit_adlsuffix_code
                           A  4876    
                           A  4877    .CLASS 2
                           A  4878    
                           A  4879    .TYPE 65
                           A  4880    
                           A  4881    .ENDEF
                           A  4882    
                           A  4883    .BEGFUNC "emit_adlsuffix_code",658,"_emit_adlsu
                           A  4884    
                           A  4885    .LINE 658
                           A  4886    
                           A  4887    .DEFINE "suffix"
                           A  4888    
                           A  4889    .CLASS 65
                           A  4890    
                           A  4891    .VALUE 6
                           A  4892    
                           A  4893    .TYPE 12
                           A  4894    
                           A  4895    .ENDEF
                           A  4896    
                           A  4897    .DEFINE "code"
                           A  4898    
                           A  4899    .CLASS 65
                           A  4900    
                           A  4901    .VALUE -1
                           A  4902    
                           A  4903    .TYPE 12
                           A  4904    
                           A  4905    .ENDEF
                           A  4906    
041FE1 DDE5                A  4907    	PUSH	IX
041FE3 DD210000 00         A  4908    	LD	IX,0
041FE8 DD39                A  4909    	ADD	IX,SP
041FEA 3B                  A  4910    	DEC	SP
                           A  4911    ;  659	    uint8_t code;
                           A  4912    ;  660	    switch(suffix) {
                           A  4913    .LINE 660
                           A  4914    
041FEB DD7E06              A  4915    	LD	A,(IX+%6)
041FEE B7ED62              A  4916    	UEXT	HL
041FF1 6F                  A  4917    	LD	L,A
041FF2 CD 33 6E 04         A  4918    	CALL	__case8D
041FF6 E9                  A  4919    	JP	(HL)
041FF7                     A  4920    L__122:
041FF7 0400                A  4921    	DW	4
041FF9 01                  A  4922    	DB	1
041FFA 0C2004              A  4923    	DW24	L_307	
                           A  4924    
041FFD 02                  A  4925    	DB	2
041FFE 122004              A  4926    	DW24	L_308	
                           A  4927    
042001 04                  A  4928    	DB	4
042002 182004              A  4929    	DW24	L_309	
                           A  4930    
042005 08                  A  4931    	DB	8
042006 1E2004              A  4932    	DW24	L_310	
                           A  4933    
042009 242004              A  4934    	DW24	L_311	
                           A  4935    
                           A  4936    ;  661	        case S_SIS:
04200C                     A  4937    L_307:
                           A  4938    .LINE 661
                           A  4939    
                           A  4940    ;  662	            code = CODE_SIS;
                           A  4941    .LINE 662
                           A  4942    
04200C DD36FF40            A  4943    	LD	(IX+%FFFFFFFF),%40
                           A  4944    ;  663	            break;
                           A  4945    .LINE 663
                           A  4946    
042010 18 20               A  4947    	JR	L_312
                           A  4948    ;  664	        case S_LIS:
042012                     A  4949    L_308:
                           A  4950    .LINE 664
                           A  4951    
                           A  4952    ;  665	            code = CODE_LIS;
                           A  4953    .LINE 665
                           A  4954    
042012 DD36FF49            A  4955    	LD	(IX+%FFFFFFFF),%49
                           A  4956    ;  666	            break;
                           A  4957    .LINE 666
                           A  4958    
042016 18 1A               A  4959    	JR	L_312
                           A  4960    ;  667	        case S_SIL:
042018                     A  4961    L_309:
                           A  4962    .LINE 667
                           A  4963    
                           A  4964    ;  668	            code = CODE_SIL;
                           A  4965    .LINE 668
                           A  4966    
042018 DD36FF52            A  4967    	LD	(IX+%FFFFFFFF),%52
                           A  4968    ;  669	            break;
                           A  4969    .LINE 669
                           A  4970    
04201C 18 14               A  4971    	JR	L_312
                           A  4972    ;  670	        case S_LIL:
04201E                     A  4973    L_310:
                           A  4974    .LINE 670
                           A  4975    
                           A  4976    ;  671	            code = CODE_LIL;
                           A  4977    .LINE 671
                           A  4978    
04201E DD36FF5B            A  4979    	LD	(IX+%FFFFFFFF),%5B
                           A  4980    ;  672	            break;
                           A  4981    .LINE 672
                           A  4982    
042022 18 0E               A  4983    	JR	L_312
                           A  4984    ;  673	        default:
042024                     A  4985    L_311:
                           A  4986    .LINE 673
                           A  4987    
                           A  4988    ;  674	            error(message[ERROR_INVALID
                           A  4989    .LINE 674
                           A  4990    
042024 21 AA 71 04         A  4991    	LD	HL,_message+36
042028 ED07                A  4992    	LD	BC,(HL)
04202A C5                  A  4993    	PUSH	BC
04202B CD A1 58 04         A  4994    	CALL	_error
04202F C1                  A  4995    	POP	BC
                           A  4996    ;  675	            return;
                           A  4997    .LINE 675
                           A  4998    
042030 18 0B               A  4999    	JR	L_313
                           A  5000    ;  676	    }
042032                     A  5001    L_312:
                           A  5002    .LINE 676
                           A  5003    
                           A  5004    ;  677	    emit_8bit(code);
                           A  5005    .LINE 677
                           A  5006    
042032 DD4EFF              A  5007    	LD	C,(IX+%FFFFFFFF)
042035 0600                A  5008    	LD	B,%0
042037 C5                  A  5009    	PUSH	BC
042038 CD 2E 27 04         A  5010    	CALL	_emit_8bit
04203C C1                  A  5011    	POP	BC
                           A  5012    ;  678	}
04203D                     A  5013    L_313:
                           A  5014    .LINE 678
                           A  5015    
04203D DDF9                A  5016    	LD	SP,IX
04203F DDE1                A  5017    	POP	IX
042041 C9                  A  5018    	RET	
                           A  5019    
                           A  5020    
                           A  5021    ;**************************** _emit_adlsuffix_c
                           A  5022    ;Name                         Addr/Register   S
                           A  5023    ;_emit_8bit                          IMPORT  --
                           A  5024    ;_message                            IMPORT  un
                           A  5025    ;_error                              IMPORT  --
                           A  5026    ;code                                  IX-1    
                           A  5027    ;suffix                                IX+6    
                           A  5028    
                           A  5029    
                           A  5030    ; Stack Frame Size: 10 (bytes)
                           A  5031    ;       Spill Code: 0 (instruction)
                           A  5032    
                           A  5033    
                           A  5034    .ENDFUNC "emit_adlsuffix_code",678,"_emit_adlsu
                           A  5035    ;  679	
                           A  5036    ;  680	uint8_t get_ddfd_prefix(cpuregister reg
042042                     A  5037    _get_ddfd_prefix:
                           A  5038    .DEFINE "_get_ddfd_prefix"
                           A  5039    
                           A  5040    .VALUE _get_ddfd_prefix
                           A  5041    
                           A  5042    .CLASS 2
                           A  5043    
                           A  5044    .TYPE 76
                           A  5045    
                           A  5046    .ENDEF
                           A  5047    
                           A  5048    .BEGFUNC "get_ddfd_prefix",680,"_get_ddfd_prefi
                           A  5049    
                           A  5050    .LINE 680
                           A  5051    
                           A  5052    .DEFINE "reg"
                           A  5053    
                           A  5054    .CLASS 65
                           A  5055    
                           A  5056    .VALUE 6
                           A  5057    
                           A  5058    .TYPE 4
                           A  5059    
                           A  5060    .ENDEF
                           A  5061    
042042 DDE5                A  5062    	PUSH	IX
042044 DD210000 00         A  5063    	LD	IX,0
042049 DD39                A  5064    	ADD	IX,SP
                           A  5065    ;  681	    switch(reg) {
                           A  5066    .LINE 681
                           A  5067    
04204B DD2706              A  5068    	LD	HL,(IX+%6)
04204E CD 64 64 04         A  5069    	CALL	__seqcaseD
042052 E9                  A  5070    	JP	(HL)
042053                     A  5071    L__124:
042053 0600                A  5072    	DW	6
042055 0D00                A  5073    	DW	13
042057 00                  A  5074    	DB	0
042058 6D2004              A  5075    	DW24	L_314	
                           A  5076    
04205B 712004              A  5077    	DW24	L_317	
                           A  5078    
04205E 6D2004              A  5079    	DW24	L_315	
                           A  5080    
042061 6D2004              A  5081    	DW24	L_316	
                           A  5082    
042064 712004              A  5083    	DW24	L_318	
                           A  5084    
042067 712004              A  5085    	DW24	L_319	
                           A  5086    
04206A 752004              A  5087    	DW24	L_321	
                           A  5088    
                           A  5089    ;  682	        case R_IX:
04206D                     A  5090    L_314:
                           A  5091    .LINE 682
                           A  5092    
                           A  5093    ;  683	        case R_IXH:
04206D                     A  5094    L_315:
                           A  5095    .LINE 683
                           A  5096    
                           A  5097    ;  684	        case R_IXL:
04206D                     A  5098    L_316:
                           A  5099    .LINE 684
                           A  5100    
                           A  5101    ;  685	            return 0xDD;
                           A  5102    .LINE 685
                           A  5103    
04206D 3EDD                A  5104    	LD	A,%DD
04206F 18 05               A  5105    	JR	L_322
                           A  5106    ;  686	        case R_IY:
042071                     A  5107    L_317:
                           A  5108    .LINE 686
                           A  5109    
                           A  5110    ;  687	        case R_IYH:
042071                     A  5111    L_318:
                           A  5112    .LINE 687
                           A  5113    
                           A  5114    ;  688	        case R_IYL:
042071                     A  5115    L_319:
                           A  5116    .LINE 688
                           A  5117    
                           A  5118    ;  689	            return 0xFD;
                           A  5119    .LINE 689
                           A  5120    
042071 3EFD                A  5121    	LD	A,%FD
042073 18 01               A  5122    	JR	L_322
                           A  5123    ;  690	        default:
                           A  5124    ;  691	            break;
                           A  5125    ;  692	    }
042075                     A  5126    L_321:
                           A  5127    .LINE 692
                           A  5128    
                           A  5129    ;  693	    return 0;    
                           A  5130    .LINE 693
                           A  5131    
042075 AF                  A  5132    	XOR	A,A
                           A  5133    ;  694	}
042076                     A  5134    L_322:
                           A  5135    .LINE 694
                           A  5136    
042076 DDF9                A  5137    	LD	SP,IX
042078 DDE1                A  5138    	POP	IX
04207A C9                  A  5139    	RET	
                           A  5140    
                           A  5141    
                           A  5142    ;**************************** _get_ddfd_prefix 
                           A  5143    ;Name                         Addr/Register   S
                           A  5144    ;reg                                   IX+6    
                           A  5145    
                           A  5146    
                           A  5147    ; Stack Frame Size: 9 (bytes)
                           A  5148    ;       Spill Code: 0 (instruction)
                           A  5149    
                           A  5150    
                           A  5151    .ENDFUNC "get_ddfd_prefix",694,"_get_ddfd_prefi
                           A  5152    ;  695	
                           A  5153    ;  696	void prefix_ddfd_suffix(operandlist *op
04207B                     A  5154    _prefix_ddfd_suffix:
                           A  5155    .DEFINE "_prefix_ddfd_suffix"
                           A  5156    
                           A  5157    .VALUE _prefix_ddfd_suffix
                           A  5158    
                           A  5159    .CLASS 2
                           A  5160    
                           A  5161    .TYPE 65
                           A  5162    
                           A  5163    .ENDEF
                           A  5164    
                           A  5165    .BEGFUNC "prefix_ddfd_suffix",696,"_prefix_ddfd
                           A  5166    
                           A  5167    .LINE 696
                           A  5168    
                           A  5169    .DEFINE "op"
                           A  5170    
                           A  5171    .CLASS 65
                           A  5172    
                           A  5173    .VALUE 6
                           A  5174    
                           A  5175    .TAG "NONAME5"
                           A  5176    
                           A  5177    .TYPE 40
                           A  5178    
                           A  5179    .ENDEF
                           A  5180    
                           A  5181    .DEFINE "prefix2"
                           A  5182    
                           A  5183    .CLASS 65
                           A  5184    
                           A  5185    .VALUE -1
                           A  5186    
                           A  5187    .TYPE 12
                           A  5188    
                           A  5189    .ENDEF
                           A  5190    
                           A  5191    .DEFINE "prefix1"
                           A  5192    
                           A  5193    .CLASS 65
                           A  5194    
                           A  5195    .VALUE -2
                           A  5196    
                           A  5197    .TYPE 12
                           A  5198    
                           A  5199    .ENDEF
                           A  5200    
04207B DDE5                A  5201    	PUSH	IX
04207D DD210000 00         A  5202    	LD	IX,0
042082 DD39                A  5203    	ADD	IX,SP
042084 3B                  A  5204    	DEC	SP
042085 3B                  A  5205    	DEC	SP
                           A  5206    ;  697	    uint8_t prefix1, prefix2;
                           A  5207    ;  698	
                           A  5208    ;  699	    if(op->ddfdpermitted) {
                           A  5209    .LINE 699
                           A  5210    
042086 DD3106              A  5211    	LD	IY,(IX+%6)
042089 FD7E06              A  5212    	LD	A,(IY+%6)
04208C B7                  A  5213    	OR	A,A
04208D 28 57               A  5214    	JR	Z,L_331
                           A  5215    ;  700	        prefix1 = get_ddfd_prefix(opera
                           A  5216    .LINE 700
                           A  5217    
04208F ED4B 2D 98 04       A  5218    	LD	BC,(_operand1)
042094 C5                  A  5219    	PUSH	BC
042095 CD 42 20 04         A  5220    	CALL	_get_ddfd_prefix
042099 C1                  A  5221    	POP	BC
04209A DD77FE              A  5222    	LD	(IX+%FFFFFFFE),A
                           A  5223    ;  701	        prefix2 = get_ddfd_prefix(opera
                           A  5224    .LINE 701
                           A  5225    
04209D ED4B 3D 98 04       A  5226    	LD	BC,(_operand2)
0420A2 C5                  A  5227    	PUSH	BC
0420A3 CD 42 20 04         A  5228    	CALL	_get_ddfd_prefix
0420A7 C1                  A  5229    	POP	BC
0420A8 DD77FF              A  5230    	LD	(IX+%FFFFFFFF),A
                           A  5231    ;  702	
                           A  5232    ;  703	
                           A  5233    ;  704	        // prefix in either of these tw
                           A  5234    ;  705	        if(prefix1) {
                           A  5235    .LINE 705
                           A  5236    
0420AB DD7EFE              A  5237    	LD	A,(IX+%FFFFFFFE)
0420AE B7                  A  5238    	OR	A,A
0420AF 28 28               A  5239    	JR	Z,L_329
                           A  5240    ;  706	            if(prefix2) {
                           A  5241    .LINE 706
                           A  5242    
0420B1 DD7EFF              A  5243    	LD	A,(IX+%FFFFFFFF)
0420B4 B7                  A  5244    	OR	A,A
0420B5 28 19               A  5245    	JR	Z,L_326
                           A  5246    ;  707	                // both prefixes set
                           A  5247    ;  708	                if(operand1.indirect) {
                           A  5248    .LINE 708
                           A  5249    
0420B7 3A 31 98 04         A  5250    	LD	A,(_operand1+4)
0420BB B7                  A  5251    	OR	A,A
0420BC 28 09               A  5252    	JR	Z,L_324
                           A  5253    ;  709	                    output.prefix1 = pr
                           A  5254    .LINE 709
                           A  5255    
0420BE DD7EFE              A  5256    	LD	A,(IX+%FFFFFFFE)
0420C1 32 4E 98 04         A  5257    	LD	(_output+1),A
                           A  5258    ;  710	                }
                           A  5259    ;  711	                else {
                           A  5260    .LINE 711
                           A  5261    
0420C5 18 1F               A  5262    	JR	L_331
0420C7                     A  5263    L_324:
                           A  5264    ;  712	                    output.prefix1 = pr
                           A  5265    .LINE 712
                           A  5266    
0420C7 DD7EFF              A  5267    	LD	A,(IX+%FFFFFFFF)
0420CA 32 4E 98 04         A  5268    	LD	(_output+1),A
                           A  5269    ;  713	                }
                           A  5270    ;  714	            }
                           A  5271    ;  715	            else {
                           A  5272    .LINE 715
                           A  5273    
0420CE 18 16               A  5274    	JR	L_331
0420D0                     A  5275    L_326:
                           A  5276    ;  716	                output.prefix1 = prefix
                           A  5277    .LINE 716
                           A  5278    
0420D0 DD7EFE              A  5279    	LD	A,(IX+%FFFFFFFE)
0420D3 32 4E 98 04         A  5280    	LD	(_output+1),A
                           A  5281    ;  717	            }
                           A  5282    ;  718	        }
                           A  5283    ;  719	        else {
                           A  5284    .LINE 719
                           A  5285    
0420D7 18 0D               A  5286    	JR	L_331
0420D9                     A  5287    L_329:
                           A  5288    ;  720	            if(prefix2) {
                           A  5289    .LINE 720
                           A  5290    
0420D9 DD7EFF              A  5291    	LD	A,(IX+%FFFFFFFF)
0420DC B7                  A  5292    	OR	A,A
0420DD 28 07               A  5293    	JR	Z,L_331
                           A  5294    ;  721	                output.prefix1 = prefix
                           A  5295    .LINE 721
                           A  5296    
0420DF DD7EFF              A  5297    	LD	A,(IX+%FFFFFFFF)
0420E2 32 4E 98 04         A  5298    	LD	(_output+1),A
                           A  5299    ;  722	            }
                           A  5300    ;  723	        }
                           A  5301    ;  724	    }
                           A  5302    ;  725	}
0420E6                     A  5303    L_331:
                           A  5304    .LINE 725
                           A  5305    
0420E6 DDF9                A  5306    	LD	SP,IX
0420E8 DDE1                A  5307    	POP	IX
0420EA C9                  A  5308    	RET	
                           A  5309    
                           A  5310    
                           A  5311    ;**************************** _prefix_ddfd_suff
                           A  5312    ;Name                         Addr/Register   S
                           A  5313    ;_output                             IMPORT    
                           A  5314    ;_operand2                           IMPORT    
                           A  5315    ;_operand1                           IMPORT    
                           A  5316    ;prefix1                               IX-2    
                           A  5317    ;prefix2                               IX-1    
                           A  5318    ;op                                    IX+6    
                           A  5319    
                           A  5320    
                           A  5321    ; Stack Frame Size: 11 (bytes)
                           A  5322    ;       Spill Code: 0 (instruction)
                           A  5323    
                           A  5324    
                           A  5325    .ENDFUNC "prefix_ddfd_suffix",725,"_prefix_ddfd
                           A  5326    ;  726	
                           A  5327    ;  727	void transform_instruction(operand *op,
0420EB                     A  5328    _transform_instruction:
                           A  5329    .DEFINE "_transform_instruction"
                           A  5330    
                           A  5331    .VALUE _transform_instruction
                           A  5332    
                           A  5333    .CLASS 2
                           A  5334    
                           A  5335    .TYPE 65
                           A  5336    
                           A  5337    .ENDEF
                           A  5338    
                           A  5339    .BEGFUNC "transform_instruction",727,"_transfor
                           A  5340    
                           A  5341    .LINE 727
                           A  5342    
                           A  5343    .DEFINE "op"
                           A  5344    
                           A  5345    .CLASS 65
                           A  5346    
                           A  5347    .VALUE 6
                           A  5348    
                           A  5349    .TAG "NONAME3"
                           A  5350    
                           A  5351    .TYPE 40
                           A  5352    
                           A  5353    .ENDEF
                           A  5354    
                           A  5355    .DEFINE "type"
                           A  5356    
                           A  5357    .CLASS 65
                           A  5358    
                           A  5359    .VALUE 9
                           A  5360    
                           A  5361    .TYPE 4
                           A  5362    
                           A  5363    .ENDEF
                           A  5364    
                           A  5365    .DEFINE "y"
                           A  5366    
                           A  5367    .CLASS 65
                           A  5368    
                           A  5369    .VALUE -1
                           A  5370    
                           A  5371    .TYPE 12
                           A  5372    
                           A  5373    .ENDEF
                           A  5374    
                           A  5375    .DEFINE "rel"
                           A  5376    
                           A  5377    .CLASS 65
                           A  5378    
                           A  5379    .VALUE -5
                           A  5380    
                           A  5381    .TYPE 5
                           A  5382    
                           A  5383    .ENDEF
                           A  5384    
0420EB DDE5                A  5385    	PUSH	IX
0420ED DD210000 00         A  5386    	LD	IX,0
0420F2 DD39                A  5387    	ADD	IX,SP
0420F4 ED22F4              A  5388    	LEA	HL,IX+%FFFFFFF4
0420F7 F9                  A  5389    	LD	SP,HL
                           A  5390    ;  728	    uint8_t y;
                           A  5391    ;  729	    int32_t rel;
                           A  5392    ;  730	
                           A  5393    ;  731	    switch(type) {
                           A  5394    .LINE 731
                           A  5395    
0420F8 DD2709              A  5396    	LD	HL,(IX+%9)
0420FB CD 33 6E 04         A  5397    	CALL	__case8D
0420FF E9                  A  5398    	JP	(HL)
042100                     A  5399    L__132:
042100 0B00                A  5400    	DW	11
042102 00                  A  5401    	DB	0
042103 3F2304              A  5402    	DW24	L_366	
                           A  5403    
042106 02                  A  5404    	DB	2
042107 A52104              A  5405    	DW24	L_341	
                           A  5406    
04210A 03                  A  5407    	DB	3
04210B 932104              A  5408    	DW24	L_340	
                           A  5409    
04210E 04                  A  5410    	DB	4
04210F DC2104              A  5411    	DW24	L_345	
                           A  5412    
042112 07                  A  5413    	DB	7
042113 F42104              A  5414    	DW24	L_346	
                           A  5415    
042116 08                  A  5416    	DB	8
042117 312104              A  5417    	DW24	L_332	
                           A  5418    
04211A 09                  A  5419    	DB	9
04211B 622104              A  5420    	DW24	L_336	
                           A  5421    
04211E 0A                  A  5422    	DB	10
04211F 3D2204              A  5423    	DW24	L_349	
                           A  5424    
042122 0B                  A  5425    	DB	11
042123 0B2204              A  5426    	DW24	L_347	
                           A  5427    
042126 0C                  A  5428    	DB	12
042127 222204              A  5429    	DW24	L_348	
                           A  5430    
04212A 0D                  A  5431    	DB	13
04212B 8A2204              A  5432    	DW24	L_355	
                           A  5433    
04212E 332304              A  5434    	DW24	L_365	
                           A  5435    
                           A  5436    ;  732	        case TRANSFORM_IR0:
042131                     A  5437    L_332:
                           A  5438    .LINE 732
                           A  5439    
                           A  5440    ;  733	            if((op->reg == R_IXL) || (o
                           A  5441    .LINE 733
                           A  5442    
042131 DD3106              A  5443    	LD	IY,(IX+%6)
042134 FD0700              A  5444    	LD	BC,(IY+%0)
042137 DD0FF8              A  5445    	LD	(IX+%FFFFFFF8),BC
04213A 01100000            A  5446    	LD	BC,16
04213E DD27F8              A  5447    	LD	HL,(IX+%FFFFFFF8)
042141 B7                  A  5448    	OR	A,A
042142 ED42                A  5449    	SBC	HL,BC
042144 28 0E               A  5450    	JR	Z,L_334
042146 01120000            A  5451    	LD	BC,18
04214A DD27F8              A  5452    	LD	HL,(IX+%FFFFFFF8)
04214D B7                  A  5453    	OR	A,A
04214E ED42                A  5454    	SBC	HL,BC
042150 C2 3F 23 04         A  5455    	JR	NZ,L_366
042154                     A  5456    L_334:
042154 3A 50 98 04         A  5457    	LD	A,(_output+3)
042158 CBC7                A  5458    	SET	%0,A
04215A 32 50 98 04         A  5459    	LD	(_output+3),A
                           A  5460    ;  734	            break;
                           A  5461    .LINE 734
                           A  5462    
04215E C3 3F 23 04         A  5463    	JR	L_366
                           A  5464    ;  735	        case TRANSFORM_IR3:
042162                     A  5465    L_336:
                           A  5466    .LINE 735
                           A  5467    
                           A  5468    ;  736	            if((op->reg == R_IXL) || (o
                           A  5469    .LINE 736
                           A  5470    
042162 DD3106              A  5471    	LD	IY,(IX+%6)
042165 FD0700              A  5472    	LD	BC,(IY+%0)
042168 DD0FF5              A  5473    	LD	(IX+%FFFFFFF5),BC
04216B 01100000            A  5474    	LD	BC,16
04216F DD27F5              A  5475    	LD	HL,(IX+%FFFFFFF5)
042172 B7                  A  5476    	OR	A,A
042173 ED42                A  5477    	SBC	HL,BC
042175 28 0E               A  5478    	JR	Z,L_338
042177 01120000            A  5479    	LD	BC,18
04217B DD27F5              A  5480    	LD	HL,(IX+%FFFFFFF5)
04217E B7                  A  5481    	OR	A,A
04217F ED42                A  5482    	SBC	HL,BC
042181 C2 3F 23 04         A  5483    	JR	NZ,L_366
042185                     A  5484    L_338:
042185 3A 50 98 04         A  5485    	LD	A,(_output+3)
042189 CBDF                A  5486    	SET	%3,A
04218B 32 50 98 04         A  5487    	LD	(_output+3),A
                           A  5488    ;  737	            break;
                           A  5489    .LINE 737
                           A  5490    
04218F C3 3F 23 04         A  5491    	JR	L_366
                           A  5492    ;  738	        case TRANSFORM_Z:
042193                     A  5493    L_340:
                           A  5494    .LINE 738
                           A  5495    
                           A  5496    ;  739	            output.opcode |= op->reg_in
                           A  5497    .LINE 739
                           A  5498    
042193 3A 50 98 04         A  5499    	LD	A,(_output+3)
042197 DD3106              A  5500    	LD	IY,(IX+%6)
04219A FDB603              A  5501    	OR	A,(IY+%3)
04219D 32 50 98 04         A  5502    	LD	(_output+3),A
                           A  5503    ;  740	            break;
                           A  5504    .LINE 740
                           A  5505    
0421A1 C3 3F 23 04         A  5506    	JR	L_366
                           A  5507    ;  741	        case TRANSFORM_Y:
0421A5                     A  5508    L_341:
                           A  5509    .LINE 741
                           A  5510    
                           A  5511    ;  742	            if(op->immediate_provided) 
                           A  5512    .LINE 742
                           A  5513    
0421A5 DD3106              A  5514    	LD	IY,(IX+%6)
0421A8 FD7E0A              A  5515    	LD	A,(IY+%A)
0421AB B7                  A  5516    	OR	A,A
0421AC 28 17               A  5517    	JR	Z,L_343
0421AE DD3106              A  5518    	LD	IY,(IX+%6)
0421B1 FD7E0B              A  5519    	LD	A,(IY+%B)
0421B4 87                  A  5520    	ADD	A,A
0421B5 87                  A  5521    	ADD	A,A
0421B6 87                  A  5522    	ADD	A,A
0421B7 ED4B 50 98 04       A  5523    	LD	BC,(_output+3)
0421BC B1                  A  5524    	OR	A,C
0421BD 32 50 98 04         A  5525    	LD	(_output+3),A
                           A  5526    ;  743	            else output.opcode |= (op->
                           A  5527    .LINE 743
                           A  5528    
0421C1 C3 3F 23 04         A  5529    	JR	L_366
0421C5                     A  5530    L_343:
0421C5 DD3106              A  5531    	LD	IY,(IX+%6)
0421C8 FD7E03              A  5532    	LD	A,(IY+%3)
0421CB 87                  A  5533    	ADD	A,A
0421CC 87                  A  5534    	ADD	A,A
0421CD 87                  A  5535    	ADD	A,A
0421CE 47                  A  5536    	LD	B,A
0421CF 3A 50 98 04         A  5537    	LD	A,(_output+3)
0421D3 B0                  A  5538    	OR	A,B
0421D4 32 50 98 04         A  5539    	LD	(_output+3),A
                           A  5540    ;  744	            break;
                           A  5541    .LINE 744
                           A  5542    
0421D8 C3 3F 23 04         A  5543    	JR	L_366
                           A  5544    ;  745	        case TRANSFORM_P:
0421DC                     A  5545    L_345:
                           A  5546    .LINE 745
                           A  5547    
                           A  5548    ;  746	            output.opcode |= (op->reg_i
                           A  5549    .LINE 746
                           A  5550    
0421DC DD3106              A  5551    	LD	IY,(IX+%6)
0421DF FD7E03              A  5552    	LD	A,(IY+%3)
0421E2 87                  A  5553    	ADD	A,A
0421E3 87                  A  5554    	ADD	A,A
0421E4 87                  A  5555    	ADD	A,A
0421E5 87                  A  5556    	ADD	A,A
0421E6 47                  A  5557    	LD	B,A
0421E7 3A 50 98 04         A  5558    	LD	A,(_output+3)
0421EB B0                  A  5559    	OR	A,B
0421EC 32 50 98 04         A  5560    	LD	(_output+3),A
                           A  5561    ;  747	            break;
                           A  5562    .LINE 747
                           A  5563    
0421F0 C3 3F 23 04         A  5564    	JR	L_366
                           A  5565    ;  748	        case TRANSFORM_CC:
0421F4                     A  5566    L_346:
                           A  5567    .LINE 748
                           A  5568    
                           A  5569    ;  749	            output.opcode |= (op->cc_in
                           A  5570    .LINE 749
                           A  5571    
0421F4 DD3106              A  5572    	LD	IY,(IX+%6)
0421F7 FD7E06              A  5573    	LD	A,(IY+%6)
0421FA 87                  A  5574    	ADD	A,A
0421FB 87                  A  5575    	ADD	A,A
0421FC 87                  A  5576    	ADD	A,A
0421FD 47                  A  5577    	LD	B,A
0421FE 3A 50 98 04         A  5578    	LD	A,(_output+3)
042202 B0                  A  5579    	OR	A,B
042203 32 50 98 04         A  5580    	LD	(_output+3),A
                           A  5581    ;  750	            break;
                           A  5582    .LINE 750
                           A  5583    
042207 C3 3F 23 04         A  5584    	JR	L_366
                           A  5585    ;  751	        case TRANSFORM_N:
04220B                     A  5586    L_347:
                           A  5587    .LINE 751
                           A  5588    
                           A  5589    ;  752	            output.opcode |= op->immedi
                           A  5590    .LINE 752
                           A  5591    
04220B DD3106              A  5592    	LD	IY,(IX+%6)
04220E FD460B              A  5593    	LD	B,(IY+%B)
042211 3A 50 98 04         A  5594    	LD	A,(_output+3)
042215 B0                  A  5595    	OR	A,B
042216 32 50 98 04         A  5596    	LD	(_output+3),A
                           A  5597    ;  753	            op->immediate_provided = fa
                           A  5598    .LINE 753
                           A  5599    
04221A FD360A00            A  5600    	LD	(IY+%A),%0
                           A  5601    ;  754	            break;
                           A  5602    .LINE 754
                           A  5603    
04221E C3 3F 23 04         A  5604    	JR	L_366
                           A  5605    ;  755	        case TRANSFORM_BIT:
042222                     A  5606    L_348:
                           A  5607    .LINE 755
                           A  5608    
                           A  5609    ;  756	            output.opcode |= (op->immed
                           A  5610    .LINE 756
                           A  5611    
042222 DD3106              A  5612    	LD	IY,(IX+%6)
042225 FD7E0B              A  5613    	LD	A,(IY+%B)
042228 87                  A  5614    	ADD	A,A
042229 87                  A  5615    	ADD	A,A
04222A 87                  A  5616    	ADD	A,A
04222B ED4B 50 98 04       A  5617    	LD	BC,(_output+3)
042230 B1                  A  5618    	OR	A,C
042231 32 50 98 04         A  5619    	LD	(_output+3),A
                           A  5620    ;  757	            op->immediate_provided = fa
                           A  5621    .LINE 757
                           A  5622    
042235 FD360A00            A  5623    	LD	(IY+%A),%0
                           A  5624    ;  758	            break;
                           A  5625    .LINE 758
                           A  5626    
042239 C3 3F 23 04         A  5627    	JR	L_366
                           A  5628    ;  759	        case TRANSFORM_SELECT:
04223D                     A  5629    L_349:
                           A  5630    .LINE 759
                           A  5631    
                           A  5632    ;  760	            switch(op->immediate) {
                           A  5633    .LINE 760
                           A  5634    
04223D DD3106              A  5635    	LD	IY,(IX+%6)
042240 FD270B              A  5636    	LD	HL,(IY+%B)
042243 CD 64 64 04         A  5637    	CALL	__seqcaseD
042247 E9                  A  5638    	JP	(HL)
042248                     A  5639    L__138:
042248 0300                A  5640    	DW	3
04224A 0000                A  5641    	DW	0
04224C 00                  A  5642    	DB	0
04224D 592204              A  5643    	DW24	L_350	
                           A  5644    
042250 5F2204              A  5645    	DW24	L_351	
                           A  5646    
042253 652204              A  5647    	DW24	L_352	
                           A  5648    
042256 6B2204              A  5649    	DW24	L_353	
                           A  5650    
                           A  5651    ;  761	                case 0:
042259                     A  5652    L_350:
                           A  5653    .LINE 761
                           A  5654    
                           A  5655    ;  762	                    y = 0;
                           A  5656    .LINE 762
                           A  5657    
042259 DD36FF00            A  5658    	LD	(IX+%FFFFFFFF),%0
                           A  5659    ;  763	                    break;
                           A  5660    .LINE 763
                           A  5661    
04225D 18 10               A  5662    	JR	L_354
                           A  5663    ;  764	                case 1:
04225F                     A  5664    L_351:
                           A  5665    .LINE 764
                           A  5666    
                           A  5667    ;  765	                    y = 2;
                           A  5668    .LINE 765
                           A  5669    
04225F DD36FF02            A  5670    	LD	(IX+%FFFFFFFF),%2
                           A  5671    ;  766	                    break;
                           A  5672    .LINE 766
                           A  5673    
042263 18 0A               A  5674    	JR	L_354
                           A  5675    ;  767	                case 2:
042265                     A  5676    L_352:
                           A  5677    .LINE 767
                           A  5678    
                           A  5679    ;  768	                    y = 3;
                           A  5680    .LINE 768
                           A  5681    
042265 DD36FF03            A  5682    	LD	(IX+%FFFFFFFF),%3
                           A  5683    ;  769	                    break;
                           A  5684    .LINE 769
                           A  5685    
042269 18 04               A  5686    	JR	L_354
                           A  5687    ;  770	                default:
04226B                     A  5688    L_353:
                           A  5689    .LINE 770
                           A  5690    
                           A  5691    ;  771	                    y = 0;
                           A  5692    .LINE 771
                           A  5693    
04226B DD36FF00            A  5694    	LD	(IX+%FFFFFFFF),%0
                           A  5695    ;  772	            }
04226F                     A  5696    L_354:
                           A  5697    .LINE 772
                           A  5698    
                           A  5699    ;  773	            output.opcode |= (y << 3); 
                           A  5700    .LINE 773
                           A  5701    
04226F DD7EFF              A  5702    	LD	A,(IX+%FFFFFFFF)
042272 87                  A  5703    	ADD	A,A
042273 87                  A  5704    	ADD	A,A
042274 87                  A  5705    	ADD	A,A
042275 47                  A  5706    	LD	B,A
042276 3A 50 98 04         A  5707    	LD	A,(_output+3)
04227A B0                  A  5708    	OR	A,B
04227B 32 50 98 04         A  5709    	LD	(_output+3),A
                           A  5710    ;  774	            op->immediate_provided = fa
                           A  5711    .LINE 774
                           A  5712    
04227F DD3106              A  5713    	LD	IY,(IX+%6)
042282 FD360A00            A  5714    	LD	(IY+%A),%0
                           A  5715    ;  775	            break;
                           A  5716    .LINE 775
                           A  5717    
042286 C3 3F 23 04         A  5718    	JR	L_366
                           A  5719    ;  776	        case TRANSFORM_REL:
04228A                     A  5720    L_355:
                           A  5721    .LINE 776
                           A  5722    
                           A  5723    ;  777	            if(pass == 2) {
                           A  5724    .LINE 777
                           A  5725    
04228A 01020000            A  5726    	LD	BC,2
04228E 2A 17 97 04         A  5727    	LD	HL,(_pass)
042292 B7                  A  5728    	OR	A,A
042293 ED42                A  5729    	SBC	HL,BC
042295 C2 3F 23 04         A  5730    	JR	NZ,L_366
                           A  5731    ;  778	                // label still potentia
                           A  5732    ;  779	                if(op->wasLabel) rel = 
                           A  5733    .LINE 779
                           A  5734    
042299 DD3106              A  5735    	LD	IY,(IX+%6)
04229C FD7E0F              A  5736    	LD	A,(IY+%F)
04229F B7                  A  5737    	OR	A,A
0422A0 28 28               A  5738    	JR	Z,L_357
0422A2 DD3106              A  5739    	LD	IY,(IX+%6)
0422A5 FD270B              A  5740    	LD	HL,(IY+%B)
0422A8 FD5E0E              A  5741    	LD	E,(IY+%E)
0422AB ED4B 1A 97 04       A  5742    	LD	BC,(_address)
0422B0 3A 1D 97 04         A  5743    	LD	A,(_address+3)
0422B4 CD 91 6A 04         A  5744    	CALL	__lsub
0422B8 01FEFFFF            A  5745    	LD	BC,16777214
0422BC 3EFF                A  5746    	LD	A,%FF
0422BE CD 0E 64 04         A  5747    	CALL	__ladd
0422C2 DD2FFB              A  5748    	LD	(IX+%FFFFFFFB),HL
0422C5 DD73FE              A  5749    	LD	(IX+%FFFFFFFE),E
                           A  5750    ;  780	                else rel = op->immediat
                           A  5751    .LINE 780
                           A  5752    
0422C8 18 0F               A  5753    	JR	L_360
0422CA                     A  5754    L_357:
0422CA DD3106              A  5755    	LD	IY,(IX+%6)
0422CD FD070B              A  5756    	LD	BC,(IY+%B)
0422D0 FD7E0E              A  5757    	LD	A,(IY+%E)
0422D3 DD0FFB              A  5758    	LD	(IX+%FFFFFFFB),BC
0422D6 DD77FE              A  5759    	LD	(IX+%FFFFFFFE),A
0422D9                     A  5760    L_360:
                           A  5761    ;  781	                if((rel > 127) || (rel 
                           A  5762    .LINE 781
                           A  5763    
0422D9 217F0000            A  5764    	LD	HL,127
0422DD 1E00                A  5765    	LD	E,%0
0422DF DD07FB              A  5766    	LD	BC,(IX+%FFFFFFFB)
0422E2 DD7EFE              A  5767    	LD	A,(IX+%FFFFFFFE)
0422E5 CD 1D 6E 04         A  5768    	CALL	__lcmps
0422E9 FA 05 23 04         A  5769    	JP	M,L_359
0422ED DD27FB              A  5770    	LD	HL,(IX+%FFFFFFFB)
0422F0 DD5EFE              A  5771    	LD	E,(IX+%FFFFFFFE)
0422F3 0180FFFF            A  5772    	LD	BC,16777088
0422F7 3EFF                A  5773    	LD	A,%FF
0422F9 CD 1D 6E 04         A  5774    	CALL	__lcmps
0422FD CD 1D 64 04         A  5775    	CALL	__setflag
042301 F2 17 23 04         A  5776    	JP	P,L_361
042305                     A  5777    L_359:
042305 21 C8 71 04         A  5778    	LD	HL,_message+66
042309 ED07                A  5779    	LD	BC,(HL)
04230B C5                  A  5780    	PUSH	BC
04230C DD77F4              A  5781    	LD	(IX+%FFFFFFF4),A
04230F CD A1 58 04         A  5782    	CALL	_error
042313 DD7EF4              A  5783    	LD	A,(IX+%FFFFFFF4)
042316 C1                  A  5784    	POP	BC
042317                     A  5785    L_361:
                           A  5786    ;  782	                op->immediate = ((int8_
                           A  5787    .LINE 782
                           A  5788    
042317 B7ED62              A  5789    	UEXT	HL
04231A DD6EFB              A  5790    	LD	L,(IX+%FFFFFFFB)
04231D E5C1                A  5791    	LD	BC,HL
04231F 79                  A  5792    	LD	A,C
042320 17ED62              A  5793    	SEXT	HL
042323 69                  A  5794    	LD	L,C
042324 DD3106              A  5795    	LD	IY,(IX+%6)
042327 FD2F0B              A  5796    	LD	(IY+%B),HL
04232A FD740E              A  5797    	LD	(IY+%E),H
                           A  5798    ;  783	                op->immediate_provided 
                           A  5799    .LINE 783
                           A  5800    
04232D FD360A01            A  5801    	LD	(IY+%A),%1
                           A  5802    ;  784	            }
                           A  5803    .LINE 784
                           A  5804    
                           A  5805    ;  785	            break;
                           A  5806    .LINE 785
                           A  5807    
042331 18 0C               A  5808    	JR	L_366
                           A  5809    ;  786	        case TRANSFORM_NONE:
                           A  5810    ;  787	            break;
                           A  5811    ;  788	        default:
042333                     A  5812    L_365:
                           A  5813    .LINE 788
                           A  5814    
                           A  5815    ;  789	            error(message[ERROR_TRANSFO
                           A  5816    .LINE 789
                           A  5817    
042333 21 A1 71 04         A  5818    	LD	HL,_message+27
042337 ED07                A  5819    	LD	BC,(HL)
042339 C5                  A  5820    	PUSH	BC
04233A CD A1 58 04         A  5821    	CALL	_error
04233E C1                  A  5822    	POP	BC
                           A  5823    ;  790	            break;
                           A  5824    ;  791	    }
04233F                     A  5825    L_366:
                           A  5826    .LINE 791
                           A  5827    
                           A  5828    ;  792	    return;
                           A  5829    ;  793	}
                           A  5830    .LINE 793
                           A  5831    
04233F DDF9                A  5832    	LD	SP,IX
042341 DDE1                A  5833    	POP	IX
042343 C9                  A  5834    	RET	
                           A  5835    
                           A  5836    
                           A  5837    ;**************************** _transform_instru
                           A  5838    ;Name                         Addr/Register   S
                           A  5839    ;_message                            IMPORT  un
                           A  5840    ;_error                              IMPORT  --
                           A  5841    ;_address                            IMPORT    
                           A  5842    ;_pass                               IMPORT    
                           A  5843    ;_output                             IMPORT    
                           A  5844    ;G_16                                 IX-11    
                           A  5845    ;G_15                                  IX-8    
                           A  5846    ;rel                                   IX-5    
                           A  5847    ;y                                     IX-1    
                           A  5848    ;type                                  IX+9    
                           A  5849    ;op                                    IX+6    
                           A  5850    
                           A  5851    
                           A  5852    ; Stack Frame Size: 24 (bytes)
                           A  5853    ;       Spill Code: 0 (instruction)
                           A  5854    
                           A  5855    
                           A  5856    .ENDFUNC "transform_instruction",793,"_transfor
                           A  5857    ;  794	
                           A  5858    ;  795	void emit_instruction(operandlist *list
042344                     A  5859    _emit_instruction:
                           A  5860    .DEFINE "_emit_instruction"
                           A  5861    
                           A  5862    .VALUE _emit_instruction
                           A  5863    
                           A  5864    .CLASS 2
                           A  5865    
                           A  5866    .TYPE 65
                           A  5867    
                           A  5868    .ENDEF
                           A  5869    
                           A  5870    .BEGFUNC "emit_instruction",795,"_emit_instruct
                           A  5871    
                           A  5872    .LINE 795
                           A  5873    
                           A  5874    .DEFINE "list"
                           A  5875    
                           A  5876    .CLASS 65
                           A  5877    
                           A  5878    .VALUE 6
                           A  5879    
                           A  5880    .TAG "NONAME5"
                           A  5881    
                           A  5882    .TYPE 40
                           A  5883    
                           A  5884    .ENDEF
                           A  5885    
                           A  5886    .DEFINE "ddbeforeopcode"
                           A  5887    
                           A  5888    .CLASS 65
                           A  5889    
                           A  5890    .VALUE -1
                           A  5891    
                           A  5892    .TYPE 12
                           A  5893    
                           A  5894    .ENDEF
                           A  5895    
042344 DDE5                A  5896    	PUSH	IX
042346 DD210000 00         A  5897    	LD	IX,0
04234B DD39                A  5898    	ADD	IX,SP
04234D ED22EA              A  5899    	LEA	HL,IX+%FFFFFFEA
042350 F9                  A  5900    	LD	SP,HL
                           A  5901    ;  796	    bool ddbeforeopcode; // determine p
                           A  5902    ;  797	
                           A  5903    ;  798	    // Transform necessary prefix/opcod
                           A  5904    ;  799	    output.suffix = getADLsuffix();
                           A  5905    .LINE 799
                           A  5906    
042351 CD FD 1C 04         A  5907    	CALL	_getADLsuffix
042355 32 4D 98 04         A  5908    	LD	(_output),A
                           A  5909    ;  800	    output.prefix1 = 0;
                           A  5910    .LINE 800
                           A  5911    
042359 AF                  A  5912    	XOR	A,A
04235A 32 4E 98 04         A  5913    	LD	(_output+1),A
                           A  5914    ;  801	    output.prefix2 = list->prefix;
                           A  5915    .LINE 801
                           A  5916    
04235E DD3106              A  5917    	LD	IY,(IX+%6)
042361 FD7E0D              A  5918    	LD	A,(IY+%D)
042364 32 4F 98 04         A  5919    	LD	(_output+2),A
                           A  5920    ;  802	    output.opcode = list->opcode;
                           A  5921    .LINE 802
                           A  5922    
042368 FD7E0E              A  5923    	LD	A,(IY+%E)
04236B 32 50 98 04         A  5924    	LD	(_output+3),A
                           A  5925    ;  803	
                           A  5926    ;  804	    if(pass == 1) definelabel(address);
                           A  5927    .LINE 804
                           A  5928    
04236F 01010000            A  5929    	LD	BC,1
042373 2A 17 97 04         A  5930    	LD	HL,(_pass)
042377 B7                  A  5931    	OR	A,A
042378 ED42                A  5932    	SBC	HL,BC
04237A 20 14               A  5933    	JR	NZ,L_380
04237C 3A 1D 97 04         A  5934    	LD	A,(_address+3)
042380 4F                  A  5935    	LD	C,A
042381 0600                A  5936    	LD	B,%0
042383 C5                  A  5937    	PUSH	BC
042384 ED4B 1A 97 04       A  5938    	LD	BC,(_address)
042389 C5                  A  5939    	PUSH	BC
04238A CD 09 1C 04         A  5940    	CALL	_definelabel
04238E C1                  A  5941    	POP	BC
04238F C1                  A  5942    	POP	BC
042390                     A  5943    L_380:
                           A  5944    ;  805	
                           A  5945    ;  806	    // issue any errors here
                           A  5946    ;  807	    if((list->transformA != TRANSFORM_R
                           A  5947    .LINE 807
                           A  5948    
042390 010D0000            A  5949    	LD	BC,13
042394 DD3106              A  5950    	LD	IY,(IX+%6)
042397 FD2707              A  5951    	LD	HL,(IY+%7)
04239A B7                  A  5952    	OR	A,A
04239B ED42                A  5953    	SBC	HL,BC
04239D CA 74 24 04         A  5954    	JR	Z,L_383
0423A1 DD3106              A  5955    	LD	IY,(IX+%6)
0423A4 FD270A              A  5956    	LD	HL,(IY+%A)
0423A7 B7                  A  5957    	OR	A,A
0423A8 ED42                A  5958    	SBC	HL,BC
0423AA CA 74 24 04         A  5959    	JR	Z,L_383
                           A  5960    ;  808	        if(((list->operandA == OPTYPE_N
                           A  5961    .LINE 808
                           A  5962    
0423AE DD3106              A  5963    	LD	IY,(IX+%6)
0423B1 FD0700              A  5964    	LD	BC,(IY+%0)
0423B4 DD0FF9              A  5965    	LD	(IX+%FFFFFFF9),BC
0423B7 01080000            A  5966    	LD	BC,8
0423BB DD27F9              A  5967    	LD	HL,(IX+%FFFFFFF9)
0423BE B7                  A  5968    	OR	A,A
0423BF ED42                A  5969    	SBC	HL,BC
0423C1 28 0C               A  5970    	JR	Z,L_372
0423C3 01190000            A  5971    	LD	BC,25
0423C7 DD27F9              A  5972    	LD	HL,(IX+%FFFFFFF9)
0423CA B7                  A  5973    	OR	A,A
0423CB ED42                A  5974    	SBC	HL,BC
0423CD 20 42               A  5975    	JR	NZ,L_378
0423CF                     A  5976    L_372:
0423CF 21FF0000            A  5977    	LD	HL,255
0423D3 1E00                A  5978    	LD	E,%0
0423D5 ED4B 38 98 04       A  5979    	LD	BC,(_operand1+11)
0423DA 3A 3B 98 04         A  5980    	LD	A,(_operand1+14)
0423DE CD 1D 6E 04         A  5981    	CALL	__lcmps
0423E2 CD 1D 64 04         A  5982    	CALL	__setflag
0423E6 FA 05 24 04         A  5983    	JP	M,L_373
0423EA 2A 38 98 04         A  5984    	LD	HL,(_operand1+11)
0423EE 3A 3B 98 04         A  5985    	LD	A,(_operand1+14)
0423F2 5F                  A  5986    	LD	E,A
0423F3 0180FFFF            A  5987    	LD	BC,16777088
0423F7 3EFF                A  5988    	LD	A,%FF
0423F9 CD 1D 6E 04         A  5989    	CALL	__lcmps
0423FD CD 1D 64 04         A  5990    	CALL	__setflag
042401 F2 11 24 04         A  5991    	JP	P,L_378
042405                     A  5992    L_373:
042405 21 A7 71 04         A  5993    	LD	HL,_message+33
042409 ED07                A  5994    	LD	BC,(HL)
04240B C5                  A  5995    	PUSH	BC
04240C CD A1 58 04         A  5996    	CALL	_error
042410 C1                  A  5997    	POP	BC
042411                     A  5998    L_378:
                           A  5999    ;  809	        if(((list->operandB == OPTYPE_N
                           A  6000    .LINE 809
                           A  6001    
042411 DD3106              A  6002    	LD	IY,(IX+%6)
042414 FD0703              A  6003    	LD	BC,(IY+%3)
042417 DD0FF6              A  6004    	LD	(IX+%FFFFFFF6),BC
04241A 01080000            A  6005    	LD	BC,8
04241E DD27F6              A  6006    	LD	HL,(IX+%FFFFFFF6)
042421 B7                  A  6007    	OR	A,A
042422 ED42                A  6008    	SBC	HL,BC
042424 28 0C               A  6009    	JR	Z,L_376
042426 01190000            A  6010    	LD	BC,25
04242A DD27F6              A  6011    	LD	HL,(IX+%FFFFFFF6)
04242D B7                  A  6012    	OR	A,A
04242E ED42                A  6013    	SBC	HL,BC
042430 20 42               A  6014    	JR	NZ,L_383
042432                     A  6015    L_376:
042432 21FF0000            A  6016    	LD	HL,255
042436 1E00                A  6017    	LD	E,%0
042438 ED4B 48 98 04       A  6018    	LD	BC,(_operand2+11)
04243D 3A 4B 98 04         A  6019    	LD	A,(_operand2+14)
042441 CD 1D 6E 04         A  6020    	CALL	__lcmps
042445 CD 1D 64 04         A  6021    	CALL	__setflag
042449 FA 68 24 04         A  6022    	JP	M,L_377
04244D 2A 48 98 04         A  6023    	LD	HL,(_operand2+11)
042451 3A 4B 98 04         A  6024    	LD	A,(_operand2+14)
042455 5F                  A  6025    	LD	E,A
042456 0180FFFF            A  6026    	LD	BC,16777088
04245A 3EFF                A  6027    	LD	A,%FF
04245C CD 1D 6E 04         A  6028    	CALL	__lcmps
042460 CD 1D 64 04         A  6029    	CALL	__setflag
042464 F2 74 24 04         A  6030    	JP	P,L_383
042468                     A  6031    L_377:
042468 21 A7 71 04         A  6032    	LD	HL,_message+33
04246C ED07                A  6033    	LD	BC,(HL)
04246E C5                  A  6034    	PUSH	BC
04246F CD A1 58 04         A  6035    	CALL	_error
042473 C1                  A  6036    	POP	BC
                           A  6037    ;  810	    }
042474                     A  6038    L_383:
                           A  6039    .LINE 810
                           A  6040    
                           A  6041    ;  811	    if((output.suffix) && ((list->adl &
                           A  6042    .LINE 811
                           A  6043    
042474 3A 4D 98 04         A  6044    	LD	A,(_output)
042478 B7                  A  6045    	OR	A,A
042479 28 18               A  6046    	JR	Z,L_387
04247B 3A 4D 98 04         A  6047    	LD	A,(_output)
04247F DD3106              A  6048    	LD	IY,(IX+%6)
042482 FDA60F              A  6049    	AND	A,(IY+%F)
042485 20 0C               A  6050    	JR	NZ,L_387
042487 21 B0 71 04         A  6051    	LD	HL,_message+42
04248B ED07                A  6052    	LD	BC,(HL)
04248D C5                  A  6053    	PUSH	BC
04248E CD A1 58 04         A  6054    	CALL	_error
042492 C1                  A  6055    	POP	BC
042493                     A  6056    L_387:
                           A  6057    ;  812	    if((operand2.displacement_provided)
                           A  6058    .LINE 812
                           A  6059    
042493 3A 46 98 04         A  6060    	LD	A,(_operand2+9)
042497 B7                  A  6061    	OR	A,A
042498 28 31               A  6062    	JR	Z,L_390
04249A 490180FF            A  6063    	LD.LIS	BC,-128
04249E 2A 44 98 04         A  6064    	LD	HL,(_operand2+7)
0424A2 B7                  A  6065    	OR	A,A
0424A3 40ED42              A  6066    	SBC.SIS	HL,BC
0424A6 FA BF 24 04         A  6067    	JP	M,L_386
0424AA ED4B 44 98 04       A  6068    	LD	BC,(_operand2+7)
0424AF 49217F00            A  6069    	LD.LIS	HL,127
0424B3 B7                  A  6070    	OR	A,A
0424B4 40ED42              A  6071    	SBC.SIS	HL,BC
0424B7 CD 1D 64 04         A  6072    	CALL	__setflag
0424BB F2 CB 24 04         A  6073    	JP	P,L_390
0424BF                     A  6074    L_386:
0424BF 21 B3 71 04         A  6075    	LD	HL,_message+45
0424C3 ED07                A  6076    	LD	BC,(HL)
0424C5 C5                  A  6077    	PUSH	BC
0424C6 CD A1 58 04         A  6078    	CALL	_error
0424CA C1                  A  6079    	POP	BC
0424CB                     A  6080    L_390:
                           A  6081    ;  813	
                           A  6082    ;  814	    // Specific checks
                           A  6083    ;  815	    if((list->operandA == OPTYPE_BIT) &
                           A  6084    .LINE 815
                           A  6085    
0424CB 01150000            A  6086    	LD	BC,21
0424CF DD3106              A  6087    	LD	IY,(IX+%6)
0424D2 FD2700              A  6088    	LD	HL,(IY+%0)
0424D5 B7                  A  6089    	OR	A,A
0424D6 ED42                A  6090    	SBC	HL,BC
0424D8 20 27               A  6091    	JR	NZ,L_393
0424DA 21070000            A  6092    	LD	HL,7
0424DE 1E00                A  6093    	LD	E,%0
0424E0 ED4B 38 98 04       A  6094    	LD	BC,(_operand1+11)
0424E5 3A 3B 98 04         A  6095    	LD	A,(_operand1+14)
0424E9 CD 1D 6E 04         A  6096    	CALL	__lcmps
0424ED CD 1D 64 04         A  6097    	CALL	__setflag
0424F1 F2 01 25 04         A  6098    	JP	P,L_393
0424F5 21 CB 71 04         A  6099    	LD	HL,_message+69
0424F9 ED07                A  6100    	LD	BC,(HL)
0424FB C5                  A  6101    	PUSH	BC
0424FC CD A1 58 04         A  6102    	CALL	_error
042500 C1                  A  6103    	POP	BC
042501                     A  6104    L_393:
                           A  6105    ;  816	    if((list->operandA == OPTYPE_NSELEC
                           A  6106    .LINE 816
                           A  6107    
042501 01180000            A  6108    	LD	BC,24
042505 DD3106              A  6109    	LD	IY,(IX+%6)
042508 FD2700              A  6110    	LD	HL,(IY+%0)
04250B B7                  A  6111    	OR	A,A
04250C ED42                A  6112    	SBC	HL,BC
04250E 20 27               A  6113    	JR	NZ,L_396
042510 21020000            A  6114    	LD	HL,2
042514 1E00                A  6115    	LD	E,%0
042516 ED4B 38 98 04       A  6116    	LD	BC,(_operand1+11)
04251B 3A 3B 98 04         A  6117    	LD	A,(_operand1+14)
04251F CD 1D 6E 04         A  6118    	CALL	__lcmps
042523 CD 1D 64 04         A  6119    	CALL	__setflag
042527 F2 37 25 04         A  6120    	JP	P,L_396
04252B 21 CE 71 04         A  6121    	LD	HL,_message+72
04252F ED07                A  6122    	LD	BC,(HL)
042531 C5                  A  6123    	PUSH	BC
042532 CD A1 58 04         A  6124    	CALL	_error
042536 C1                  A  6125    	POP	BC
042537                     A  6126    L_396:
                           A  6127    ;  817	    if((list->transformA == TRANSFORM_N
                           A  6128    .LINE 817
                           A  6129    
042537 010B0000            A  6130    	LD	BC,11
04253B DD3106              A  6131    	LD	IY,(IX+%6)
04253E FD2707              A  6132    	LD	HL,(IY+%7)
042541 B7                  A  6133    	OR	A,A
042542 ED42                A  6134    	SBC	HL,BC
042544 20 1D               A  6135    	JR	NZ,L_397
042546 3A 38 98 04         A  6136    	LD	A,(_operand1+11)
04254A E647                A  6137    	AND	A,%47
04254C B7ED62              A  6138    	UEXT	HL
04254F 6F                  A  6139    	LD	L,A
042550 5C                  A  6140    	LD	E,H
042551 CD 41 67 04         A  6141    	CALL	__lcmpzero
042555 28 0C               A  6142    	JR	Z,L_397
042557 21 D1 71 04         A  6143    	LD	HL,_message+75
04255B ED07                A  6144    	LD	BC,(HL)
04255D C5                  A  6145    	PUSH	BC
04255E CD A1 58 04         A  6146    	CALL	_error
042562 C1                  A  6147    	POP	BC
042563                     A  6148    L_397:
                           A  6149    ;  818	
                           A  6150    ;  819	    // prepare extra DD/FD suffix if ne
                           A  6151    ;  820	    prefix_ddfd_suffix(list);
                           A  6152    .LINE 820
                           A  6153    
042563 DD0706              A  6154    	LD	BC,(IX+%6)
042566 C5                  A  6155    	PUSH	BC
042567 CD 7B 20 04         A  6156    	CALL	_prefix_ddfd_suffix
04256B C1                  A  6157    	POP	BC
                           A  6158    ;  821	    // Transform the opcode and potenti
                           A  6159    ;  822	    transform_instruction(&operand1, li
                           A  6160    .LINE 822
                           A  6161    
04256C DD3106              A  6162    	LD	IY,(IX+%6)
04256F FD0707              A  6163    	LD	BC,(IY+%7)
042572 C5                  A  6164    	PUSH	BC
042573 01 2D 98 04         A  6165    	LD	BC,_operand1
042577 C5                  A  6166    	PUSH	BC
042578 CD EB 20 04         A  6167    	CALL	_transform_instruction
04257C C1                  A  6168    	POP	BC
04257D C1                  A  6169    	POP	BC
                           A  6170    ;  823	    transform_instruction(&operand2, li
                           A  6171    .LINE 823
                           A  6172    
04257E DD3106              A  6173    	LD	IY,(IX+%6)
042581 FD070A              A  6174    	LD	BC,(IY+%A)
042584 C5                  A  6175    	PUSH	BC
042585 01 3D 98 04         A  6176    	LD	BC,_operand2
042589 C5                  A  6177    	PUSH	BC
04258A CD EB 20 04         A  6178    	CALL	_transform_instruction
04258E C1                  A  6179    	POP	BC
04258F C1                  A  6180    	POP	BC
                           A  6181    ;  824	    // determine position of dd
                           A  6182    ;  825	    ddbeforeopcode = (((output.prefix1 
                           A  6183    .LINE 825
                           A  6184    
042590 3A 4E 98 04         A  6185    	LD	A,(_output+1)
042594 FEDD                A  6186    	CP	A,%DD
042596 28 08               A  6187    	JR	Z,L_399
042598 3A 4E 98 04         A  6188    	LD	A,(_output+1)
04259C FEFD                A  6189    	CP	A,%FD
04259E 20 1F               A  6190    	JR	NZ,L_403
0425A0                     A  6191    L_399:
0425A0 3A 4F 98 04         A  6192    	LD	A,(_output+2)
0425A4 FECB                A  6193    	CP	A,%CB
0425A6 20 17               A  6194    	JR	NZ,L_403
                           A  6195    ;  826	                ((operand1.displacement
                           A  6196    .LINE 826
                           A  6197    
0425A8 3A 36 98 04         A  6198    	LD	A,(_operand1+9)
0425AC B7                  A  6199    	OR	A,A
0425AD 20 07               A  6200    	JR	NZ,L_402
0425AF 3A 46 98 04         A  6201    	LD	A,(_operand2+9)
0425B3 B7                  A  6202    	OR	A,A
0425B4 28 09               A  6203    	JR	Z,L_403
0425B6                     A  6204    L_402:
0425B6 01010000            A  6205    	LD	BC,1
0425BA DD0FFC              A  6206    	LD	(IX+%FFFFFFFC),BC
0425BD 18 07               A  6207    	JR	L_404
0425BF                     A  6208    L_403:
0425BF 01000000            A  6209    	LD	BC,0
0425C3 DD0FFC              A  6210    	LD	(IX+%FFFFFFFC),BC
0425C6                     A  6211    L_404:
0425C6 DD7EFC              A  6212    	LD	A,(IX+%FFFFFFFC)
0425C9 DD77FF              A  6213    	LD	(IX+%FFFFFFFF),A
                           A  6214    ;  827	    
                           A  6215    ;  828	    // output adl suffix and any prefix
                           A  6216    ;  829	    if(output.suffix > 0) emit_adlsuffi
                           A  6217    .LINE 829
                           A  6218    
0425CC AF                  A  6219    	XOR	A,A
0425CD 21 4D 98 04         A  6220    	LD	HL,_output
0425D1 BE                  A  6221    	CP	A,(HL)
0425D2 30 0D               A  6222    	JR	NC,L_408
0425D4 3A 4D 98 04         A  6223    	LD	A,(_output)
0425D8 4F                  A  6224    	LD	C,A
0425D9 0600                A  6225    	LD	B,%0
0425DB C5                  A  6226    	PUSH	BC
0425DC CD E1 1F 04         A  6227    	CALL	_emit_adlsuffix_code
0425E0 C1                  A  6228    	POP	BC
0425E1                     A  6229    L_408:
                           A  6230    ;  830	    if(output.prefix1) emit_8bit(output
                           A  6231    .LINE 830
                           A  6232    
0425E1 3A 4E 98 04         A  6233    	LD	A,(_output+1)
0425E5 B7                  A  6234    	OR	A,A
0425E6 28 0D               A  6235    	JR	Z,L_410
0425E8 3A 4E 98 04         A  6236    	LD	A,(_output+1)
0425EC 4F                  A  6237    	LD	C,A
0425ED 0600                A  6238    	LD	B,%0
0425EF C5                  A  6239    	PUSH	BC
0425F0 CD 2E 27 04         A  6240    	CALL	_emit_8bit
0425F4 C1                  A  6241    	POP	BC
0425F5                     A  6242    L_410:
                           A  6243    ;  831	    if(output.prefix2) emit_8bit(output
                           A  6244    .LINE 831
                           A  6245    
0425F5 3A 4F 98 04         A  6246    	LD	A,(_output+2)
0425F9 B7                  A  6247    	OR	A,A
0425FA 28 0D               A  6248    	JR	Z,L_412
0425FC 3A 4F 98 04         A  6249    	LD	A,(_output+2)
042600 4F                  A  6250    	LD	C,A
042601 0600                A  6251    	LD	B,%0
042603 C5                  A  6252    	PUSH	BC
042604 CD 2E 27 04         A  6253    	CALL	_emit_8bit
042608 C1                  A  6254    	POP	BC
042609                     A  6255    L_412:
                           A  6256    ;  832	
                           A  6257    ;  833	    // opcode in normal position
                           A  6258    ;  834	    if(!ddbeforeopcode) emit_8bit(outpu
                           A  6259    .LINE 834
                           A  6260    
042609 DD7EFF              A  6261    	LD	A,(IX+%FFFFFFFF)
04260C B7                  A  6262    	OR	A,A
04260D 20 0D               A  6263    	JR	NZ,L_414
04260F 3A 50 98 04         A  6264    	LD	A,(_output+3)
042613 4F                  A  6265    	LD	C,A
042614 0600                A  6266    	LD	B,%0
042616 C5                  A  6267    	PUSH	BC
042617 CD 2E 27 04         A  6268    	CALL	_emit_8bit
04261B C1                  A  6269    	POP	BC
04261C                     A  6270    L_414:
                           A  6271    ;  835	    
                           A  6272    ;  836	    // output displacement
                           A  6273    ;  837	    if(operand1.displacement_provided) 
                           A  6274    .LINE 837
                           A  6275    
04261C 3A 36 98 04         A  6276    	LD	A,(_operand1+9)
042620 B7                  A  6277    	OR	A,A
042621 28 0D               A  6278    	JR	Z,L_416
042623 3A 34 98 04         A  6279    	LD	A,(_operand1+7)
042627 4F                  A  6280    	LD	C,A
042628 0600                A  6281    	LD	B,%0
04262A C5                  A  6282    	PUSH	BC
04262B CD 2E 27 04         A  6283    	CALL	_emit_8bit
04262F C1                  A  6284    	POP	BC
042630                     A  6285    L_416:
                           A  6286    ;  838	    if(operand2.displacement_provided) 
                           A  6287    .LINE 838
                           A  6288    
042630 3A 46 98 04         A  6289    	LD	A,(_operand2+9)
042634 B7                  A  6290    	OR	A,A
042635 28 0D               A  6291    	JR	Z,L_420
042637 3A 44 98 04         A  6292    	LD	A,(_operand2+7)
04263B 4F                  A  6293    	LD	C,A
04263C 0600                A  6294    	LD	B,%0
04263E C5                  A  6295    	PUSH	BC
04263F CD 2E 27 04         A  6296    	CALL	_emit_8bit
042643 C1                  A  6297    	POP	BC
042644                     A  6298    L_420:
                           A  6299    ;  839	    // output n
                           A  6300    ;  840	    if((operand1.immediate_provided) &&
                           A  6301    .LINE 840
                           A  6302    
042644 3A 37 98 04         A  6303    	LD	A,(_operand1+10)
042648 B7                  A  6304    	OR	A,A
042649 28 2E               A  6305    	JR	Z,L_424
04264B DD3106              A  6306    	LD	IY,(IX+%6)
04264E FD0700              A  6307    	LD	BC,(IY+%0)
042651 DD0FF3              A  6308    	LD	(IX+%FFFFFFF3),BC
042654 01080000            A  6309    	LD	BC,8
042658 DD27F3              A  6310    	LD	HL,(IX+%FFFFFFF3)
04265B B7                  A  6311    	OR	A,A
04265C ED42                A  6312    	SBC	HL,BC
04265E 28 0C               A  6313    	JR	Z,L_419
042660 01190000            A  6314    	LD	BC,25
042664 DD27F3              A  6315    	LD	HL,(IX+%FFFFFFF3)
042667 B7                  A  6316    	OR	A,A
042668 ED42                A  6317    	SBC	HL,BC
04266A 20 0D               A  6318    	JR	NZ,L_424
04266C                     A  6319    L_419:
04266C 3A 38 98 04         A  6320    	LD	A,(_operand1+11)
042670 4F                  A  6321    	LD	C,A
042671 0600                A  6322    	LD	B,%0
042673 C5                  A  6323    	PUSH	BC
042674 CD 2E 27 04         A  6324    	CALL	_emit_8bit
042678 C1                  A  6325    	POP	BC
042679                     A  6326    L_424:
                           A  6327    ;  841	    if((operand2.immediate_provided) &&
                           A  6328    .LINE 841
                           A  6329    
042679 3A 47 98 04         A  6330    	LD	A,(_operand2+10)
04267D B7                  A  6331    	OR	A,A
04267E 28 2E               A  6332    	JR	Z,L_426
042680 DD3106              A  6333    	LD	IY,(IX+%6)
042683 FD0703              A  6334    	LD	BC,(IY+%3)
042686 DD0FF0              A  6335    	LD	(IX+%FFFFFFF0),BC
042689 01080000            A  6336    	LD	BC,8
04268D DD27F0              A  6337    	LD	HL,(IX+%FFFFFFF0)
042690 B7                  A  6338    	OR	A,A
042691 ED42                A  6339    	SBC	HL,BC
042693 28 0C               A  6340    	JR	Z,L_423
042695 01190000            A  6341    	LD	BC,25
042699 DD27F0              A  6342    	LD	HL,(IX+%FFFFFFF0)
04269C B7                  A  6343    	OR	A,A
04269D ED42                A  6344    	SBC	HL,BC
04269F 20 0D               A  6345    	JR	NZ,L_426
0426A1                     A  6346    L_423:
0426A1 3A 48 98 04         A  6347    	LD	A,(_operand2+11)
0426A5 4F                  A  6348    	LD	C,A
0426A6 0600                A  6349    	LD	B,%0
0426A8 C5                  A  6350    	PUSH	BC
0426A9 CD 2E 27 04         A  6351    	CALL	_emit_8bit
0426AD C1                  A  6352    	POP	BC
0426AE                     A  6353    L_426:
                           A  6354    ;  842	
                           A  6355    ;  843	
                           A  6356    ;  844	    // opcode in DDCBdd/DFCBdd position
                           A  6357    ;  845	    if(ddbeforeopcode) emit_8bit(output
                           A  6358    .LINE 845
                           A  6359    
0426AE DD7EFF              A  6360    	LD	A,(IX+%FFFFFFFF)
0426B1 B7                  A  6361    	OR	A,A
0426B2 28 0D               A  6362    	JR	Z,L_429
0426B4 3A 50 98 04         A  6363    	LD	A,(_output+3)
0426B8 4F                  A  6364    	LD	C,A
0426B9 0600                A  6365    	LD	B,%0
0426BB C5                  A  6366    	PUSH	BC
0426BC CD 2E 27 04         A  6367    	CALL	_emit_8bit
0426C0 C1                  A  6368    	POP	BC
0426C1                     A  6369    L_429:
                           A  6370    ;  846	
                           A  6371    ;  847	    //output remaining immediate bytes
                           A  6372    ;  848	    if((list->operandA == OPTYPE_MMN) |
                           A  6373    .LINE 848
                           A  6374    
0426C1 DD3106              A  6375    	LD	IY,(IX+%6)
0426C4 FD0700              A  6376    	LD	BC,(IY+%0)
0426C7 DD0FED              A  6377    	LD	(IX+%FFFFFFED),BC
0426CA 01060000            A  6378    	LD	BC,6
0426CE DD27ED              A  6379    	LD	HL,(IX+%FFFFFFED)
0426D1 B7                  A  6380    	OR	A,A
0426D2 ED42                A  6381    	SBC	HL,BC
0426D4 28 0C               A  6382    	JR	Z,L_428
0426D6 01070000            A  6383    	LD	BC,7
0426DA DD27ED              A  6384    	LD	HL,(IX+%FFFFFFED)
0426DD B7                  A  6385    	OR	A,A
0426DE ED42                A  6386    	SBC	HL,BC
0426E0 20 13               A  6387    	JR	NZ,L_432
0426E2                     A  6388    L_428:
0426E2 3A 4D 98 04         A  6389    	LD	A,(_output)
0426E6 4F                  A  6390    	LD	C,A
0426E7 0600                A  6391    	LD	B,%0
0426E9 C5                  A  6392    	PUSH	BC
0426EA 01 2D 98 04         A  6393    	LD	BC,_operand1
0426EE C5                  A  6394    	PUSH	BC
0426EF CD 7A 1F 04         A  6395    	CALL	_emit_immediate
0426F3 C1                  A  6396    	POP	BC
0426F4 C1                  A  6397    	POP	BC
0426F5                     A  6398    L_432:
                           A  6399    ;  849	    if((list->operandB == OPTYPE_MMN) |
                           A  6400    .LINE 849
                           A  6401    
0426F5 DD3106              A  6402    	LD	IY,(IX+%6)
0426F8 FD0703              A  6403    	LD	BC,(IY+%3)
0426FB DD0FEA              A  6404    	LD	(IX+%FFFFFFEA),BC
0426FE 01060000            A  6405    	LD	BC,6
042702 DD27EA              A  6406    	LD	HL,(IX+%FFFFFFEA)
042705 B7                  A  6407    	OR	A,A
042706 ED42                A  6408    	SBC	HL,BC
042708 28 0C               A  6409    	JR	Z,L_431
04270A 01070000            A  6410    	LD	BC,7
04270E DD27EA              A  6411    	LD	HL,(IX+%FFFFFFEA)
042711 B7                  A  6412    	OR	A,A
042712 ED42                A  6413    	SBC	HL,BC
042714 20 13               A  6414    	JR	NZ,L_433
042716                     A  6415    L_431:
042716 3A 4D 98 04         A  6416    	LD	A,(_output)
04271A 4F                  A  6417    	LD	C,A
04271B 0600                A  6418    	LD	B,%0
04271D C5                  A  6419    	PUSH	BC
04271E 01 3D 98 04         A  6420    	LD	BC,_operand2
042722 C5                  A  6421    	PUSH	BC
042723 CD 7A 1F 04         A  6422    	CALL	_emit_immediate
042727 C1                  A  6423    	POP	BC
042728 C1                  A  6424    	POP	BC
                           A  6425    ;  850	}
042729                     A  6426    L_433:
                           A  6427    .LINE 850
                           A  6428    
042729 DDF9                A  6429    	LD	SP,IX
04272B DDE1                A  6430    	POP	IX
04272D C9                  A  6431    	RET	
                           A  6432    
                           A  6433    
                           A  6434    ;**************************** _emit_instruction
                           A  6435    ;Name                         Addr/Register   S
                           A  6436    ;_emit_8bit                          IMPORT  --
                           A  6437    ;_operand2                           IMPORT    
                           A  6438    ;_message                            IMPORT  un
                           A  6439    ;_error                              IMPORT  --
                           A  6440    ;_operand1                           IMPORT    
                           A  6441    ;_address                            IMPORT    
                           A  6442    ;_pass                               IMPORT    
                           A  6443    ;_output                             IMPORT    
                           A  6444    ;G_22                                 IX-22    
                           A  6445    ;G_21                                 IX-19    
                           A  6446    ;G_20                                 IX-16    
                           A  6447    ;G_19                                 IX-13    
                           A  6448    ;G_18                                 IX-10    
                           A  6449    ;G_17                                  IX-7    
                           A  6450    ;temp405                               IX-4    
                           A  6451    ;ddbeforeopcode                        IX-1    
                           A  6452    ;list                                  IX+6    
                           A  6453    
                           A  6454    
                           A  6455    ; Stack Frame Size: 31 (bytes)
                           A  6456    ;       Spill Code: 0 (instruction)
                           A  6457    
                           A  6458    
                           A  6459    .ENDFUNC "emit_instruction",850,"_emit_instruct
                           A  6460    ;  851	
                           A  6461    ;  852	void emit_8bit(uint8_t value) {
04272E                     A  6462    _emit_8bit:
                           A  6463    .DEFINE "_emit_8bit"
                           A  6464    
                           A  6465    .VALUE _emit_8bit
                           A  6466    
                           A  6467    .CLASS 2
                           A  6468    
                           A  6469    .TYPE 65
                           A  6470    
                           A  6471    .ENDEF
                           A  6472    
                           A  6473    .BEGFUNC "emit_8bit",852,"_emit_8bit"
                           A  6474    
                           A  6475    .LINE 852
                           A  6476    
                           A  6477    .DEFINE "value"
                           A  6478    
                           A  6479    .CLASS 65
                           A  6480    
                           A  6481    .VALUE 6
                           A  6482    
                           A  6483    .TYPE 12
                           A  6484    
                           A  6485    .ENDEF
                           A  6486    
04272E DDE5                A  6487    	PUSH	IX
042730 DD210000 00         A  6488    	LD	IX,0
042735 DD39                A  6489    	ADD	IX,SP
                           A  6490    ;  853	    if(pass == 2) {
                           A  6491    .LINE 853
                           A  6492    
042737 01020000            A  6493    	LD	BC,2
04273B 2A 17 97 04         A  6494    	LD	HL,(_pass)
04273F B7                  A  6495    	OR	A,A
042740 ED42                A  6496    	SBC	HL,BC
042742 20 21               A  6497    	JR	NZ,L_436
                           A  6498    ;  854	        listEmit8bit(value);
                           A  6499    .LINE 854
                           A  6500    
042744 DD4E06              A  6501    	LD	C,(IX+%6)
042747 0600                A  6502    	LD	B,%0
042749 C5                  A  6503    	PUSH	BC
04274A CD 1B 52 04         A  6504    	CALL	_listEmit8bit
04274E C1                  A  6505    	POP	BC
                           A  6506    ;  855	        agon_fwrite(&value, sizeof(char
                           A  6507    .LINE 855
                           A  6508    
04274F 01020000            A  6509    	LD	BC,2
042753 C5                  A  6510    	PUSH	BC
042754 01010000            A  6511    	LD	BC,1
042758 C5                  A  6512    	PUSH	BC
042759 C5                  A  6513    	PUSH	BC
04275A ED6506              A  6514    	PEA	IX+%6
04275D CD 34 62 04         A  6515    	CALL	_agon_fwrite
042761 C1                  A  6516    	POP	BC
042762 C1                  A  6517    	POP	BC
042763 C1                  A  6518    	POP	BC
042764 C1                  A  6519    	POP	BC
                           A  6520    ;  856	    }
042765                     A  6521    L_436:
                           A  6522    .LINE 856
                           A  6523    
                           A  6524    ;  857	    address++;
                           A  6525    .LINE 857
                           A  6526    
042765 2A 1A 97 04         A  6527    	LD	HL,(_address)
042769 3A 1D 97 04         A  6528    	LD	A,(_address+3)
04276D 5F                  A  6529    	LD	E,A
04276E 3E01                A  6530    	LD	A,%1
042770 CD FF 63 04         A  6531    	CALL	__ladd_b
042774 22 1A 97 04         A  6532    	LD	(_address),HL
042778 7B                  A  6533    	LD	A,E
042779 32 1D 97 04         A  6534    	LD	(_address+3),A
                           A  6535    ;  858	    totalsize++;
                           A  6536    .LINE 858
                           A  6537    
04277D 2A 1E 97 04         A  6538    	LD	HL,(_totalsize)
042781 3A 21 97 04         A  6539    	LD	A,(_totalsize+3)
042785 5F                  A  6540    	LD	E,A
042786 3E01                A  6541    	LD	A,%1
042788 CD FF 63 04         A  6542    	CALL	__ladd_b
04278C 22 1E 97 04         A  6543    	LD	(_totalsize),HL
042790 7B                  A  6544    	LD	A,E
042791 32 21 97 04         A  6545    	LD	(_totalsize+3),A
                           A  6546    ;  859	}
                           A  6547    .LINE 859
                           A  6548    
042795 DDF9                A  6549    	LD	SP,IX
042797 DDE1                A  6550    	POP	IX
042799 C9                  A  6551    	RET	
                           A  6552    
                           A  6553    
                           A  6554    ;**************************** _emit_8bit ******
                           A  6555    ;Name                         Addr/Register   S
                           A  6556    ;_totalsize                          IMPORT    
                           A  6557    ;_address                            IMPORT    
                           A  6558    ;_agon_fwrite                        IMPORT  --
                           A  6559    ;_listEmit8bit                       IMPORT  --
                           A  6560    ;_pass                               IMPORT    
                           A  6561    ;value                                 IX+6    
                           A  6562    
                           A  6563    
                           A  6564    ; Stack Frame Size: 9 (bytes)
                           A  6565    ;       Spill Code: 0 (instruction)
                           A  6566    
                           A  6567    
                           A  6568    .ENDFUNC "emit_8bit",859,"_emit_8bit"
                           A  6569    ;  860	
                           A  6570    ;  861	void emit_16bit(uint16_t value) {
04279A                     A  6571    _emit_16bit:
                           A  6572    .DEFINE "_emit_16bit"
                           A  6573    
                           A  6574    .VALUE _emit_16bit
                           A  6575    
                           A  6576    .CLASS 2
                           A  6577    
                           A  6578    .TYPE 65
                           A  6579    
                           A  6580    .ENDEF
                           A  6581    
                           A  6582    .BEGFUNC "emit_16bit",861,"_emit_16bit"
                           A  6583    
                           A  6584    .LINE 861
                           A  6585    
                           A  6586    .DEFINE "value"
                           A  6587    
                           A  6588    .CLASS 65
                           A  6589    
                           A  6590    .VALUE 6
                           A  6591    
                           A  6592    .TYPE 13
                           A  6593    
                           A  6594    .ENDEF
                           A  6595    
04279A DDE5                A  6596    	PUSH	IX
04279C DD210000 00         A  6597    	LD	IX,0
0427A1 DD39                A  6598    	ADD	IX,SP
                           A  6599    ;  862	    emit_8bit(value&0xFF);
                           A  6600    .LINE 862
                           A  6601    
0427A3 DD7E06              A  6602    	LD	A,(IX+%6)
0427A6 4F                  A  6603    	LD	C,A
0427A7 0600                A  6604    	LD	B,%0
0427A9 C5                  A  6605    	PUSH	BC
0427AA CD 2E 27 04         A  6606    	CALL	_emit_8bit
0427AE C1                  A  6607    	POP	BC
                           A  6608    ;  863	    emit_8bit((value>>8)&0xFF);
                           A  6609    .LINE 863
                           A  6610    
0427AF DD0706              A  6611    	LD	BC,(IX+%6)
0427B2 CD 96 66 04         A  6612    	CALL	__stoiu
0427B6 3E08                A  6613    	LD	A,%8
0427B8 CD 9F 64 04         A  6614    	CALL	__ishrs_b
0427BC 7D                  A  6615    	LD	A,L
0427BD 4F                  A  6616    	LD	C,A
0427BE 0600                A  6617    	LD	B,%0
0427C0 C5                  A  6618    	PUSH	BC
0427C1 CD 2E 27 04         A  6619    	CALL	_emit_8bit
0427C5 C1                  A  6620    	POP	BC
                           A  6621    ;  864	}
                           A  6622    .LINE 864
                           A  6623    
0427C6 DDF9                A  6624    	LD	SP,IX
0427C8 DDE1                A  6625    	POP	IX
0427CA C9                  A  6626    	RET	
                           A  6627    
                           A  6628    
                           A  6629    ;**************************** _emit_16bit *****
                           A  6630    ;Name                         Addr/Register   S
                           A  6631    ;_emit_8bit                          IMPORT  --
                           A  6632    ;value                                 IX+6    
                           A  6633    
                           A  6634    
                           A  6635    ; Stack Frame Size: 9 (bytes)
                           A  6636    ;       Spill Code: 0 (instruction)
                           A  6637    
                           A  6638    
                           A  6639    .ENDFUNC "emit_16bit",864,"_emit_16bit"
                           A  6640    ;  865	
                           A  6641    ;  866	void emit_24bit(uint32_t value) {
0427CB                     A  6642    _emit_24bit:
                           A  6643    .DEFINE "_emit_24bit"
                           A  6644    
                           A  6645    .VALUE _emit_24bit
                           A  6646    
                           A  6647    .CLASS 2
                           A  6648    
                           A  6649    .TYPE 65
                           A  6650    
                           A  6651    .ENDEF
                           A  6652    
                           A  6653    .BEGFUNC "emit_24bit",866,"_emit_24bit"
                           A  6654    
                           A  6655    .LINE 866
                           A  6656    
                           A  6657    .DEFINE "value"
                           A  6658    
                           A  6659    .CLASS 65
                           A  6660    
                           A  6661    .VALUE 6
                           A  6662    
                           A  6663    .TYPE 15
                           A  6664    
                           A  6665    .ENDEF
                           A  6666    
0427CB DDE5                A  6667    	PUSH	IX
0427CD DD210000 00         A  6668    	LD	IX,0
0427D2 DD39                A  6669    	ADD	IX,SP
                           A  6670    ;  867	    emit_8bit(value&0xFF);
                           A  6671    .LINE 867
                           A  6672    
0427D4 DD7E06              A  6673    	LD	A,(IX+%6)
0427D7 4F                  A  6674    	LD	C,A
0427D8 0600                A  6675    	LD	B,%0
0427DA C5                  A  6676    	PUSH	BC
0427DB CD 2E 27 04         A  6677    	CALL	_emit_8bit
0427DF C1                  A  6678    	POP	BC
                           A  6679    ;  868	    emit_8bit((value>>8)&0xFF);
                           A  6680    .LINE 868
                           A  6681    
0427E0 DD0706              A  6682    	LD	BC,(IX+%6)
0427E3 DD7E09              A  6683    	LD	A,(IX+%9)
0427E6 2E08                A  6684    	LD	L,%8
0427E8 CD 9D 6A 04         A  6685    	CALL	__lshru
0427EC 0600                A  6686    	LD	B,%0
0427EE C5                  A  6687    	PUSH	BC
0427EF CD 2E 27 04         A  6688    	CALL	_emit_8bit
0427F3 C1                  A  6689    	POP	BC
                           A  6690    ;  869	    emit_8bit((value>>16)&0xFF);
                           A  6691    .LINE 869
                           A  6692    
0427F4 DD0706              A  6693    	LD	BC,(IX+%6)
0427F7 DD7E09              A  6694    	LD	A,(IX+%9)
0427FA 2E10                A  6695    	LD	L,%10
0427FC CD 9D 6A 04         A  6696    	CALL	__lshru
042800 0600                A  6697    	LD	B,%0
042802 C5                  A  6698    	PUSH	BC
042803 CD 2E 27 04         A  6699    	CALL	_emit_8bit
042807 C1                  A  6700    	POP	BC
                           A  6701    ;  870	}
                           A  6702    .LINE 870
                           A  6703    
042808 DDF9                A  6704    	LD	SP,IX
04280A DDE1                A  6705    	POP	IX
04280C C9                  A  6706    	RET	
                           A  6707    
                           A  6708    
                           A  6709    ;**************************** _emit_24bit *****
                           A  6710    ;Name                         Addr/Register   S
                           A  6711    ;_emit_8bit                          IMPORT  --
                           A  6712    ;value                                 IX+6    
                           A  6713    
                           A  6714    
                           A  6715    ; Stack Frame Size: 12 (bytes)
                           A  6716    ;       Spill Code: 0 (instruction)
                           A  6717    
                           A  6718    
                           A  6719    .ENDFUNC "emit_24bit",870,"_emit_24bit"
                           A  6720    ;  871	
                           A  6721    ;  872	void emit_32bit(uint32_t value) {
04280D                     A  6722    _emit_32bit:
                           A  6723    .DEFINE "_emit_32bit"
                           A  6724    
                           A  6725    .VALUE _emit_32bit
                           A  6726    
                           A  6727    .CLASS 2
                           A  6728    
                           A  6729    .TYPE 65
                           A  6730    
                           A  6731    .ENDEF
                           A  6732    
                           A  6733    .BEGFUNC "emit_32bit",872,"_emit_32bit"
                           A  6734    
                           A  6735    .LINE 872
                           A  6736    
                           A  6737    .DEFINE "value"
                           A  6738    
                           A  6739    .CLASS 65
                           A  6740    
                           A  6741    .VALUE 6
                           A  6742    
                           A  6743    .TYPE 15
                           A  6744    
                           A  6745    .ENDEF
                           A  6746    
04280D DDE5                A  6747    	PUSH	IX
04280F DD210000 00         A  6748    	LD	IX,0
042814 DD39                A  6749    	ADD	IX,SP
                           A  6750    ;  873	    emit_8bit(value&0xFF);
                           A  6751    .LINE 873
                           A  6752    
042816 DD7E06              A  6753    	LD	A,(IX+%6)
042819 4F                  A  6754    	LD	C,A
04281A 0600                A  6755    	LD	B,%0
04281C C5                  A  6756    	PUSH	BC
04281D CD 2E 27 04         A  6757    	CALL	_emit_8bit
042821 C1                  A  6758    	POP	BC
                           A  6759    ;  874	    emit_8bit((value>>8)&0xFF);
                           A  6760    .LINE 874
                           A  6761    
042822 DD0706              A  6762    	LD	BC,(IX+%6)
042825 DD7E09              A  6763    	LD	A,(IX+%9)
042828 2E08                A  6764    	LD	L,%8
04282A CD 9D 6A 04         A  6765    	CALL	__lshru
04282E 0600                A  6766    	LD	B,%0
042830 C5                  A  6767    	PUSH	BC
042831 CD 2E 27 04         A  6768    	CALL	_emit_8bit
042835 C1                  A  6769    	POP	BC
                           A  6770    ;  875	    emit_8bit((value>>16)&0xFF);
                           A  6771    .LINE 875
                           A  6772    
042836 DD0706              A  6773    	LD	BC,(IX+%6)
042839 DD7E09              A  6774    	LD	A,(IX+%9)
04283C 2E10                A  6775    	LD	L,%10
04283E CD 9D 6A 04         A  6776    	CALL	__lshru
042842 0600                A  6777    	LD	B,%0
042844 C5                  A  6778    	PUSH	BC
042845 CD 2E 27 04         A  6779    	CALL	_emit_8bit
042849 C1                  A  6780    	POP	BC
                           A  6781    ;  876	    emit_8bit((value>>24)&0xFF);
                           A  6782    .LINE 876
                           A  6783    
04284A DD7E09              A  6784    	LD	A,(IX+%9)
04284D B7ED62              A  6785    	UEXT	HL
042850 6F                  A  6786    	LD	L,A
042851 E5C1                A  6787    	LD	BC,HL
042853 0600                A  6788    	LD	B,%0
042855 C5                  A  6789    	PUSH	BC
042856 CD 2E 27 04         A  6790    	CALL	_emit_8bit
04285A C1                  A  6791    	POP	BC
                           A  6792    ;  877	}
                           A  6793    .LINE 877
                           A  6794    
04285B DDF9                A  6795    	LD	SP,IX
04285D DDE1                A  6796    	POP	IX
04285F C9                  A  6797    	RET	
                           A  6798    
                           A  6799    
                           A  6800    ;**************************** _emit_32bit *****
                           A  6801    ;Name                         Addr/Register   S
                           A  6802    ;_emit_8bit                          IMPORT  --
                           A  6803    ;value                                 IX+6    
                           A  6804    
                           A  6805    
                           A  6806    ; Stack Frame Size: 12 (bytes)
                           A  6807    ;       Spill Code: 0 (instruction)
                           A  6808    
                           A  6809    
                           A  6810    .ENDFUNC "emit_32bit",877,"_emit_32bit"
                           A  6811    ;  878	
                           A  6812    ;  879	// return the value of a previously esc
                           A  6813    ;  880	uint8_t get_escaped_char(char n) {
042860                     A  6814    _get_escaped_char:
                           A  6815    .DEFINE "_get_escaped_char"
                           A  6816    
                           A  6817    .VALUE _get_escaped_char
                           A  6818    
                           A  6819    .CLASS 2
                           A  6820    
                           A  6821    .TYPE 76
                           A  6822    
                           A  6823    .ENDEF
                           A  6824    
                           A  6825    .BEGFUNC "get_escaped_char",880,"_get_escaped_c
                           A  6826    
                           A  6827    .LINE 880
                           A  6828    
                           A  6829    .DEFINE "n"
                           A  6830    
                           A  6831    .CLASS 65
                           A  6832    
                           A  6833    .VALUE 6
                           A  6834    
                           A  6835    .TYPE 2
                           A  6836    
                           A  6837    .ENDEF
                           A  6838    
042860 DDE5                A  6839    	PUSH	IX
042862 DD210000 00         A  6840    	LD	IX,0
042867 DD39                A  6841    	ADD	IX,SP
                           A  6842    ;  881	    switch(n) {
                           A  6843    .LINE 881
                           A  6844    
042869 DD7E06              A  6845    	LD	A,(IX+%6)
04286C 17ED62              A  6846    	SEXT	HL
04286F DD6E06              A  6847    	LD	L,(IX+%6)
042872 CD 33 6E 04         A  6848    	CALL	__case8D
042876 E9                  A  6849    	JP	(HL)
042877                     A  6850    L__194:
042877 0700                A  6851    	DW	7
042879 22                  A  6852    	DB	34
04287A AC2804              A  6853    	DW24	L_447	
                           A  6854    
04287D 27                  A  6855    	DB	39
04287E B02804              A  6856    	DW24	L_448	
                           A  6857    
042881 62                  A  6858    	DB	98
042882 A42804              A  6859    	DW24	L_445	
                           A  6860    
042885 65                  A  6861    	DB	101
042886 A82804              A  6862    	DW24	L_446	
                           A  6863    
042889 6E                  A  6864    	DB	110
04288A 982804              A  6865    	DW24	L_442	
                           A  6866    
04288D 72                  A  6867    	DB	114
04288E 9C2804              A  6868    	DW24	L_443	
                           A  6869    
042891 74                  A  6870    	DB	116
042892 A02804              A  6871    	DW24	L_444	
                           A  6872    
042895 B42804              A  6873    	DW24	L_449	
                           A  6874    
                           A  6875    ;  882	        case 'n':
042898                     A  6876    L_442:
                           A  6877    .LINE 882
                           A  6878    
                           A  6879    ;  883	            return(0x0a);
                           A  6880    .LINE 883
                           A  6881    
042898 3E0A                A  6882    	LD	A,%A
04289A 18 1B               A  6883    	JR	L_450
                           A  6884    ;  884	        case 'r':
04289C                     A  6885    L_443:
                           A  6886    .LINE 884
                           A  6887    
                           A  6888    ;  885	            return(0x0d);
                           A  6889    .LINE 885
                           A  6890    
04289C 3E0D                A  6891    	LD	A,%D
04289E 18 17               A  6892    	JR	L_450
                           A  6893    ;  886	        case 't':
0428A0                     A  6894    L_444:
                           A  6895    .LINE 886
                           A  6896    
                           A  6897    ;  887	            return(0x09);
                           A  6898    .LINE 887
                           A  6899    
0428A0 3E09                A  6900    	LD	A,%9
0428A2 18 13               A  6901    	JR	L_450
                           A  6902    ;  888	        case 'b':
0428A4                     A  6903    L_445:
                           A  6904    .LINE 888
                           A  6905    
                           A  6906    ;  889	            return(0x08);
                           A  6907    .LINE 889
                           A  6908    
0428A4 3E08                A  6909    	LD	A,%8
0428A6 18 0F               A  6910    	JR	L_450
                           A  6911    ;  890	        case 'e':
0428A8                     A  6912    L_446:
                           A  6913    .LINE 890
                           A  6914    
                           A  6915    ;  891	            return(0x1b);
                           A  6916    .LINE 891
                           A  6917    
0428A8 3E1B                A  6918    	LD	A,%1B
0428AA 18 0B               A  6919    	JR	L_450
                           A  6920    ;  892	        case '\"':
0428AC                     A  6921    L_447:
                           A  6922    .LINE 892
                           A  6923    
                           A  6924    ;  893	            return('\"');
                           A  6925    .LINE 893
                           A  6926    
0428AC 3E22                A  6927    	LD	A,%22
0428AE 18 07               A  6928    	JR	L_450
                           A  6929    ;  894	        case '\'':
0428B0                     A  6930    L_448:
                           A  6931    .LINE 894
                           A  6932    
                           A  6933    ;  895	            return('\'');
                           A  6934    .LINE 895
                           A  6935    
0428B0 3E27                A  6936    	LD	A,%27
0428B2 18 03               A  6937    	JR	L_450
                           A  6938    ;  896	        default:
0428B4                     A  6939    L_449:
                           A  6940    .LINE 896
                           A  6941    
                           A  6942    ;  897	            return(n);
                           A  6943    .LINE 897
                           A  6944    
0428B4 DD7E06              A  6945    	LD	A,(IX+%6)
                           A  6946    ;  898	    }
                           A  6947    ;  899	}
0428B7                     A  6948    L_450:
                           A  6949    .LINE 899
                           A  6950    
0428B7 DDF9                A  6951    	LD	SP,IX
0428B9 DDE1                A  6952    	POP	IX
0428BB C9                  A  6953    	RET	
                           A  6954    
                           A  6955    
                           A  6956    ;**************************** _get_escaped_char
                           A  6957    ;Name                         Addr/Register   S
                           A  6958    ;n                                     IX+6    
                           A  6959    
                           A  6960    
                           A  6961    ; Stack Frame Size: 9 (bytes)
                           A  6962    ;       Spill Code: 0 (instruction)
                           A  6963    
                           A  6964    
                           A  6965    .ENDFUNC "get_escaped_char",899,"_get_escaped_c
                           A  6966    ;  900	
                           A  6967    ;  901	// emits a string surrounded by literal
                           A  6968    ;  902	void emit_quotedstring(char *str) {
0428BC                     A  6969    _emit_quotedstring:
                           A  6970    .DEFINE "_emit_quotedstring"
                           A  6971    
                           A  6972    .VALUE _emit_quotedstring
                           A  6973    
                           A  6974    .CLASS 2
                           A  6975    
                           A  6976    .TYPE 65
                           A  6977    
                           A  6978    .ENDEF
                           A  6979    
                           A  6980    .BEGFUNC "emit_quotedstring",902,"_emit_quoteds
                           A  6981    
                           A  6982    .LINE 902
                           A  6983    
                           A  6984    .DEFINE "str"
                           A  6985    
                           A  6986    .CLASS 65
                           A  6987    
                           A  6988    .VALUE 6
                           A  6989    
                           A  6990    .TYPE 34
                           A  6991    
                           A  6992    .ENDEF
                           A  6993    
                           A  6994    .DEFINE "escaped"
                           A  6995    
                           A  6996    .CLASS 65
                           A  6997    
                           A  6998    .VALUE -1
                           A  6999    
                           A  7000    .TYPE 12
                           A  7001    
                           A  7002    .ENDEF
                           A  7003    
0428BC DDE5                A  7004    	PUSH	IX
0428BE DD210000 00         A  7005    	LD	IX,0
0428C3 DD39                A  7006    	ADD	IX,SP
0428C5 3B                  A  7007    	DEC	SP
                           A  7008    ;  903	    bool escaped = false;
                           A  7009    .LINE 903
                           A  7010    
0428C6 DD36FF00            A  7011    	LD	(IX+%FFFFFFFF),%0
                           A  7012    ;  904	
                           A  7013    ;  905	    if(*str == '\"') {
                           A  7014    .LINE 905
                           A  7015    
0428CA DD2706              A  7016    	LD	HL,(IX+%6)
0428CD 7E                  A  7017    	LD	A,(HL)
0428CE 47                  A  7018    	LD	B,A
0428CF 17ED62              A  7019    	SEXT	HL
0428D2 68                  A  7020    	LD	L,B
0428D3 01220000            A  7021    	LD	BC,34
0428D7 B7                  A  7022    	OR	A,A
0428D8 ED42                A  7023    	SBC	HL,BC
0428DA C2 BD 29 04         A  7024    	JR	NZ,L_478
                           A  7025    ;  906	        str++;
                           A  7026    .LINE 906
                           A  7027    
0428DE DD0706              A  7028    	LD	BC,(IX+%6)
0428E1 03                  A  7029    	INC	BC
0428E2 DD0F06              A  7030    	LD	(IX+%6),BC
                           A  7031    ;  907	        while(*str) {
                           A  7032    .LINE 907
                           A  7033    
0428E5 C3 A6 29 04         A  7034    	JR	L_474
0428E9                     A  7035    L_475:
                           A  7036    ;  908	            switch(*str) {
                           A  7037    .LINE 908
                           A  7038    
0428E9 DD2706              A  7039    	LD	HL,(IX+%6)
0428EC 7E                  A  7040    	LD	A,(HL)
0428ED 47                  A  7041    	LD	B,A
0428EE 17ED62              A  7042    	SEXT	HL
0428F1 68                  A  7043    	LD	L,B
0428F2 CD 33 6E 04         A  7044    	CALL	__case8D
0428F6 E9                  A  7045    	JP	(HL)
0428F7                     A  7046    L__197:
0428F7 0800                A  7047    	DW	8
0428F9 22                  A  7048    	DB	34
0428FA 672904              A  7049    	DW24	L_465	
                           A  7050    
0428FD 27                  A  7051    	DB	39
0428FE 382904              A  7052    	DW24	L_461	
                           A  7053    
042901 5C                  A  7054    	DB	92
042902 1C2904              A  7055    	DW24	L_452	
                           A  7056    
042905 62                  A  7057    	DB	98
042906 382904              A  7058    	DW24	L_459	
                           A  7059    
042909 65                  A  7060    	DB	101
04290A 382904              A  7061    	DW24	L_460	
                           A  7062    
04290D 6E                  A  7063    	DB	110
04290E 382904              A  7064    	DW24	L_456	
                           A  7065    
042911 72                  A  7066    	DB	114
042912 382904              A  7067    	DW24	L_457	
                           A  7068    
042915 74                  A  7069    	DB	116
042916 382904              A  7070    	DW24	L_458	
                           A  7071    
042919 932904              A  7072    	DW24	L_471	
                           A  7073    
                           A  7074    ;  909	                case '\\':
04291C                     A  7075    L_452:
                           A  7076    .LINE 909
                           A  7077    
                           A  7078    ;  910	                    if(escaped) {
                           A  7079    .LINE 910
                           A  7080    
04291C DD7EFF              A  7081    	LD	A,(IX+%FFFFFFFF)
04291F B7                  A  7082    	OR	A,A
042920 28 10               A  7083    	JR	Z,L_454
                           A  7084    ;  911	                        emit_8bit('\\')
                           A  7085    .LINE 911
                           A  7086    
042922 015C0000            A  7087    	LD	BC,92
042926 C5                  A  7088    	PUSH	BC
042927 CD 2E 27 04         A  7089    	CALL	_emit_8bit
04292B C1                  A  7090    	POP	BC
                           A  7091    ;  912	                        escaped = false
                           A  7092    .LINE 912
                           A  7093    
04292C DD36FF00            A  7094    	LD	(IX+%FFFFFFFF),%0
                           A  7095    ;  913	                    }
                           A  7096    ;  914	                    else escaped = true
                           A  7097    .LINE 914
                           A  7098    
042930 18 6D               A  7099    	JR	L_473
042932                     A  7100    L_454:
042932 DD36FF01            A  7101    	LD	(IX+%FFFFFFFF),%1
                           A  7102    ;  915	                    break;
                           A  7103    .LINE 915
                           A  7104    
042936 18 67               A  7105    	JR	L_473
                           A  7106    ;  916	                case 'n':
042938                     A  7107    L_456:
                           A  7108    .LINE 916
                           A  7109    
                           A  7110    ;  917	                case 'r':
042938                     A  7111    L_457:
                           A  7112    .LINE 917
                           A  7113    
                           A  7114    ;  918	                case 't':
042938                     A  7115    L_458:
                           A  7116    .LINE 918
                           A  7117    
                           A  7118    ;  919	                case 'b':
042938                     A  7119    L_459:
                           A  7120    .LINE 919
                           A  7121    
                           A  7122    ;  920	                case 'e':
042938                     A  7123    L_460:
                           A  7124    .LINE 920
                           A  7125    
                           A  7126    ;  921	                case '\'':
042938                     A  7127    L_461:
                           A  7128    .LINE 921
                           A  7129    
                           A  7130    ;  922	                    if(escaped) emit_8b
                           A  7131    .LINE 922
                           A  7132    
042938 DD7EFF              A  7133    	LD	A,(IX+%FFFFFFFF)
04293B B7                  A  7134    	OR	A,A
04293C 28 17               A  7135    	JR	Z,L_463
04293E DD2706              A  7136    	LD	HL,(IX+%6)
042941 4E                  A  7137    	LD	C,(HL)
042942 0600                A  7138    	LD	B,%0
042944 C5                  A  7139    	PUSH	BC
042945 CD 60 28 04         A  7140    	CALL	_get_escaped_char
042949 C1                  A  7141    	POP	BC
04294A 4F                  A  7142    	LD	C,A
04294B 0600                A  7143    	LD	B,%0
04294D C5                  A  7144    	PUSH	BC
04294E CD 2E 27 04         A  7145    	CALL	_emit_8bit
042952 C1                  A  7146    	POP	BC
                           A  7147    ;  923	                    else emit_8bit(*str
                           A  7148    .LINE 923
                           A  7149    
042953 18 0C               A  7150    	JR	L_464
042955                     A  7151    L_463:
042955 DD2706              A  7152    	LD	HL,(IX+%6)
042958 4E                  A  7153    	LD	C,(HL)
042959 0600                A  7154    	LD	B,%0
04295B C5                  A  7155    	PUSH	BC
04295C CD 2E 27 04         A  7156    	CALL	_emit_8bit
042960 C1                  A  7157    	POP	BC
042961                     A  7158    L_464:
                           A  7159    ;  924	                    escaped = false;
                           A  7160    .LINE 924
                           A  7161    
042961 DD36FF00            A  7162    	LD	(IX+%FFFFFFFF),%0
                           A  7163    ;  925	                    break;
                           A  7164    .LINE 925
                           A  7165    
042965 18 38               A  7166    	JR	L_473
                           A  7167    ;  926	                case '\"':
042967                     A  7168    L_465:
                           A  7169    .LINE 926
                           A  7170    
                           A  7171    ;  927	                    if(escaped) {
                           A  7172    .LINE 927
                           A  7173    
042967 DD7EFF              A  7174    	LD	A,(IX+%FFFFFFFF)
04296A B7                  A  7175    	OR	A,A
04296B 28 10               A  7176    	JR	Z,L_469
                           A  7177    ;  928	                        emit_8bit('\"')
                           A  7178    .LINE 928
                           A  7179    
04296D 01220000            A  7180    	LD	BC,34
042971 C5                  A  7181    	PUSH	BC
042972 CD 2E 27 04         A  7182    	CALL	_emit_8bit
042976 C1                  A  7183    	POP	BC
                           A  7184    ;  929	                        escaped = false
                           A  7185    .LINE 929
                           A  7186    
042977 DD36FF00            A  7187    	LD	(IX+%FFFFFFFF),%0
                           A  7188    ;  930	                    }
                           A  7189    ;  931	                    else {
                           A  7190    .LINE 931
                           A  7191    
04297B 18 22               A  7192    	JR	L_473
04297D                     A  7193    L_469:
                           A  7194    ;  932	                        if(*(str+1) != 
                           A  7195    .LINE 932
                           A  7196    
04297D DD2706              A  7197    	LD	HL,(IX+%6)
042980 23                  A  7198    	INC	HL
042981 7E                  A  7199    	LD	A,(HL)
042982 B7                  A  7200    	OR	A,A
042983 28 44               A  7201    	JR	Z,L_479
042985 21 C5 71 04         A  7202    	LD	HL,_message+63
042989 ED07                A  7203    	LD	BC,(HL)
04298B C5                  A  7204    	PUSH	BC
04298C CD A1 58 04         A  7205    	CALL	_error
042990 C1                  A  7206    	POP	BC
                           A  7207    ;  933	                        return; // end 
                           A  7208    .LINE 933
                           A  7209    
042991 18 36               A  7210    	JR	L_479
                           A  7211    ;  934	                    }
                           A  7212    ;  935	                    break;
                           A  7213    ;  936	                default:
042993                     A  7214    L_471:
                           A  7215    .LINE 936
                           A  7216    
                           A  7217    ;  937	                    emit_8bit(*str);
                           A  7218    .LINE 937
                           A  7219    
042993 DD2706              A  7220    	LD	HL,(IX+%6)
042996 4E                  A  7221    	LD	C,(HL)
042997 0600                A  7222    	LD	B,%0
042999 C5                  A  7223    	PUSH	BC
04299A CD 2E 27 04         A  7224    	CALL	_emit_8bit
04299E C1                  A  7225    	POP	BC
                           A  7226    ;  938	            }
04299F                     A  7227    L_473:
                           A  7228    .LINE 938
                           A  7229    
                           A  7230    ;  939	            str++;
                           A  7231    .LINE 939
                           A  7232    
04299F DD0706              A  7233    	LD	BC,(IX+%6)
0429A2 03                  A  7234    	INC	BC
0429A3 DD0F06              A  7235    	LD	(IX+%6),BC
                           A  7236    ;  940	        }
0429A6                     A  7237    L_474:
                           A  7238    .LINE 940
                           A  7239    
0429A6 DD2706              A  7240    	LD	HL,(IX+%6)
0429A9 7E                  A  7241    	LD	A,(HL)
0429AA B7                  A  7242    	OR	A,A
0429AB C2 E9 28 04         A  7243    	JR	NZ,L_475
                           A  7244    ;  941	        // we missed an end-quote to th
                           A  7245    ;  942	        error(message[ERROR_STRINGFORMA
                           A  7246    .LINE 942
                           A  7247    
0429AF 21 C5 71 04         A  7248    	LD	HL,_message+63
0429B3 ED07                A  7249    	LD	BC,(HL)
0429B5 C5                  A  7250    	PUSH	BC
0429B6 CD A1 58 04         A  7251    	CALL	_error
0429BA C1                  A  7252    	POP	BC
                           A  7253    ;  943	    }
                           A  7254    ;  944	    else error(message[ERROR_STRINGFORM
                           A  7255    .LINE 944
                           A  7256    
0429BB 18 0C               A  7257    	JR	L_479
0429BD                     A  7258    L_478:
0429BD 21 C5 71 04         A  7259    	LD	HL,_message+63
0429C1 ED07                A  7260    	LD	BC,(HL)
0429C3 C5                  A  7261    	PUSH	BC
0429C4 CD A1 58 04         A  7262    	CALL	_error
0429C8 C1                  A  7263    	POP	BC
                           A  7264    ;  945	}
0429C9                     A  7265    L_479:
                           A  7266    .LINE 945
                           A  7267    
0429C9 DDF9                A  7268    	LD	SP,IX
0429CB DDE1                A  7269    	POP	IX
0429CD C9                  A  7270    	RET	
                           A  7271    
                           A  7272    
                           A  7273    ;**************************** _emit_quotedstrin
                           A  7274    ;Name                         Addr/Register   S
                           A  7275    ;_message                            IMPORT  un
                           A  7276    ;_error                              IMPORT  --
                           A  7277    ;_emit_8bit                          IMPORT  --
                           A  7278    ;escaped                               IX-1    
                           A  7279    ;str                                   IX+6    
                           A  7280    
                           A  7281    
                           A  7282    ; Stack Frame Size: 10 (bytes)
                           A  7283    ;       Spill Code: 0 (instruction)
                           A  7284    
                           A  7285    
                           A  7286    .ENDFUNC "emit_quotedstring",945,"_emit_quoteds
                           A  7287    ;  946	
                           A  7288    ;  947	void parse_asm_single_immediate(void) {
0429CE                     A  7289    _parse_asm_single_immediate:
                           A  7290    .DEFINE "_parse_asm_single_immediate"
                           A  7291    
                           A  7292    .VALUE _parse_asm_single_immediate
                           A  7293    
                           A  7294    .CLASS 2
                           A  7295    
                           A  7296    .TYPE 65
                           A  7297    
                           A  7298    .ENDEF
                           A  7299    
                           A  7300    .BEGFUNC "parse_asm_single_immediate",947,"_par
                           A  7301    
                           A  7302    .LINE 947
                           A  7303    
                           A  7304    .DEFINE "token"
                           A  7305    
                           A  7306    .CLASS 65
                           A  7307    
                           A  7308    .VALUE -261
                           A  7309    
                           A  7310    .TAG "NONAME11"
                           A  7311    
                           A  7312    .TYPE 8
                           A  7313    
                           A  7314    .ENDEF
                           A  7315    
0429CE DDE5                A  7316    	PUSH	IX
0429D0 DD210000 00         A  7317    	LD	IX,0
0429D5 DD39                A  7318    	ADD	IX,SP
0429D7 21FBFEFF            A  7319    	LD	HL,-261
0429DB 39                  A  7320    	ADD	HL,SP
0429DC F9                  A  7321    	LD	SP,HL
                           A  7322    ;  948	    tokentype token;
                           A  7323    ;  949	
                           A  7324    ;  950	    if(currentline.next) {
                           A  7325    .LINE 950
                           A  7326    
0429DD 2A 28 97 04         A  7327    	LD	HL,(_currentline+3)
0429E1 CD E3 6A 04         A  7328    	CALL	__icmpzero
0429E5 28 77               A  7329    	JR	Z,L_484
                           A  7330    ;  951	        getLineToken(&token, currentlin
                           A  7331    .LINE 951
                           A  7332    
0429E7 01000000            A  7333    	LD	BC,0
0429EB C5                  A  7334    	PUSH	BC
0429EC ED4B 28 97 04       A  7335    	LD	BC,(_currentline+3)
0429F1 C5                  A  7336    	PUSH	BC
0429F2 DDE5E1              A  7337    	LD	HL,IX
0429F5 01FBFEFF            A  7338    	LD	BC,-261
0429F9 09                  A  7339    	ADD	HL,BC
0429FA E5C1                A  7340    	LD	BC,HL
0429FC C5                  A  7341    	PUSH	BC
0429FD CD D0 59 04         A  7342    	CALL	_getLineToken
042A01 C1                  A  7343    	POP	BC
042A02 C1                  A  7344    	POP	BC
042A03 C1                  A  7345    	POP	BC
                           A  7346    ;  952	        if(notEmpty(token.start)) {
                           A  7347    .LINE 952
                           A  7348    
042A04 DDE5E1              A  7349    	LD	HL,IX
042A07 01FBFEFF            A  7350    	LD	BC,-261
042A0B 09                  A  7351    	ADD	HL,BC
042A0C E5C1                A  7352    	LD	BC,HL
042A0E C5                  A  7353    	PUSH	BC
042A0F CD 87 58 04         A  7354    	CALL	_notEmpty
042A13 C1                  A  7355    	POP	BC
042A14 B7                  A  7356    	OR	A,A
042A15 28 39               A  7357    	JR	Z,L_482
                           A  7358    ;  953	            operand1.immediate = str2nu
                           A  7359    .LINE 953
                           A  7360    
042A17 01010000            A  7361    	LD	BC,1
042A1B C5                  A  7362    	PUSH	BC
042A1C DDE5E1              A  7363    	LD	HL,IX
042A1F 01FBFEFF            A  7364    	LD	BC,-261
042A23 09                  A  7365    	ADD	HL,BC
042A24 E5C1                A  7366    	LD	BC,HL
042A26 C5                  A  7367    	PUSH	BC
042A27 CD 3E 54 04         A  7368    	CALL	_str2num
042A2B C1                  A  7369    	POP	BC
042A2C C1                  A  7370    	POP	BC
042A2D 22 38 98 04         A  7371    	LD	(_operand1+11),HL
042A31 7B                  A  7372    	LD	A,E
042A32 32 3B 98 04         A  7373    	LD	(_operand1+14),A
                           A  7374    ;  954	            operand1.immediate_provided
                           A  7375    .LINE 954
                           A  7376    
042A36 3E01                A  7377    	LD	A,%1
042A38 32 37 98 04         A  7378    	LD	(_operand1+10),A
                           A  7379    ;  955	            if(token.terminator != 0) e
                           A  7380    .LINE 955
                           A  7381    
042A3C DD7EFF              A  7382    	LD	A,(IX+%FFFFFFFF)
042A3F B7                  A  7383    	OR	A,A
042A40 28 28               A  7384    	JR	Z,L_485
042A42 21 DD 71 04         A  7385    	LD	HL,_message+87
042A46 ED07                A  7386    	LD	BC,(HL)
042A48 C5                  A  7387    	PUSH	BC
042A49 CD A1 58 04         A  7388    	CALL	_error
042A4D C1                  A  7389    	POP	BC
                           A  7390    ;  956	        }
                           A  7391    ;  957	        else error(message[ERROR_MISSIN
                           A  7392    .LINE 957
                           A  7393    
042A4E 18 1A               A  7394    	JR	L_485
042A50                     A  7395    L_482:
042A50 21 95 71 04         A  7396    	LD	HL,_message+15
042A54 ED07                A  7397    	LD	BC,(HL)
042A56 C5                  A  7398    	PUSH	BC
042A57 CD A1 58 04         A  7399    	CALL	_error
042A5B C1                  A  7400    	POP	BC
                           A  7401    ;  958	    }
                           A  7402    ;  959	    else error(message[ERROR_MISSINGOPE
                           A  7403    .LINE 959
                           A  7404    
042A5C 18 0C               A  7405    	JR	L_485
042A5E                     A  7406    L_484:
042A5E 21 95 71 04         A  7407    	LD	HL,_message+15
042A62 ED07                A  7408    	LD	BC,(HL)
042A64 C5                  A  7409    	PUSH	BC
042A65 CD A1 58 04         A  7410    	CALL	_error
042A69 C1                  A  7411    	POP	BC
                           A  7412    ;  960	}
042A6A                     A  7413    L_485:
                           A  7414    .LINE 960
                           A  7415    
042A6A DDF9                A  7416    	LD	SP,IX
042A6C DDE1                A  7417    	POP	IX
042A6E C9                  A  7418    	RET	
                           A  7419    
                           A  7420    
                           A  7421    ;**************************** _parse_asm_single
                           A  7422    ;Name                         Addr/Register   S
                           A  7423    ;_message                            IMPORT  un
                           A  7424    ;_error                              IMPORT  --
                           A  7425    ;_operand1                           IMPORT    
                           A  7426    ;_str2num                            IMPORT  --
                           A  7427    ;_notEmpty                           IMPORT  --
                           A  7428    ;_getLineToken                       IMPORT  --
                           A  7429    ;_currentline                        IMPORT    
                           A  7430    ;token                               IX-261    
                           A  7431    
                           A  7432    
                           A  7433    ; Stack Frame Size: 267 (bytes)
                           A  7434    ;       Spill Code: 0 (instruction)
                           A  7435    
                           A  7436    
                           A  7437    .ENDFUNC "parse_asm_single_immediate",960,"_par
                           A  7438    ;  961	
                           A  7439    ;  962	void parse_asm_keyval_pair(void) {
042A6F                     A  7440    _parse_asm_keyval_pair:
                           A  7441    .DEFINE "_parse_asm_keyval_pair"
                           A  7442    
                           A  7443    .VALUE _parse_asm_keyval_pair
                           A  7444    
                           A  7445    .CLASS 2
                           A  7446    
                           A  7447    .TYPE 65
                           A  7448    
                           A  7449    .ENDEF
                           A  7450    
                           A  7451    .BEGFUNC "parse_asm_keyval_pair",962,"_parse_as
                           A  7452    
                           A  7453    .LINE 962
                           A  7454    
                           A  7455    .DEFINE "token"
                           A  7456    
                           A  7457    .CLASS 65
                           A  7458    
                           A  7459    .VALUE -261
                           A  7460    
                           A  7461    .TAG "NONAME11"
                           A  7462    
                           A  7463    .TYPE 8
                           A  7464    
                           A  7465    .ENDEF
                           A  7466    
042A6F DDE5                A  7467    	PUSH	IX
042A71 DD210000 00         A  7468    	LD	IX,0
042A76 DD39                A  7469    	ADD	IX,SP
042A78 21FBFEFF            A  7470    	LD	HL,-261
042A7C 39                  A  7471    	ADD	HL,SP
042A7D F9                  A  7472    	LD	SP,HL
                           A  7473    ;  963	    tokentype token;
                           A  7474    ;  964	
                           A  7475    ;  965	    if(currentline.next) {
                           A  7476    .LINE 965
                           A  7477    
042A7E 2A 28 97 04         A  7478    	LD	HL,(_currentline+3)
042A82 CD E3 6A 04         A  7479    	CALL	__icmpzero
042A86 CA 35 2B 04         A  7480    	JR	Z,L_491
                           A  7481    ;  966	        getLineToken(&token, currentlin
                           A  7482    .LINE 966
                           A  7483    
042A8A 013D0000            A  7484    	LD	BC,61
042A8E C5                  A  7485    	PUSH	BC
042A8F ED4B 28 97 04       A  7486    	LD	BC,(_currentline+3)
042A94 C5                  A  7487    	PUSH	BC
042A95 DDE5E1              A  7488    	LD	HL,IX
042A98 01FBFEFF            A  7489    	LD	BC,-261
042A9C 09                  A  7490    	ADD	HL,BC
042A9D E5C1                A  7491    	LD	BC,HL
042A9F C5                  A  7492    	PUSH	BC
042AA0 CD D0 59 04         A  7493    	CALL	_getLineToken
042AA4 C1                  A  7494    	POP	BC
042AA5 C1                  A  7495    	POP	BC
042AA6 C1                  A  7496    	POP	BC
                           A  7497    ;  967	        strcpy(currentline.operand1, to
                           A  7498    .LINE 967
                           A  7499    
042AA7 DDE5E1              A  7500    	LD	HL,IX
042AAA 01FBFEFF            A  7501    	LD	BC,-261
042AAE 09                  A  7502    	ADD	HL,BC
042AAF E5C1                A  7503    	LD	BC,HL
042AB1 C5                  A  7504    	PUSH	BC
042AB2 01 6B 97 04         A  7505    	LD	BC,_currentline+70
042AB6 C5                  A  7506    	PUSH	BC
042AB7 CD 6F 6E 04         A  7507    	CALL	_strcpy
042ABB C1                  A  7508    	POP	BC
042ABC C1                  A  7509    	POP	BC
                           A  7510    ;  968	        if(token.terminator == '=') {
                           A  7511    .LINE 968
                           A  7512    
042ABD DD7EFF              A  7513    	LD	A,(IX+%FFFFFFFF)
042AC0 FE3D                A  7514    	CP	A,%3D
042AC2 20 63               A  7515    	JR	NZ,L_489
                           A  7516    ;  969	            getLineToken(&token, token.
                           A  7517    .LINE 969
                           A  7518    
042AC4 01000000            A  7519    	LD	BC,0
042AC8 C5                  A  7520    	PUSH	BC
042AC9 DD07FC              A  7521    	LD	BC,(IX+%FFFFFFFC)
042ACC C5                  A  7522    	PUSH	BC
042ACD DDE5E1              A  7523    	LD	HL,IX
042AD0 01FBFEFF            A  7524    	LD	BC,-261
042AD4 09                  A  7525    	ADD	HL,BC
042AD5 E5C1                A  7526    	LD	BC,HL
042AD7 C5                  A  7527    	PUSH	BC
042AD8 CD D0 59 04         A  7528    	CALL	_getLineToken
042ADC C1                  A  7529    	POP	BC
042ADD C1                  A  7530    	POP	BC
042ADE C1                  A  7531    	POP	BC
                           A  7532    ;  970	            if(notEmpty(token.start)) {
                           A  7533    .LINE 970
                           A  7534    
042ADF DDE5E1              A  7535    	LD	HL,IX
042AE2 01FBFEFF            A  7536    	LD	BC,-261
042AE6 09                  A  7537    	ADD	HL,BC
042AE7 E5C1                A  7538    	LD	BC,HL
042AE9 C5                  A  7539    	PUSH	BC
042AEA CD 87 58 04         A  7540    	CALL	_notEmpty
042AEE C1                  A  7541    	POP	BC
042AEF B7                  A  7542    	OR	A,A
042AF0 28 27               A  7543    	JR	Z,L_487
                           A  7544    ;  971	                operand2.immediate = st
                           A  7545    .LINE 971
                           A  7546    
042AF2 01010000            A  7547    	LD	BC,1
042AF6 C5                  A  7548    	PUSH	BC
042AF7 DDE5E1              A  7549    	LD	HL,IX
042AFA 01FBFEFF            A  7550    	LD	BC,-261
042AFE 09                  A  7551    	ADD	HL,BC
042AFF E5C1                A  7552    	LD	BC,HL
042B01 C5                  A  7553    	PUSH	BC
042B02 CD 3E 54 04         A  7554    	CALL	_str2num
042B06 C1                  A  7555    	POP	BC
042B07 C1                  A  7556    	POP	BC
042B08 22 48 98 04         A  7557    	LD	(_operand2+11),HL
042B0C 7B                  A  7558    	LD	A,E
042B0D 32 4B 98 04         A  7559    	LD	(_operand2+14),A
                           A  7560    ;  972	                operand2.immediate_prov
                           A  7561    .LINE 972
                           A  7562    
042B11 3E01                A  7563    	LD	A,%1
042B13 32 47 98 04         A  7564    	LD	(_operand2+10),A
                           A  7565    ;  973	            }
                           A  7566    ;  974	            else error(message[ERROR_MI
                           A  7567    .LINE 974
                           A  7568    
042B17 18 28               A  7569    	JR	L_492
042B19                     A  7570    L_487:
042B19 21 95 71 04         A  7571    	LD	HL,_message+15
042B1D ED07                A  7572    	LD	BC,(HL)
042B1F C5                  A  7573    	PUSH	BC
042B20 CD A1 58 04         A  7574    	CALL	_error
042B24 C1                  A  7575    	POP	BC
                           A  7576    ;  975	        }        
                           A  7577    ;  976	        else error(message[ERROR_MISSIN
                           A  7578    .LINE 976
                           A  7579    
042B25 18 1A               A  7580    	JR	L_492
042B27                     A  7581    L_489:
042B27 21 95 71 04         A  7582    	LD	HL,_message+15
042B2B ED07                A  7583    	LD	BC,(HL)
042B2D C5                  A  7584    	PUSH	BC
042B2E CD A1 58 04         A  7585    	CALL	_error
042B32 C1                  A  7586    	POP	BC
                           A  7587    ;  977	    }
                           A  7588    ;  978	    else error(message[ERROR_MISSINGOPE
                           A  7589    .LINE 978
                           A  7590    
042B33 18 0C               A  7591    	JR	L_492
042B35                     A  7592    L_491:
042B35 21 95 71 04         A  7593    	LD	HL,_message+15
042B39 ED07                A  7594    	LD	BC,(HL)
042B3B C5                  A  7595    	PUSH	BC
042B3C CD A1 58 04         A  7596    	CALL	_error
042B40 C1                  A  7597    	POP	BC
                           A  7598    ;  979	}
042B41                     A  7599    L_492:
                           A  7600    .LINE 979
                           A  7601    
042B41 DDF9                A  7602    	LD	SP,IX
042B43 DDE1                A  7603    	POP	IX
042B45 C9                  A  7604    	RET	
                           A  7605    
                           A  7606    
                           A  7607    ;**************************** _parse_asm_keyval
                           A  7608    ;Name                         Addr/Register   S
                           A  7609    ;_message                            IMPORT  un
                           A  7610    ;_error                              IMPORT  --
                           A  7611    ;_operand2                           IMPORT    
                           A  7612    ;_str2num                            IMPORT  --
                           A  7613    ;_notEmpty                           IMPORT  --
                           A  7614    ;_strcpy                             IMPORT  --
                           A  7615    ;_getLineToken                       IMPORT  --
                           A  7616    ;_currentline                        IMPORT    
                           A  7617    ;token                               IX-261    
                           A  7618    
                           A  7619    
                           A  7620    ; Stack Frame Size: 267 (bytes)
                           A  7621    ;       Spill Code: 0 (instruction)
                           A  7622    
                           A  7623    
                           A  7624    .ENDFUNC "parse_asm_keyval_pair",979,"_parse_as
                           A  7625    ;  980	
                           A  7626    ;  981	void handle_asm_db(void) {
042B46                     A  7627    _handle_asm_db:
                           A  7628    .DEFINE "_handle_asm_db"
                           A  7629    
                           A  7630    .VALUE _handle_asm_db
                           A  7631    
                           A  7632    .CLASS 2
                           A  7633    
                           A  7634    .TYPE 65
                           A  7635    
                           A  7636    .ENDEF
                           A  7637    
                           A  7638    .BEGFUNC "handle_asm_db",981,"_handle_asm_db"
                           A  7639    
                           A  7640    .LINE 981
                           A  7641    
                           A  7642    .DEFINE "token"
                           A  7643    
                           A  7644    .CLASS 65
                           A  7645    
                           A  7646    .VALUE -264
                           A  7647    
                           A  7648    .TAG "NONAME11"
                           A  7649    
                           A  7650    .TYPE 8
                           A  7651    
                           A  7652    .ENDEF
                           A  7653    
042B46 DDE5                A  7654    	PUSH	IX
042B48 DD210000 00         A  7655    	LD	IX,0
042B4D DD39                A  7656    	ADD	IX,SP
042B4F 21F8FEFF            A  7657    	LD	HL,-264
042B53 39                  A  7658    	ADD	HL,SP
042B54 F9                  A  7659    	LD	SP,HL
                           A  7660    ;  982	    tokentype token;
                           A  7661    ;  983	
                           A  7662    ;  984	    if(pass == 1) {
                           A  7663    .LINE 984
                           A  7664    
042B55 01010000            A  7665    	LD	BC,1
042B59 2A 17 97 04         A  7666    	LD	HL,(_pass)
042B5D B7                  A  7667    	OR	A,A
042B5E ED42                A  7668    	SBC	HL,BC
042B60 20 14               A  7669    	JR	NZ,L_509
                           A  7670    ;  985	        // Output label at this address
                           A  7671    ;  986	        definelabel(address);
                           A  7672    .LINE 986
                           A  7673    
042B62 3A 1D 97 04         A  7674    	LD	A,(_address+3)
042B66 4F                  A  7675    	LD	C,A
042B67 0600                A  7676    	LD	B,%0
042B69 C5                  A  7677    	PUSH	BC
042B6A ED4B 1A 97 04       A  7678    	LD	BC,(_address)
042B6F C5                  A  7679    	PUSH	BC
042B70 CD 09 1C 04         A  7680    	CALL	_definelabel
042B74 C1                  A  7681    	POP	BC
042B75 C1                  A  7682    	POP	BC
                           A  7683    ;  987	    }
042B76                     A  7684    L_509:
                           A  7685    .LINE 987
                           A  7686    
                           A  7687    ;  988	    if(currentline.next) {
                           A  7688    .LINE 988
                           A  7689    
042B76 2A 28 97 04         A  7690    	LD	HL,(_currentline+3)
042B7A CD E3 6A 04         A  7691    	CALL	__icmpzero
042B7E C2 4C 2C 04         A  7692    	JR	NZ,L_505
042B82 C3 5A 2C 04         A  7693    	JR	L_508
                           A  7694    ;  989	        while(currentline.next) {
042B86                     A  7695    L_506:
                           A  7696    .LINE 989
                           A  7697    
                           A  7698    ;  990	            getLineToken(&token, curren
                           A  7699    .LINE 990
                           A  7700    
042B86 012C0000            A  7701    	LD	BC,44
042B8A C5                  A  7702    	PUSH	BC
042B8B ED4B 28 97 04       A  7703    	LD	BC,(_currentline+3)
042B90 C5                  A  7704    	PUSH	BC
042B91 DDE5E1              A  7705    	LD	HL,IX
042B94 01F8FEFF            A  7706    	LD	BC,-264
042B98 09                  A  7707    	ADD	HL,BC
042B99 E5C1                A  7708    	LD	BC,HL
042B9B C5                  A  7709    	PUSH	BC
042B9C CD D0 59 04         A  7710    	CALL	_getLineToken
042BA0 C1                  A  7711    	POP	BC
042BA1 C1                  A  7712    	POP	BC
042BA2 C1                  A  7713    	POP	BC
                           A  7714    ;  991	            if(notEmpty(token.start)) {
                           A  7715    .LINE 991
                           A  7716    
042BA3 DDE5E1              A  7717    	LD	HL,IX
042BA6 01F8FEFF            A  7718    	LD	BC,-264
042BAA 09                  A  7719    	ADD	HL,BC
042BAB E5C1                A  7720    	LD	BC,HL
042BAD C5                  A  7721    	PUSH	BC
042BAE CD 87 58 04         A  7722    	CALL	_notEmpty
042BB2 C1                  A  7723    	POP	BC
042BB3 B7                  A  7724    	OR	A,A
042BB4 28 63               A  7725    	JR	Z,L_504
                           A  7726    ;  992	                switch(token.start[0]) 
                           A  7727    .LINE 992
                           A  7728    
042BB6 DDE5E1              A  7729    	LD	HL,IX
042BB9 01F8FEFF            A  7730    	LD	BC,-264
042BBD 09                  A  7731    	ADD	HL,BC
042BBE DD2FFD              A  7732    	LD	(IX+%FFFFFFFD),HL
042BC1 7E                  A  7733    	LD	A,(HL)
042BC2 47                  A  7734    	LD	B,A
042BC3 17ED62              A  7735    	SEXT	HL
042BC6 68                  A  7736    	LD	L,B
042BC7 01220000            A  7737    	LD	BC,34
042BCB B7                  A  7738    	OR	A,A
042BCC ED42                A  7739    	SBC	HL,BC
042BCE 20 0B               A  7740    	JR	NZ,L_495
                           A  7741    ;  993	                    case '\"':
                           A  7742    .LINE 993
                           A  7743    
                           A  7744    ;  994	                        emit_quotedstri
                           A  7745    .LINE 994
                           A  7746    
042BD0 DD07FD              A  7747    	LD	BC,(IX+%FFFFFFFD)
042BD3 C5                  A  7748    	PUSH	BC
042BD4 CD BC 28 04         A  7749    	CALL	_emit_quotedstring
042BD8 C1                  A  7750    	POP	BC
                           A  7751    ;  995	                        break;
                           A  7752    .LINE 995
                           A  7753    
042BD9 18 3E               A  7754    	JR	L_504
                           A  7755    ;  996	                    default:
042BDB                     A  7756    L_495:
                           A  7757    .LINE 996
                           A  7758    
                           A  7759    ;  997	                        operand1.immedi
                           A  7760    .LINE 997
                           A  7761    
042BDB DD07FD              A  7762    	LD	BC,(IX+%FFFFFFFD)
042BDE C5                  A  7763    	PUSH	BC
042BDF CD 50 0F 04         A  7764    	CALL	_getLabelValue
042BE3 C1                  A  7765    	POP	BC
042BE4 22 38 98 04         A  7766    	LD	(_operand1+11),HL
042BE8 7B                  A  7767    	LD	A,E
042BE9 32 3B 98 04         A  7768    	LD	(_operand1+14),A
                           A  7769    ;  998	                        if(operand1.imm
                           A  7770    .LINE 998
                           A  7771    
042BED 21FF0000            A  7772    	LD	HL,255
042BF1 1E00                A  7773    	LD	E,%0
042BF3 ED4B 38 98 04       A  7774    	LD	BC,(_operand1+11)
042BF8 CD 1D 6E 04         A  7775    	CALL	__lcmps
042BFC F2 0C 2C 04         A  7776    	JP	P,L_497
042C00 21 A4 71 04         A  7777    	LD	HL,_message+30
042C04 ED07                A  7778    	LD	BC,(HL)
042C06 C5                  A  7779    	PUSH	BC
042C07 CD A1 58 04         A  7780    	CALL	_error
042C0B C1                  A  7781    	POP	BC
042C0C                     A  7782    L_497:
                           A  7783    ;  999	                        emit_8bit(opera
                           A  7784    .LINE 999
                           A  7785    
042C0C 3A 38 98 04         A  7786    	LD	A,(_operand1+11)
042C10 4F                  A  7787    	LD	C,A
042C11 0600                A  7788    	LD	B,%0
042C13 C5                  A  7789    	PUSH	BC
042C14 CD 2E 27 04         A  7790    	CALL	_emit_8bit
042C18 C1                  A  7791    	POP	BC
                           A  7792    ; 1000	                        break;
                           A  7793    ; 1001	                        
                           A  7794    ; 1002	                }
                           A  7795    ; 1003	            }
042C19                     A  7796    L_504:
                           A  7797    .LINE 1003
                           A  7798    
                           A  7799    ; 1004	            if(token.terminator == ',')
                           A  7800    .LINE 1004
                           A  7801    
042C19 DD7EFC              A  7802    	LD	A,(IX+%FFFFFFFC)
042C1C FE2C                A  7803    	CP	A,%2C
042C1E 20 0A               A  7804    	JR	NZ,L_503
042C20 DD07F9              A  7805    	LD	BC,(IX+%FFFFFFF9)
042C23 ED43 28 97 04       A  7806    	LD	(_currentline+3),BC
                           A  7807    ; 1005	            else {
                           A  7808    .LINE 1005
                           A  7809    
042C28 18 22               A  7810    	JR	L_505
042C2A                     A  7811    L_503:
                           A  7812    ; 1006	                if((token.terminator !=
                           A  7813    .LINE 1006
                           A  7814    
042C2A DD7EFC              A  7815    	LD	A,(IX+%FFFFFFFC)
042C2D B7                  A  7816    	OR	A,A
042C2E 28 13               A  7817    	JR	Z,L_501
042C30 DD7EFC              A  7818    	LD	A,(IX+%FFFFFFFC)
042C33 FE3B                A  7819    	CP	A,%3B
042C35 28 0C               A  7820    	JR	Z,L_501
042C37 21 E0 71 04         A  7821    	LD	HL,_message+90
042C3B ED07                A  7822    	LD	BC,(HL)
042C3D C5                  A  7823    	PUSH	BC
042C3E CD A1 58 04         A  7824    	CALL	_error
042C42 C1                  A  7825    	POP	BC
042C43                     A  7826    L_501:
                           A  7827    ; 1007	                currentline.next = NULL
                           A  7828    .LINE 1007
                           A  7829    
042C43 01000000            A  7830    	LD	BC,0
042C47 ED43 28 97 04       A  7831    	LD	(_currentline+3),BC
                           A  7832    ; 1008	            }
                           A  7833    ; 1009	        }
042C4C                     A  7834    L_505:
                           A  7835    .LINE 1009
                           A  7836    
042C4C 2A 28 97 04         A  7837    	LD	HL,(_currentline+3)
042C50 CD E3 6A 04         A  7838    	CALL	__icmpzero
042C54 C2 86 2B 04         A  7839    	JR	NZ,L_506
042C58 18 0C               A  7840    	JR	L_510
                           A  7841    ; 1010	    }
                           A  7842    ; 1011	    else error(message[ERROR_MISSINGOPE
042C5A                     A  7843    L_508:
                           A  7844    .LINE 1011
                           A  7845    
042C5A 21 95 71 04         A  7846    	LD	HL,_message+15
042C5E ED07                A  7847    	LD	BC,(HL)
042C60 C5                  A  7848    	PUSH	BC
042C61 CD A1 58 04         A  7849    	CALL	_error
042C65 C1                  A  7850    	POP	BC
                           A  7851    ; 1012	}
042C66                     A  7852    L_510:
                           A  7853    .LINE 1012
                           A  7854    
042C66 DDF9                A  7855    	LD	SP,IX
042C68 DDE1                A  7856    	POP	IX
042C6A C9                  A  7857    	RET	
                           A  7858    
                           A  7859    
                           A  7860    ;**************************** _handle_asm_db **
                           A  7861    ;Name                         Addr/Register   S
                           A  7862    ;_emit_8bit                          IMPORT  --
                           A  7863    ;_message                            IMPORT  un
                           A  7864    ;_error                              IMPORT  --
                           A  7865    ;_operand1                           IMPORT    
                           A  7866    ;_notEmpty                           IMPORT  --
                           A  7867    ;_getLineToken                       IMPORT  --
                           A  7868    ;_currentline                        IMPORT    
                           A  7869    ;_address                            IMPORT    
                           A  7870    ;_pass                               IMPORT    
                           A  7871    ;token                               IX-264    
                           A  7872    ;G_23                                  IX-3    
                           A  7873    
                           A  7874    
                           A  7875    ; Stack Frame Size: 270 (bytes)
                           A  7876    ;       Spill Code: 0 (instruction)
                           A  7877    
                           A  7878    
                           A  7879    .ENDFUNC "handle_asm_db",1012,"_handle_asm_db"
                           A  7880    ; 1013	
                           A  7881    ; 1014	void handle_asm_dw(bool longword) {
042C6B                     A  7882    _handle_asm_dw:
                           A  7883    .DEFINE "_handle_asm_dw"
                           A  7884    
                           A  7885    .VALUE _handle_asm_dw
                           A  7886    
                           A  7887    .CLASS 2
                           A  7888    
                           A  7889    .TYPE 65
                           A  7890    
                           A  7891    .ENDEF
                           A  7892    
                           A  7893    .BEGFUNC "handle_asm_dw",1014,"_handle_asm_dw"
                           A  7894    
                           A  7895    .LINE 1014
                           A  7896    
                           A  7897    .DEFINE "longword"
                           A  7898    
                           A  7899    .CLASS 65
                           A  7900    
                           A  7901    .VALUE 6
                           A  7902    
                           A  7903    .TYPE 12
                           A  7904    
                           A  7905    .ENDEF
                           A  7906    
                           A  7907    .DEFINE "lbl"
                           A  7908    
                           A  7909    .CLASS 65
                           A  7910    
                           A  7911    .VALUE -3
                           A  7912    
                           A  7913    .TAG "NONAME8"
                           A  7914    
                           A  7915    .TYPE 40
                           A  7916    
                           A  7917    .ENDEF
                           A  7918    
                           A  7919    .DEFINE "token"
                           A  7920    
                           A  7921    .CLASS 65
                           A  7922    
                           A  7923    .VALUE -264
                           A  7924    
                           A  7925    .TAG "NONAME11"
                           A  7926    
                           A  7927    .TYPE 8
                           A  7928    
                           A  7929    .ENDEF
                           A  7930    
042C6B DDE5                A  7931    	PUSH	IX
042C6D DD210000 00         A  7932    	LD	IX,0
042C72 DD39                A  7933    	ADD	IX,SP
042C74 21F8FEFF            A  7934    	LD	HL,-264
042C78 39                  A  7935    	ADD	HL,SP
042C79 F9                  A  7936    	LD	SP,HL
                           A  7937    ; 1015	    label *lbl;
                           A  7938    ; 1016	    tokentype token;
                           A  7939    ; 1017	    if(pass == 1) {
                           A  7940    .LINE 1017
                           A  7941    
042C7A 01010000            A  7942    	LD	BC,1
042C7E 2A 17 97 04         A  7943    	LD	HL,(_pass)
042C82 B7                  A  7944    	OR	A,A
042C83 ED42                A  7945    	SBC	HL,BC
042C85 20 14               A  7946    	JR	NZ,L_530
                           A  7947    ; 1018	        // Output label at this address
                           A  7948    ; 1019	        definelabel(address);
                           A  7949    .LINE 1019
                           A  7950    
042C87 3A 1D 97 04         A  7951    	LD	A,(_address+3)
042C8B 4F                  A  7952    	LD	C,A
042C8C 0600                A  7953    	LD	B,%0
042C8E C5                  A  7954    	PUSH	BC
042C8F ED4B 1A 97 04       A  7955    	LD	BC,(_address)
042C94 C5                  A  7956    	PUSH	BC
042C95 CD 09 1C 04         A  7957    	CALL	_definelabel
042C99 C1                  A  7958    	POP	BC
042C9A C1                  A  7959    	POP	BC
                           A  7960    ; 1020	    }
042C9B                     A  7961    L_530:
                           A  7962    .LINE 1020
                           A  7963    
                           A  7964    ; 1021	    if(currentline.next) {
                           A  7965    .LINE 1021
                           A  7966    
042C9B 2A 28 97 04         A  7967    	LD	HL,(_currentline+3)
042C9F CD E3 6A 04         A  7968    	CALL	__icmpzero
042CA3 C2 A6 2D 04         A  7969    	JR	NZ,L_526
042CA7 C3 B4 2D 04         A  7970    	JR	L_529
                           A  7971    ; 1022	        while(currentline.next) {
042CAB                     A  7972    L_527:
                           A  7973    .LINE 1022
                           A  7974    
                           A  7975    ; 1023	            getLineToken(&token, curren
                           A  7976    .LINE 1023
                           A  7977    
042CAB 012C0000            A  7978    	LD	BC,44
042CAF C5                  A  7979    	PUSH	BC
042CB0 ED4B 28 97 04       A  7980    	LD	BC,(_currentline+3)
042CB5 C5                  A  7981    	PUSH	BC
042CB6 DDE5E1              A  7982    	LD	HL,IX
042CB9 01F8FEFF            A  7983    	LD	BC,-264
042CBD 09                  A  7984    	ADD	HL,BC
042CBE E5C1                A  7985    	LD	BC,HL
042CC0 C5                  A  7986    	PUSH	BC
042CC1 CD D0 59 04         A  7987    	CALL	_getLineToken
042CC5 C1                  A  7988    	POP	BC
042CC6 C1                  A  7989    	POP	BC
042CC7 C1                  A  7990    	POP	BC
                           A  7991    ; 1024	            if(notEmpty(token.start)) {
                           A  7992    .LINE 1024
                           A  7993    
042CC8 DDE5E1              A  7994    	LD	HL,IX
042CCB 01F8FEFF            A  7995    	LD	BC,-264
042CCF 09                  A  7996    	ADD	HL,BC
042CD0 E5C1                A  7997    	LD	BC,HL
042CD2 C5                  A  7998    	PUSH	BC
042CD3 CD 87 58 04         A  7999    	CALL	_notEmpty
042CD7 C1                  A  8000    	POP	BC
042CD8 B7                  A  8001    	OR	A,A
042CD9 CA 73 2D 04         A  8002    	JR	Z,L_525
                           A  8003    ; 1025	                lbl = findLabel(token.s
                           A  8004    .LINE 1025
                           A  8005    
042CDD DDE5E1              A  8006    	LD	HL,IX
042CE0 01F8FEFF            A  8007    	LD	BC,-264
042CE4 09                  A  8008    	ADD	HL,BC
042CE5 E5C1                A  8009    	LD	BC,HL
042CE7 C5                  A  8010    	PUSH	BC
042CE8 CD 83 4D 04         A  8011    	CALL	_findLabel
042CEC C1                  A  8012    	POP	BC
042CED DD2FFD              A  8013    	LD	(IX+%FFFFFFFD),HL
                           A  8014    ; 1026	                if(lbl) operand1.immedi
                           A  8015    .LINE 1026
                           A  8016    
042CF0 CD E3 6A 04         A  8017    	CALL	__icmpzero
042CF4 28 14               A  8018    	JR	Z,L_513
042CF6 DD31FD              A  8019    	LD	IY,(IX+%FFFFFFFD)
042CF9 FD0703              A  8020    	LD	BC,(IY+%3)
042CFC FD7E06              A  8021    	LD	A,(IY+%6)
042CFF ED43 38 98 04       A  8022    	LD	(_operand1+11),BC
042D04 32 3B 98 04         A  8023    	LD	(_operand1+14),A
                           A  8024    ; 1027	                else operand1.immediate
                           A  8025    .LINE 1027
                           A  8026    
042D08 18 1F               A  8027    	JR	L_518
042D0A                     A  8028    L_513:
042D0A 01010000            A  8029    	LD	BC,1
042D0E C5                  A  8030    	PUSH	BC
042D0F DDE5E1              A  8031    	LD	HL,IX
042D12 01F8FEFF            A  8032    	LD	BC,-264
042D16 09                  A  8033    	ADD	HL,BC
042D17 E5C1                A  8034    	LD	BC,HL
042D19 C5                  A  8035    	PUSH	BC
042D1A CD 3E 54 04         A  8036    	CALL	_str2num
042D1E C1                  A  8037    	POP	BC
042D1F C1                  A  8038    	POP	BC
042D20 22 38 98 04         A  8039    	LD	(_operand1+11),HL
042D24 7B                  A  8040    	LD	A,E
042D25 32 3B 98 04         A  8041    	LD	(_operand1+14),A
042D29                     A  8042    L_518:
                           A  8043    ; 1028	                
                           A  8044    ; 1029	                if(longword) {
                           A  8045    .LINE 1029
                           A  8046    
042D29 DD7E06              A  8047    	LD	A,(IX+%6)
042D2C B7                  A  8048    	OR	A,A
042D2D 28 16               A  8049    	JR	Z,L_517
                           A  8050    ; 1030	                    emit_24bit(operand1
                           A  8051    .LINE 1030
                           A  8052    
042D2F 3A 3B 98 04         A  8053    	LD	A,(_operand1+14)
042D33 4F                  A  8054    	LD	C,A
042D34 0600                A  8055    	LD	B,%0
042D36 C5                  A  8056    	PUSH	BC
042D37 ED4B 38 98 04       A  8057    	LD	BC,(_operand1+11)
042D3C C5                  A  8058    	PUSH	BC
042D3D CD CB 27 04         A  8059    	CALL	_emit_24bit
042D41 C1                  A  8060    	POP	BC
042D42 C1                  A  8061    	POP	BC
                           A  8062    ; 1031	                }
                           A  8063    ; 1032	                else {
                           A  8064    .LINE 1032
                           A  8065    
042D43 18 2E               A  8066    	JR	L_525
042D45                     A  8067    L_517:
                           A  8068    ; 1033	                    if(operand1.immedia
                           A  8069    .LINE 1033
                           A  8070    
042D45 21FFFFFF            A  8071    	LD	HL,16777215
042D49 1E00                A  8072    	LD	E,%0
042D4B ED4B 38 98 04       A  8073    	LD	BC,(_operand1+11)
042D50 3A 3B 98 04         A  8074    	LD	A,(_operand1+14)
042D54 CD 1D 6E 04         A  8075    	CALL	__lcmps
042D58 F2 68 2D 04         A  8076    	JP	P,L_515
042D5C 21 DA 71 04         A  8077    	LD	HL,_message+84
042D60 ED07                A  8078    	LD	BC,(HL)
042D62 C5                  A  8079    	PUSH	BC
042D63 CD A1 58 04         A  8080    	CALL	_error
042D67 C1                  A  8081    	POP	BC
042D68                     A  8082    L_515:
                           A  8083    ; 1034	                    emit_16bit(operand1
                           A  8084    .LINE 1034
                           A  8085    
042D68 ED4B 38 98 04       A  8086    	LD	BC,(_operand1+11)
042D6D C5                  A  8087    	PUSH	BC
042D6E CD 9A 27 04         A  8088    	CALL	_emit_16bit
042D72 C1                  A  8089    	POP	BC
                           A  8090    ; 1035	                }
                           A  8091    ; 1036	            }
042D73                     A  8092    L_525:
                           A  8093    .LINE 1036
                           A  8094    
                           A  8095    ; 1037	            if(token.terminator == ',')
                           A  8096    .LINE 1037
                           A  8097    
042D73 DD7EFC              A  8098    	LD	A,(IX+%FFFFFFFC)
042D76 FE2C                A  8099    	CP	A,%2C
042D78 20 0A               A  8100    	JR	NZ,L_524
042D7A DD07F9              A  8101    	LD	BC,(IX+%FFFFFFF9)
042D7D ED43 28 97 04       A  8102    	LD	(_currentline+3),BC
                           A  8103    ; 1038	            else {
                           A  8104    .LINE 1038
                           A  8105    
042D82 18 22               A  8106    	JR	L_526
042D84                     A  8107    L_524:
                           A  8108    ; 1039	                if((token.terminator !=
                           A  8109    .LINE 1039
                           A  8110    
042D84 DD7EFC              A  8111    	LD	A,(IX+%FFFFFFFC)
042D87 B7                  A  8112    	OR	A,A
042D88 28 13               A  8113    	JR	Z,L_522
042D8A DD7EFC              A  8114    	LD	A,(IX+%FFFFFFFC)
042D8D FE3B                A  8115    	CP	A,%3B
042D8F 28 0C               A  8116    	JR	Z,L_522
042D91 21 E0 71 04         A  8117    	LD	HL,_message+90
042D95 ED07                A  8118    	LD	BC,(HL)
042D97 C5                  A  8119    	PUSH	BC
042D98 CD A1 58 04         A  8120    	CALL	_error
042D9C C1                  A  8121    	POP	BC
042D9D                     A  8122    L_522:
                           A  8123    ; 1040	                currentline.next = NULL
                           A  8124    .LINE 1040
                           A  8125    
042D9D 01000000            A  8126    	LD	BC,0
042DA1 ED43 28 97 04       A  8127    	LD	(_currentline+3),BC
                           A  8128    ; 1041	            }
                           A  8129    ; 1042	        }
042DA6                     A  8130    L_526:
                           A  8131    .LINE 1042
                           A  8132    
042DA6 2A 28 97 04         A  8133    	LD	HL,(_currentline+3)
042DAA CD E3 6A 04         A  8134    	CALL	__icmpzero
042DAE C2 AB 2C 04         A  8135    	JR	NZ,L_527
042DB2 18 0C               A  8136    	JR	L_531
                           A  8137    ; 1043	    }
                           A  8138    ; 1044	    else error(message[ERROR_MISSINGOPE
042DB4                     A  8139    L_529:
                           A  8140    .LINE 1044
                           A  8141    
042DB4 21 95 71 04         A  8142    	LD	HL,_message+15
042DB8 ED07                A  8143    	LD	BC,(HL)
042DBA C5                  A  8144    	PUSH	BC
042DBB CD A1 58 04         A  8145    	CALL	_error
042DBF C1                  A  8146    	POP	BC
                           A  8147    ; 1045	}
042DC0                     A  8148    L_531:
                           A  8149    .LINE 1045
                           A  8150    
042DC0 DDF9                A  8151    	LD	SP,IX
042DC2 DDE1                A  8152    	POP	IX
042DC4 C9                  A  8153    	RET	
                           A  8154    
                           A  8155    
                           A  8156    ;**************************** _handle_asm_dw **
                           A  8157    ;Name                         Addr/Register   S
                           A  8158    ;_emit_16bit                         IMPORT  --
                           A  8159    ;_message                            IMPORT  un
                           A  8160    ;_error                              IMPORT  --
                           A  8161    ;_emit_24bit                         IMPORT  --
                           A  8162    ;_str2num                            IMPORT  --
                           A  8163    ;_operand1                           IMPORT    
                           A  8164    ;_findLabel                          IMPORT  --
                           A  8165    ;_notEmpty                           IMPORT  --
                           A  8166    ;_getLineToken                       IMPORT  --
                           A  8167    ;_currentline                        IMPORT    
                           A  8168    ;_address                            IMPORT    
                           A  8169    ;_pass                               IMPORT    
                           A  8170    ;token                               IX-264    
                           A  8171    ;lbl                                   IX-3    
                           A  8172    ;longword                              IX+6    
                           A  8173    
                           A  8174    
                           A  8175    ; Stack Frame Size: 273 (bytes)
                           A  8176    ;       Spill Code: 0 (instruction)
                           A  8177    
                           A  8178    
                           A  8179    .ENDFUNC "handle_asm_dw",1045,"_handle_asm_dw"
                           A  8180    ; 1046	
                           A  8181    ; 1047	void handle_asm_equ(void) {
042DC5                     A  8182    _handle_asm_equ:
                           A  8183    .DEFINE "_handle_asm_equ"
                           A  8184    
                           A  8185    .VALUE _handle_asm_equ
                           A  8186    
                           A  8187    .CLASS 2
                           A  8188    
                           A  8189    .TYPE 65
                           A  8190    
                           A  8191    .ENDEF
                           A  8192    
                           A  8193    .BEGFUNC "handle_asm_equ",1047,"_handle_asm_equ
                           A  8194    
                           A  8195    .LINE 1047
                           A  8196    
                           A  8197    .DEFINE "lbl"
                           A  8198    
                           A  8199    .CLASS 65
                           A  8200    
                           A  8201    .VALUE -3
                           A  8202    
                           A  8203    .TAG "NONAME8"
                           A  8204    
                           A  8205    .TYPE 40
                           A  8206    
                           A  8207    .ENDEF
                           A  8208    
                           A  8209    .DEFINE "token"
                           A  8210    
                           A  8211    .CLASS 65
                           A  8212    
                           A  8213    .VALUE -264
                           A  8214    
                           A  8215    .TAG "NONAME11"
                           A  8216    
                           A  8217    .TYPE 8
                           A  8218    
                           A  8219    .ENDEF
                           A  8220    
042DC5 DDE5                A  8221    	PUSH	IX
042DC7 DD210000 00         A  8222    	LD	IX,0
042DCC DD39                A  8223    	ADD	IX,SP
042DCE 21F8FEFF            A  8224    	LD	HL,-264
042DD2 39                  A  8225    	ADD	HL,SP
042DD3 F9                  A  8226    	LD	SP,HL
                           A  8227    ; 1048	    label *lbl;
                           A  8228    ; 1049	    tokentype token;
                           A  8229    ; 1050	
                           A  8230    ; 1051	    if(currentline.next) {
                           A  8231    .LINE 1051
                           A  8232    
042DD4 2A 28 97 04         A  8233    	LD	HL,(_currentline+3)
042DD8 CD E3 6A 04         A  8234    	CALL	__icmpzero
042DDC CA 99 2E 04         A  8235    	JR	Z,L_543
                           A  8236    ; 1052	        getLineToken(&token, currentlin
                           A  8237    .LINE 1052
                           A  8238    
042DE0 01000000            A  8239    	LD	BC,0
042DE4 C5                  A  8240    	PUSH	BC
042DE5 ED4B 28 97 04       A  8241    	LD	BC,(_currentline+3)
042DEA C5                  A  8242    	PUSH	BC
042DEB DDE5E1              A  8243    	LD	HL,IX
042DEE 01F8FEFF            A  8244    	LD	BC,-264
042DF2 09                  A  8245    	ADD	HL,BC
042DF3 E5C1                A  8246    	LD	BC,HL
042DF5 C5                  A  8247    	PUSH	BC
042DF6 CD D0 59 04         A  8248    	CALL	_getLineToken
042DFA C1                  A  8249    	POP	BC
042DFB C1                  A  8250    	POP	BC
042DFC C1                  A  8251    	POP	BC
                           A  8252    ; 1053	        if(notEmpty(token.start)) {
                           A  8253    .LINE 1053
                           A  8254    
042DFD DDE5E1              A  8255    	LD	HL,IX
042E00 01F8FEFF            A  8256    	LD	BC,-264
042E04 09                  A  8257    	ADD	HL,BC
042E05 E5C1                A  8258    	LD	BC,HL
042E07 C5                  A  8259    	PUSH	BC
042E08 CD 87 58 04         A  8260    	CALL	_notEmpty
042E0C C1                  A  8261    	POP	BC
042E0D B7                  A  8262    	OR	A,A
042E0E 28 7B               A  8263    	JR	Z,L_541
                           A  8264    ; 1054	            if((token.terminator != 0) 
                           A  8265    .LINE 1054
                           A  8266    
042E10 DD7EFC              A  8267    	LD	A,(IX+%FFFFFFFC)
042E13 B7                  A  8268    	OR	A,A
042E14 28 13               A  8269    	JR	Z,L_535
042E16 DD7EFC              A  8270    	LD	A,(IX+%FFFFFFFC)
042E19 FE3B                A  8271    	CP	A,%3B
042E1B 28 0C               A  8272    	JR	Z,L_535
042E1D 21 DD 71 04         A  8273    	LD	HL,_message+87
042E21 ED07                A  8274    	LD	BC,(HL)
042E23 C5                  A  8275    	PUSH	BC
042E24 CD A1 58 04         A  8276    	CALL	_error
042E28 C1                  A  8277    	POP	BC
042E29                     A  8278    L_535:
                           A  8279    ; 1055	            if(pass == 1) definelabel(0
                           A  8280    .LINE 1055
                           A  8281    
042E29 01010000            A  8282    	LD	BC,1
042E2D 2A 17 97 04         A  8283    	LD	HL,(_pass)
042E31 B7                  A  8284    	OR	A,A
042E32 ED42                A  8285    	SBC	HL,BC
042E34 20 0C               A  8286    	JR	NZ,L_539
042E36 01000000            A  8287    	LD	BC,0
042E3A C5                  A  8288    	PUSH	BC
042E3B C5                  A  8289    	PUSH	BC
042E3C CD 09 1C 04         A  8290    	CALL	_definelabel
042E40 C1                  A  8291    	POP	BC
042E41 C1                  A  8292    	POP	BC
042E42                     A  8293    L_539:
                           A  8294    ; 1056	            if(pass == 2) {
                           A  8295    .LINE 1056
                           A  8296    
042E42 01020000            A  8297    	LD	BC,2
042E46 2A 17 97 04         A  8298    	LD	HL,(_pass)
042E4A B7                  A  8299    	OR	A,A
042E4B ED42                A  8300    	SBC	HL,BC
042E4D 20 56               A  8301    	JR	NZ,L_544
                           A  8302    ; 1057	                lbl = findLabel(current
                           A  8303    .LINE 1057
                           A  8304    
042E4F 01 2B 97 04         A  8305    	LD	BC,_currentline+6
042E53 C5                  A  8306    	PUSH	BC
042E54 CD 83 4D 04         A  8307    	CALL	_findLabel
042E58 C1                  A  8308    	POP	BC
042E59 DD2FFD              A  8309    	LD	(IX+%FFFFFFFD),HL
                           A  8310    ; 1058	                if(lbl) lbl->address = 
                           A  8311    .LINE 1058
                           A  8312    
042E5C CD E3 6A 04         A  8313    	CALL	__icmpzero
042E60 28 1B               A  8314    	JR	Z,L_537
042E62 DDE5E1              A  8315    	LD	HL,IX
042E65 01F8FEFF            A  8316    	LD	BC,-264
042E69 09                  A  8317    	ADD	HL,BC
042E6A E5C1                A  8318    	LD	BC,HL
042E6C C5                  A  8319    	PUSH	BC
042E6D CD 50 0F 04         A  8320    	CALL	_getLabelValue
042E71 C1                  A  8321    	POP	BC
042E72 DD31FD              A  8322    	LD	IY,(IX+%FFFFFFFD)
042E75 FD2F03              A  8323    	LD	(IY+%3),HL
042E78 FD7306              A  8324    	LD	(IY+%6),E
                           A  8325    ; 1059	                else error(message[ERRO
                           A  8326    .LINE 1059
                           A  8327    
042E7B 18 28               A  8328    	JR	L_544
042E7D                     A  8329    L_537:
042E7D 21 D7 71 04         A  8330    	LD	HL,_message+81
042E81 ED07                A  8331    	LD	BC,(HL)
042E83 C5                  A  8332    	PUSH	BC
042E84 CD A1 58 04         A  8333    	CALL	_error
042E88 C1                  A  8334    	POP	BC
                           A  8335    ; 1060	            }
                           A  8336    ; 1061	        }
                           A  8337    ; 1062	        else error(message[ERROR_MISSIN
                           A  8338    .LINE 1062
                           A  8339    
042E89 18 1A               A  8340    	JR	L_544
042E8B                     A  8341    L_541:
042E8B 21 95 71 04         A  8342    	LD	HL,_message+15
042E8F ED07                A  8343    	LD	BC,(HL)
042E91 C5                  A  8344    	PUSH	BC
042E92 CD A1 58 04         A  8345    	CALL	_error
042E96 C1                  A  8346    	POP	BC
                           A  8347    ; 1063	    }
                           A  8348    ; 1064	    else error(message[ERROR_MISSINGOPE
                           A  8349    .LINE 1064
                           A  8350    
042E97 18 0C               A  8351    	JR	L_544
042E99                     A  8352    L_543:
042E99 21 95 71 04         A  8353    	LD	HL,_message+15
042E9D ED07                A  8354    	LD	BC,(HL)
042E9F C5                  A  8355    	PUSH	BC
042EA0 CD A1 58 04         A  8356    	CALL	_error
042EA4 C1                  A  8357    	POP	BC
                           A  8358    ; 1065	}
042EA5                     A  8359    L_544:
                           A  8360    .LINE 1065
                           A  8361    
042EA5 DDF9                A  8362    	LD	SP,IX
042EA7 DDE1                A  8363    	POP	IX
042EA9 C9                  A  8364    	RET	
                           A  8365    
                           A  8366    
                           A  8367    ;**************************** _handle_asm_equ *
                           A  8368    ;Name                         Addr/Register   S
                           A  8369    ;_findLabel                          IMPORT  --
                           A  8370    ;_pass                               IMPORT    
                           A  8371    ;_message                            IMPORT  un
                           A  8372    ;_error                              IMPORT  --
                           A  8373    ;_notEmpty                           IMPORT  --
                           A  8374    ;_getLineToken                       IMPORT  --
                           A  8375    ;_currentline                        IMPORT    
                           A  8376    ;token                               IX-264    
                           A  8377    ;lbl                                   IX-3    
                           A  8378    
                           A  8379    
                           A  8380    ; Stack Frame Size: 270 (bytes)
                           A  8381    ;       Spill Code: 0 (instruction)
                           A  8382    
                           A  8383    
                           A  8384    .ENDFUNC "handle_asm_equ",1065,"_handle_asm_equ
                           A  8385    ; 1066	
                           A  8386    ; 1067	void handle_asm_adl(void) {
042EAA                     A  8387    _handle_asm_adl:
                           A  8388    .DEFINE "_handle_asm_adl"
                           A  8389    
                           A  8390    .VALUE _handle_asm_adl
                           A  8391    
                           A  8392    .CLASS 2
                           A  8393    
                           A  8394    .TYPE 65
                           A  8395    
                           A  8396    .ENDEF
                           A  8397    
                           A  8398    .BEGFUNC "handle_asm_adl",1067,"_handle_asm_adl
                           A  8399    
042EAA DDE5                A  8400    	PUSH	IX
042EAC DD210000 00         A  8401    	LD	IX,0
042EB1 DD39                A  8402    	ADD	IX,SP
                           A  8403    ; 1068	    parse_asm_keyval_pair();
                           A  8404    .LINE 1068
                           A  8405    
042EB3 CD 6F 2A 04         A  8406    	CALL	_parse_asm_keyval_pair
                           A  8407    ; 1069	    if(strcasecmp(currentline.operand1,
                           A  8408    .LINE 1069
                           A  8409    
042EB7 01 F8 8C 04         A  8410    	LD	BC,L__240
042EBB C5                  A  8411    	PUSH	BC
042EBC 01 6B 97 04         A  8412    	LD	BC,_currentline+70
042EC0 C5                  A  8413    	PUSH	BC
042EC1 CD 53 63 04         A  8414    	CALL	_strcasecmp
042EC5 C1                  A  8415    	POP	BC
042EC6 C1                  A  8416    	POP	BC
042EC7 CD E3 6A 04         A  8417    	CALL	__icmpzero
042ECB 20 3B               A  8418    	JR	NZ,L_549
                           A  8419    ; 1070	        if((operand2.immediate == 0) ||
                           A  8420    .LINE 1070
                           A  8421    
042ECD 2A 48 98 04         A  8422    	LD	HL,(_operand2+11)
042ED1 3A 4B 98 04         A  8423    	LD	A,(_operand2+14)
042ED5 5F                  A  8424    	LD	E,A
042ED6 CD 41 67 04         A  8425    	CALL	__lcmpzero
042EDA 28 14               A  8426    	JR	Z,L_546
042EDC 2A 48 98 04         A  8427    	LD	HL,(_operand2+11)
042EE0 3A 4B 98 04         A  8428    	LD	A,(_operand2+14)
042EE4 5F                  A  8429    	LD	E,A
042EE5 01010000            A  8430    	LD	BC,1
042EE9 AF                  A  8431    	XOR	A,A
042EEA CD 1D 6E 04         A  8432    	CALL	__lcmps
042EEE 20 0A               A  8433    	JR	NZ,L_547
042EF0                     A  8434    L_546:
                           A  8435    ; 1071	            adlmode = operand2.immediat
                           A  8436    .LINE 1071
                           A  8437    
042EF0 3A 48 98 04         A  8438    	LD	A,(_operand2+11)
042EF4 32 24 97 04         A  8439    	LD	(_adlmode),A
                           A  8440    ; 1072	        }
                           A  8441    ; 1073	        else error(message[ERROR_INVALI
                           A  8442    .LINE 1073
                           A  8443    
042EF8 18 1A               A  8444    	JR	L_550
042EFA                     A  8445    L_547:
042EFA 21 B9 71 04         A  8446    	LD	HL,_message+51
042EFE ED07                A  8447    	LD	BC,(HL)
042F00 C5                  A  8448    	PUSH	BC
042F01 CD A1 58 04         A  8449    	CALL	_error
042F05 C1                  A  8450    	POP	BC
                           A  8451    ; 1074	    }
                           A  8452    ; 1075	    else error(message[ERROR_INVALIDOPE
                           A  8453    .LINE 1075
                           A  8454    
042F06 18 0C               A  8455    	JR	L_550
042F08                     A  8456    L_549:
042F08 21 9B 71 04         A  8457    	LD	HL,_message+21
042F0C ED07                A  8458    	LD	BC,(HL)
042F0E C5                  A  8459    	PUSH	BC
042F0F CD A1 58 04         A  8460    	CALL	_error
042F13 C1                  A  8461    	POP	BC
                           A  8462    ; 1076	}
042F14                     A  8463    L_550:
                           A  8464    .LINE 1076
                           A  8465    
042F14 DDF9                A  8466    	LD	SP,IX
042F16 DDE1                A  8467    	POP	IX
042F18 C9                  A  8468    	RET	
                           A  8469    
                           A  8470    
                           A  8471    ;**************************** _handle_asm_adl *
                           A  8472    ;Name                         Addr/Register   S
                           A  8473    ;_message                            IMPORT  un
                           A  8474    ;_error                              IMPORT  --
                           A  8475    ;_adlmode                            IMPORT    
                           A  8476    ;_operand2                           IMPORT    
                           A  8477    ;_currentline                        IMPORT    
                           A  8478    ;_strcasecmp                         IMPORT  --
                           A  8479    
                           A  8480    
                           A  8481    ; Stack Frame Size: 6 (bytes)
                           A  8482    ;       Spill Code: 0 (instruction)
                           A  8483    
                           A  8484    
                           A  8485    .ENDFUNC "handle_asm_adl",1076,"_handle_asm_adl
                           A  8486    	SEGMENT STRSECT
048CF8                     A  8487    L__240:
048CF8 61646C              A  8488    	DB	"adl"
048CFB 00                  A  8489    	DB	0
                           A  8490    	SEGMENT CODE
                           A  8491    ; 1077	
                           A  8492    ; 1078	void handle_asm_org(void) {
042F19                     A  8493    _handle_asm_org:
                           A  8494    .DEFINE "_handle_asm_org"
                           A  8495    
                           A  8496    .VALUE _handle_asm_org
                           A  8497    
                           A  8498    .CLASS 2
                           A  8499    
                           A  8500    .TYPE 65
                           A  8501    
                           A  8502    .ENDEF
                           A  8503    
                           A  8504    .BEGFUNC "handle_asm_org",1078,"_handle_asm_org
                           A  8505    
                           A  8506    .LINE 1078
                           A  8507    
                           A  8508    .DEFINE "newaddress"
                           A  8509    
                           A  8510    .CLASS 65
                           A  8511    
                           A  8512    .VALUE -4
                           A  8513    
                           A  8514    .TYPE 15
                           A  8515    
                           A  8516    .ENDEF
                           A  8517    
042F19 DDE5                A  8518    	PUSH	IX
042F1B DD210000 00         A  8519    	LD	IX,0
042F20 DD39                A  8520    	ADD	IX,SP
042F22 C5                  A  8521    	PUSH	BC
042F23 3B                  A  8522    	DEC	SP
                           A  8523    ; 1079	    uint32_t newaddress;
                           A  8524    ; 1080	    
                           A  8525    ; 1081	    parse_asm_single_immediate(); // ge
                           A  8526    .LINE 1081
                           A  8527    
042F24 CD CE 29 04         A  8528    	CALL	_parse_asm_single_immediate
                           A  8529    ; 1082	    newaddress = operand1.immediate;
                           A  8530    .LINE 1082
                           A  8531    
042F28 ED4B 38 98 04       A  8532    	LD	BC,(_operand1+11)
042F2D 3A 3B 98 04         A  8533    	LD	A,(_operand1+14)
042F31 DD0FFC              A  8534    	LD	(IX+%FFFFFFFC),BC
042F34 DD77FF              A  8535    	LD	(IX+%FFFFFFFF),A
                           A  8536    ; 1083	    if((adlmode == 0) && (newaddress > 
                           A  8537    .LINE 1083
                           A  8538    
042F37 3A 24 97 04         A  8539    	LD	A,(_adlmode)
042F3B B7                  A  8540    	OR	A,A
042F3C 20 1E               A  8541    	JR	NZ,L_557
042F3E 21FFFF00            A  8542    	LD	HL,65535
042F42 1E00                A  8543    	LD	E,%0
042F44 DD07FC              A  8544    	LD	BC,(IX+%FFFFFFFC)
042F47 DD7EFF              A  8545    	LD	A,(IX+%FFFFFFFF)
042F4A CD 1D 6E 04         A  8546    	CALL	__lcmpu
042F4E 30 0C               A  8547    	JR	NC,L_557
042F50 21 C2 71 04         A  8548    	LD	HL,_message+60
042F54 ED07                A  8549    	LD	BC,(HL)
042F56 C5                  A  8550    	PUSH	BC
042F57 CD A1 58 04         A  8551    	CALL	_error
042F5B C1                  A  8552    	POP	BC
042F5C                     A  8553    L_557:
                           A  8554    ; 1084	    if(newaddress >= address) {
                           A  8555    .LINE 1084
                           A  8556    
042F5C DD27FC              A  8557    	LD	HL,(IX+%FFFFFFFC)
042F5F DD5EFF              A  8558    	LD	E,(IX+%FFFFFFFF)
042F62 ED4B 1A 97 04       A  8559    	LD	BC,(_address)
042F67 3A 1D 97 04         A  8560    	LD	A,(_address+3)
042F6B CD 1D 6E 04         A  8561    	CALL	__lcmpu
042F6F 38 32               A  8562    	JR	C,L_556
                           A  8563    ; 1085	        if(pass == 1) {
                           A  8564    .LINE 1085
                           A  8565    
042F71 01010000            A  8566    	LD	BC,1
042F75 2A 17 97 04         A  8567    	LD	HL,(_pass)
042F79 B7                  A  8568    	OR	A,A
042F7A ED42                A  8569    	SBC	HL,BC
042F7C 20 14               A  8570    	JR	NZ,L_554
                           A  8571    ; 1086	            // Output label at this add
                           A  8572    ; 1087	            definelabel(address); // se
                           A  8573    .LINE 1087
                           A  8574    
042F7E 3A 1D 97 04         A  8575    	LD	A,(_address+3)
042F82 4F                  A  8576    	LD	C,A
042F83 0600                A  8577    	LD	B,%0
042F85 C5                  A  8578    	PUSH	BC
042F86 ED4B 1A 97 04       A  8579    	LD	BC,(_address)
042F8B C5                  A  8580    	PUSH	BC
042F8C CD 09 1C 04         A  8581    	CALL	_definelabel
042F90 C1                  A  8582    	POP	BC
042F91 C1                  A  8583    	POP	BC
                           A  8584    ; 1088	        }
042F92                     A  8585    L_554:
                           A  8586    .LINE 1088
                           A  8587    
                           A  8588    ; 1089	        address = newaddress;
                           A  8589    .LINE 1089
                           A  8590    
042F92 DD07FC              A  8591    	LD	BC,(IX+%FFFFFFFC)
042F95 ED43 1A 97 04       A  8592    	LD	(_address),BC
042F9A DD7EFF              A  8593    	LD	A,(IX+%FFFFFFFF)
042F9D 32 1D 97 04         A  8594    	LD	(_address+3),A
                           A  8595    ; 1090	    }
                           A  8596    ; 1091	    else error(message[ERROR_ADDRESSLOW
                           A  8597    .LINE 1091
                           A  8598    
042FA1 18 0C               A  8599    	JR	L_558
042FA3                     A  8600    L_556:
042FA3 21 BF 71 04         A  8601    	LD	HL,_message+57
042FA7 ED07                A  8602    	LD	BC,(HL)
042FA9 C5                  A  8603    	PUSH	BC
042FAA CD A1 58 04         A  8604    	CALL	_error
042FAE C1                  A  8605    	POP	BC
                           A  8606    ; 1092	}
042FAF                     A  8607    L_558:
                           A  8608    .LINE 1092
                           A  8609    
042FAF DDF9                A  8610    	LD	SP,IX
042FB1 DDE1                A  8611    	POP	IX
042FB3 C9                  A  8612    	RET	
                           A  8613    
                           A  8614    
                           A  8615    ;**************************** _handle_asm_org *
                           A  8616    ;Name                         Addr/Register   S
                           A  8617    ;_pass                               IMPORT    
                           A  8618    ;_address                            IMPORT    
                           A  8619    ;_message                            IMPORT  un
                           A  8620    ;_error                              IMPORT  --
                           A  8621    ;_adlmode                            IMPORT    
                           A  8622    ;_operand1                           IMPORT    
                           A  8623    ;newaddress                            IX-4    
                           A  8624    
                           A  8625    
                           A  8626    ; Stack Frame Size: 10 (bytes)
                           A  8627    ;       Spill Code: 0 (instruction)
                           A  8628    
                           A  8629    
                           A  8630    .ENDFUNC "handle_asm_org",1092,"_handle_asm_org
                           A  8631    ; 1093	
                           A  8632    ; 1094	void handle_asm_include(void) {
042FB4                     A  8633    _handle_asm_include:
                           A  8634    .DEFINE "_handle_asm_include"
                           A  8635    
                           A  8636    .VALUE _handle_asm_include
                           A  8637    
                           A  8638    .CLASS 2
                           A  8639    
                           A  8640    .TYPE 65
                           A  8641    
                           A  8642    .ENDEF
                           A  8643    
                           A  8644    .BEGFUNC "handle_asm_include",1094,"_handle_asm
                           A  8645    
                           A  8646    .LINE 1094
                           A  8647    
                           A  8648    .DEFINE "fsi"
                           A  8649    
                           A  8650    .CLASS 65
                           A  8651    
                           A  8652    .VALUE -134
                           A  8653    
                           A  8654    .TAG "NONAME12"
                           A  8655    
                           A  8656    .TYPE 8
                           A  8657    
                           A  8658    .ENDEF
                           A  8659    
                           A  8660    .DEFINE "token"
                           A  8661    
                           A  8662    .CLASS 65
                           A  8663    
                           A  8664    .VALUE -395
                           A  8665    
                           A  8666    .TAG "NONAME11"
                           A  8667    
                           A  8668    .TYPE 8
                           A  8669    
                           A  8670    .ENDEF
                           A  8671    
042FB4 DDE5                A  8672    	PUSH	IX
042FB6 DD210000 00         A  8673    	LD	IX,0
042FBB DD39                A  8674    	ADD	IX,SP
042FBD 2172FEFF            A  8675    	LD	HL,-398
042FC1 39                  A  8676    	ADD	HL,SP
042FC2 F9                  A  8677    	LD	SP,HL
                           A  8678    ; 1095	    tokentype token;
                           A  8679    ; 1096	    filestackitem fsi;
                           A  8680    ; 1097	    if(currentline.next) {
                           A  8681    .LINE 1097
                           A  8682    
042FC3 2A 28 97 04         A  8683    	LD	HL,(_currentline+3)
042FC7 CD E3 6A 04         A  8684    	CALL	__icmpzero
042FCB CA D9 30 04         A  8685    	JR	Z,L_566
                           A  8686    ; 1098	        getLineToken(&token, currentlin
                           A  8687    .LINE 1098
                           A  8688    
042FCF 01000000            A  8689    	LD	BC,0
042FD3 C5                  A  8690    	PUSH	BC
042FD4 ED4B 28 97 04       A  8691    	LD	BC,(_currentline+3)
042FD9 C5                  A  8692    	PUSH	BC
042FDA DDE5E1              A  8693    	LD	HL,IX
042FDD 0175FEFF            A  8694    	LD	BC,-395
042FE1 09                  A  8695    	ADD	HL,BC
042FE2 E5C1                A  8696    	LD	BC,HL
042FE4 C5                  A  8697    	PUSH	BC
042FE5 CD D0 59 04         A  8698    	CALL	_getLineToken
042FE9 C1                  A  8699    	POP	BC
042FEA C1                  A  8700    	POP	BC
042FEB C1                  A  8701    	POP	BC
                           A  8702    ; 1099	        if(token.start[0] == '\"') {
                           A  8703    .LINE 1099
                           A  8704    
042FEC DDE5E1              A  8705    	LD	HL,IX
042FEF 0175FEFF            A  8706    	LD	BC,-395
042FF3 09                  A  8707    	ADD	HL,BC
042FF4 DD2FFD              A  8708    	LD	(IX+%FFFFFFFD),HL
042FF7 7E                  A  8709    	LD	A,(HL)
042FF8 47                  A  8710    	LD	B,A
042FF9 17ED62              A  8711    	SEXT	HL
042FFC 68                  A  8712    	LD	L,B
042FFD 01220000            A  8713    	LD	BC,34
043001 B7                  A  8714    	OR	A,A
043002 ED42                A  8715    	SBC	HL,BC
043004 C2 B6 30 04         A  8716    	JR	NZ,L_562
                           A  8717    ; 1100	            token.start[strlen(token.st
                           A  8718    .LINE 1100
                           A  8719    
043008 DD07FD              A  8720    	LD	BC,(IX+%FFFFFFFD)
04300B C5                  A  8721    	PUSH	BC
04300C CD 0D 67 04         A  8722    	CALL	_strlen
043010 C1                  A  8723    	POP	BC
043011 DD07FD              A  8724    	LD	BC,(IX+%FFFFFFFD)
043014 09                  A  8725    	ADD	HL,BC
043015 2B                  A  8726    	DEC	HL
043016 3600                A  8727    	LD	(HL),%0
                           A  8728    ; 1101	            fsi.linenumber = linenumber
                           A  8729    .LINE 1101
                           A  8730    
043018 ED4B 14 97 04       A  8731    	LD	BC,(_linenumber)
04301D ED5580              A  8732    	LEA	IY,IX+%FFFFFF80
043020 FD71FA              A  8733    	LD	(IY+%FFFFFFFA),C
043023 FD70FB              A  8734    	LD	(IY+%FFFFFFFB),B
                           A  8735    ; 1102	            fsi.fp = filehandle[FILE_CU
                           A  8736    .LINE 1102
                           A  8737    
043026 3A 0B 97 04         A  8738    	LD	A,(_filehandle)
04302A FD77FC              A  8739    	LD	(IY+%FFFFFFFC),A
                           A  8740    ; 1103	            strcpy(fsi.filename, filena
                           A  8741    .LINE 1103
                           A  8742    
04302D 01 0B 94 04         A  8743    	LD	BC,_filename
043031 C5                  A  8744    	PUSH	BC
043032 DDE5E1              A  8745    	LD	HL,IX
043035 017DFFFF            A  8746    	LD	BC,-131
043039 09                  A  8747    	ADD	HL,BC
04303A E5C1                A  8748    	LD	BC,HL
04303C C5                  A  8749    	PUSH	BC
04303D CD 6F 6E 04         A  8750    	CALL	_strcpy
043041 C1                  A  8751    	POP	BC
043042 C1                  A  8752    	POP	BC
                           A  8753    ; 1104	            filestackPush(&fsi);
                           A  8754    .LINE 1104
                           A  8755    
043043 DDE5E1              A  8756    	LD	HL,IX
043046 017AFFFF            A  8757    	LD	BC,-134
04304A 09                  A  8758    	ADD	HL,BC
04304B E5C1                A  8759    	LD	BC,HL
04304D C5                  A  8760    	PUSH	BC
04304E CD 2D 39 04         A  8761    	CALL	_filestackPush
043052 C1                  A  8762    	POP	BC
                           A  8763    ; 1105	            filehandle[FILE_CURRENT] = 
                           A  8764    .LINE 1105
                           A  8765    
043053 DD27FD              A  8766    	LD	HL,(IX+%FFFFFFFD)
043056 23                  A  8767    	INC	HL
043057 0172FEFF            A  8768    	LD	BC,-398
04305B CD ED 64 04         A  8769    	CALL	__istix
04305F 01010000            A  8770    	LD	BC,1
043063 C5                  A  8771    	PUSH	BC
043064 0172FEFF            A  8772    	LD	BC,-398
043068 CD 1B 71 04         A  8773    	CALL	__ildix
04306C E5                  A  8774    	PUSH	HL
04306D CD 4E 0D 04         A  8775    	CALL	_mos_fopen
043071 C1                  A  8776    	POP	BC
043072 C1                  A  8777    	POP	BC
043073 32 0B 97 04         A  8778    	LD	(_filehandle),A
                           A  8779    ; 1106	            strcpy(filename[FILE_CURREN
                           A  8780    .LINE 1106
                           A  8781    
043077 0172FEFF            A  8782    	LD	BC,-398
04307B CD 1B 71 04         A  8783    	CALL	__ildix
04307F E5                  A  8784    	PUSH	HL
043080 01 0B 94 04         A  8785    	LD	BC,_filename
043084 C5                  A  8786    	PUSH	BC
043085 CD 6F 6E 04         A  8787    	CALL	_strcpy
043089 C1                  A  8788    	POP	BC
04308A C1                  A  8789    	POP	BC
                           A  8790    ; 1107	            if(filehandle[FILE_CURRENT]
                           A  8791    .LINE 1107
                           A  8792    
04308B 3A 0B 97 04         A  8793    	LD	A,(_filehandle)
04308F B7                  A  8794    	OR	A,A
043090 20 1C               A  8795    	JR	NZ,L_560
                           A  8796    ; 1108	                filestackPop(&fsi);
                           A  8797    .LINE 1108
                           A  8798    
043092 DDE5E1              A  8799    	LD	HL,IX
043095 017AFFFF            A  8800    	LD	BC,-134
043099 09                  A  8801    	ADD	HL,BC
04309A E5C1                A  8802    	LD	BC,HL
04309C C5                  A  8803    	PUSH	BC
04309D CD B4 39 04         A  8804    	CALL	_filestackPop
0430A1 C1                  A  8805    	POP	BC
                           A  8806    ; 1109	                error(message[ERROR_INC
                           A  8807    .LINE 1109
                           A  8808    
0430A2 21 EC 71 04         A  8809    	LD	HL,_message+102
0430A6 ED07                A  8810    	LD	BC,(HL)
0430A8 C5                  A  8811    	PUSH	BC
0430A9 CD A1 58 04         A  8812    	CALL	_error
0430AD C1                  A  8813    	POP	BC
                           A  8814    ; 1110	            }
0430AE                     A  8815    L_560:
                           A  8816    .LINE 1110
                           A  8817    
                           A  8818    ; 1111	            lineNumberNeedsReset = true
                           A  8819    .LINE 1111
                           A  8820    
0430AE 3E01                A  8821    	LD	A,%1
0430B0 32 13 97 04         A  8822    	LD	(_lineNumberNeedsReset),A
                           A  8823    ; 1112	        }
                           A  8824    ; 1113	        else error(message[ERROR_STRING
                           A  8825    .LINE 1113
                           A  8826    
0430B4 18 0C               A  8827    	JR	L_564
0430B6                     A  8828    L_562:
0430B6 21 C5 71 04         A  8829    	LD	HL,_message+63
0430BA ED07                A  8830    	LD	BC,(HL)
0430BC C5                  A  8831    	PUSH	BC
0430BD CD A1 58 04         A  8832    	CALL	_error
0430C1 C1                  A  8833    	POP	BC
0430C2                     A  8834    L_564:
                           A  8835    ; 1114	        if(token.terminator != 0) error
                           A  8836    .LINE 1114
                           A  8837    
0430C2 ED5580              A  8838    	LEA	IY,IX+%FFFFFF80
0430C5 FD7EF9              A  8839    	LD	A,(IY+%FFFFFFF9)
0430C8 B7                  A  8840    	OR	A,A
0430C9 28 1A               A  8841    	JR	Z,L_567
0430CB 21 DD 71 04         A  8842    	LD	HL,_message+87
0430CF ED07                A  8843    	LD	BC,(HL)
0430D1 C5                  A  8844    	PUSH	BC
0430D2 CD A1 58 04         A  8845    	CALL	_error
0430D6 C1                  A  8846    	POP	BC
                           A  8847    ; 1115	    }
                           A  8848    ; 1116	    else error(message[ERROR_MISSINGOPE
                           A  8849    .LINE 1116
                           A  8850    
0430D7 18 0C               A  8851    	JR	L_567
0430D9                     A  8852    L_566:
0430D9 21 95 71 04         A  8853    	LD	HL,_message+15
0430DD ED07                A  8854    	LD	BC,(HL)
0430DF C5                  A  8855    	PUSH	BC
0430E0 CD A1 58 04         A  8856    	CALL	_error
0430E4 C1                  A  8857    	POP	BC
                           A  8858    ; 1117	}
0430E5                     A  8859    L_567:
                           A  8860    .LINE 1117
                           A  8861    
0430E5 DDF9                A  8862    	LD	SP,IX
0430E7 DDE1                A  8863    	POP	IX
0430E9 C9                  A  8864    	RET	
                           A  8865    
                           A  8866    
                           A  8867    ;**************************** _handle_asm_inclu
                           A  8868    ;Name                         Addr/Register   S
                           A  8869    ;_lineNumberNeedsReset               IMPORT    
                           A  8870    ;_message                            IMPORT  un
                           A  8871    ;_error                              IMPORT  --
                           A  8872    ;_filestackPop                       IMPORT  --
                           A  8873    ;_mos_fopen                          IMPORT  --
                           A  8874    ;_filestackPush                      IMPORT  --
                           A  8875    ;_filename                           IMPORT    
                           A  8876    ;_strcpy                             IMPORT  --
                           A  8877    ;_filehandle                         IMPORT    
                           A  8878    ;_linenumber                         IMPORT    
                           A  8879    ;_strlen                             IMPORT  --
                           A  8880    ;_getLineToken                       IMPORT  --
                           A  8881    ;_currentline                        IMPORT    
                           A  8882    ;token                               IX-395    
                           A  8883    ;fsi                                 IX-134    
                           A  8884    ;G_25                                  IX-3    
                           A  8885    
                           A  8886    
                           A  8887    ; Stack Frame Size: 404 (bytes)
                           A  8888    ;       Spill Code: 0 (instruction)
                           A  8889    
                           A  8890    
                           A  8891    .ENDFUNC "handle_asm_include",1117,"_handle_asm
                           A  8892    ; 1118	
                           A  8893    ; 1119	
                           A  8894    ; 1120	
                           A  8895    ; 1121	void handle_asm_blk(uint8_t width) {
0430EA                     A  8896    _handle_asm_blk:
                           A  8897    .DEFINE "_handle_asm_blk"
                           A  8898    
                           A  8899    .VALUE _handle_asm_blk
                           A  8900    
                           A  8901    .CLASS 2
                           A  8902    
                           A  8903    .TYPE 65
                           A  8904    
                           A  8905    .ENDEF
                           A  8906    
                           A  8907    .BEGFUNC "handle_asm_blk",1121,"_handle_asm_blk
                           A  8908    
                           A  8909    .LINE 1121
                           A  8910    
                           A  8911    .DEFINE "width"
                           A  8912    
                           A  8913    .CLASS 65
                           A  8914    
                           A  8915    .VALUE 6
                           A  8916    
                           A  8917    .TYPE 12
                           A  8918    
                           A  8919    .ENDEF
                           A  8920    
                           A  8921    .DEFINE "val"
                           A  8922    
                           A  8923    .CLASS 65
                           A  8924    
                           A  8925    .VALUE -4
                           A  8926    
                           A  8927    .TYPE 5
                           A  8928    
                           A  8929    .ENDEF
                           A  8930    
                           A  8931    .DEFINE "num"
                           A  8932    
                           A  8933    .CLASS 65
                           A  8934    
                           A  8935    .VALUE -6
                           A  8936    
                           A  8937    .TYPE 13
                           A  8938    
                           A  8939    .ENDEF
                           A  8940    
                           A  8941    .DEFINE "token"
                           A  8942    
                           A  8943    .CLASS 65
                           A  8944    
                           A  8945    .VALUE -270
                           A  8946    
                           A  8947    .TAG "NONAME11"
                           A  8948    
                           A  8949    .TYPE 8
                           A  8950    
                           A  8951    .ENDEF
                           A  8952    
0430EA DDE5                A  8953    	PUSH	IX
0430EC DD210000 00         A  8954    	LD	IX,0
0430F1 DD39                A  8955    	ADD	IX,SP
0430F3 21F2FEFF            A  8956    	LD	HL,-270
0430F7 39                  A  8957    	ADD	HL,SP
0430F8 F9                  A  8958    	LD	SP,HL
                           A  8959    ; 1122	    uint16_t num;
                           A  8960    ; 1123	    int32_t val = 0;
                           A  8961    .LINE 1123
                           A  8962    
0430F9 01000000            A  8963    	LD	BC,0
0430FD AF                  A  8964    	XOR	A,A
0430FE DD0FFC              A  8965    	LD	(IX+%FFFFFFFC),BC
043101 DD77FF              A  8966    	LD	(IX+%FFFFFFFF),A
                           A  8967    ; 1124	    tokentype token;
                           A  8968    ; 1125	
                           A  8969    ; 1126	    if(pass == 1) {
                           A  8970    .LINE 1126
                           A  8971    
043104 01010000            A  8972    	LD	BC,1
043108 2A 17 97 04         A  8973    	LD	HL,(_pass)
04310C B7                  A  8974    	OR	A,A
04310D ED42                A  8975    	SBC	HL,BC
04310F 20 14               A  8976    	JR	NZ,L_589
                           A  8977    ; 1127	        // Output label at this address
                           A  8978    ; 1128	        definelabel(address);
                           A  8979    .LINE 1128
                           A  8980    
043111 3A 1D 97 04         A  8981    	LD	A,(_address+3)
043115 4F                  A  8982    	LD	C,A
043116 0600                A  8983    	LD	B,%0
043118 C5                  A  8984    	PUSH	BC
043119 ED4B 1A 97 04       A  8985    	LD	BC,(_address)
04311E C5                  A  8986    	PUSH	BC
04311F CD 09 1C 04         A  8987    	CALL	_definelabel
043123 C1                  A  8988    	POP	BC
043124 C1                  A  8989    	POP	BC
                           A  8990    ; 1129	    }
043125                     A  8991    L_589:
                           A  8992    .LINE 1129
                           A  8993    
                           A  8994    ; 1130	
                           A  8995    ; 1131	    if(currentline.next) {
                           A  8996    .LINE 1131
                           A  8997    
043125 2A 28 97 04         A  8998    	LD	HL,(_currentline+3)
043129 CD E3 6A 04         A  8999    	CALL	__icmpzero
04312D CA AA 32 04         A  9000    	JR	Z,L_588
                           A  9001    ; 1132	        getLineToken(&token, currentlin
                           A  9002    .LINE 1132
                           A  9003    
043131 012C0000            A  9004    	LD	BC,44
043135 C5                  A  9005    	PUSH	BC
043136 ED4B 28 97 04       A  9006    	LD	BC,(_currentline+3)
04313B C5                  A  9007    	PUSH	BC
04313C DDE5E1              A  9008    	LD	HL,IX
04313F 01F2FEFF            A  9009    	LD	BC,-270
043143 09                  A  9010    	ADD	HL,BC
043144 E5C1                A  9011    	LD	BC,HL
043146 C5                  A  9012    	PUSH	BC
043147 CD D0 59 04         A  9013    	CALL	_getLineToken
04314B C1                  A  9014    	POP	BC
04314C C1                  A  9015    	POP	BC
04314D C1                  A  9016    	POP	BC
                           A  9017    ; 1133	        if(notEmpty(token.start)) {
                           A  9018    .LINE 1133
                           A  9019    
04314E DDE5E1              A  9020    	LD	HL,IX
043151 01F2FEFF            A  9021    	LD	BC,-270
043155 09                  A  9022    	ADD	HL,BC
043156 E5C1                A  9023    	LD	BC,HL
043158 C5                  A  9024    	PUSH	BC
043159 CD 87 58 04         A  9025    	CALL	_notEmpty
04315D C1                  A  9026    	POP	BC
04315E B7                  A  9027    	OR	A,A
04315F CA 9C 32 04         A  9028    	JR	Z,L_586
                           A  9029    ; 1134	            num = str2num(token.start,t
                           A  9030    .LINE 1134
                           A  9031    
043163 01010000            A  9032    	LD	BC,1
043167 C5                  A  9033    	PUSH	BC
043168 DDE5E1              A  9034    	LD	HL,IX
04316B 01F2FEFF            A  9035    	LD	BC,-270
04316F 09                  A  9036    	ADD	HL,BC
043170 E5C1                A  9037    	LD	BC,HL
043172 C5                  A  9038    	PUSH	BC
043173 CD 3E 54 04         A  9039    	CALL	_str2num
043177 C1                  A  9040    	POP	BC
043178 C1                  A  9041    	POP	BC
043179 DD75FA              A  9042    	LD	(IX+%FFFFFFFA),L
04317C DD74FB              A  9043    	LD	(IX+%FFFFFFFB),H
                           A  9044    ; 1135	
                           A  9045    ; 1136	            if(token.terminator == ',')
                           A  9046    .LINE 1136
                           A  9047    
04317F DD7EF6              A  9048    	LD	A,(IX+%FFFFFFF6)
043182 FE2C                A  9049    	CP	A,%2C
043184 C2 0E 32 04         A  9050    	JR	NZ,L_576
                           A  9051    ; 1137	                getLineToken(&token, to
                           A  9052    .LINE 1137
                           A  9053    
043188 01000000            A  9054    	LD	BC,0
04318C C5                  A  9055    	PUSH	BC
04318D DD07F3              A  9056    	LD	BC,(IX+%FFFFFFF3)
043190 C5                  A  9057    	PUSH	BC
043191 DDE5E1              A  9058    	LD	HL,IX
043194 01F2FEFF            A  9059    	LD	BC,-270
043198 09                  A  9060    	ADD	HL,BC
043199 E5C1                A  9061    	LD	BC,HL
04319B C5                  A  9062    	PUSH	BC
04319C CD D0 59 04         A  9063    	CALL	_getLineToken
0431A0 C1                  A  9064    	POP	BC
0431A1 C1                  A  9065    	POP	BC
0431A2 C1                  A  9066    	POP	BC
                           A  9067    ; 1138	                if(notEmpty(token.start
                           A  9068    .LINE 1138
                           A  9069    
0431A3 DDE5E1              A  9070    	LD	HL,IX
0431A6 01F2FEFF            A  9071    	LD	BC,-270
0431AA 09                  A  9072    	ADD	HL,BC
0431AB E5C1                A  9073    	LD	BC,HL
0431AD C5                  A  9074    	PUSH	BC
0431AE CD 87 58 04         A  9075    	CALL	_notEmpty
0431B2 C1                  A  9076    	POP	BC
0431B3 B7                  A  9077    	OR	A,A
0431B4 28 4A               A  9078    	JR	Z,L_572
                           A  9079    ; 1139	                    if(token.start[0] =
                           A  9080    .LINE 1139
                           A  9081    
0431B6 DDE5E1              A  9082    	LD	HL,IX
0431B9 01F2FEFF            A  9083    	LD	BC,-270
0431BD 09                  A  9084    	ADD	HL,BC
0431BE DD2FF7              A  9085    	LD	(IX+%FFFFFFF7),HL
0431C1 7E                  A  9086    	LD	A,(HL)
0431C2 47                  A  9087    	LD	B,A
0431C3 17ED62              A  9088    	SEXT	HL
0431C6 68                  A  9089    	LD	L,B
0431C7 01270000            A  9090    	LD	BC,39
0431CB B7                  A  9091    	OR	A,A
0431CC ED42                A  9092    	SBC	HL,BC
0431CE 20 17               A  9093    	JR	NZ,L_570
0431D0 DD07F7              A  9094    	LD	BC,(IX+%FFFFFFF7)
0431D3 C5                  A  9095    	PUSH	BC
0431D4 CD 64 0E 04         A  9096    	CALL	_getAsciiValue
0431D8 C1                  A  9097    	POP	BC
0431D9 B7ED62              A  9098    	UEXT	HL
0431DC 6F                  A  9099    	LD	L,A
0431DD DD2FFC              A  9100    	LD	(IX+%FFFFFFFC),HL
0431E0 DD74FF              A  9101    	LD	(IX+%FFFFFFFF),H
                           A  9102    ; 1140	                    else val = str2num(
                           A  9103    .LINE 1140
                           A  9104    
0431E3 C3 83 32 04         A  9105    	JR	L_582
0431E7                     A  9106    L_570:
0431E7 01010000            A  9107    	LD	BC,1
0431EB C5                  A  9108    	PUSH	BC
0431EC DD07F7              A  9109    	LD	BC,(IX+%FFFFFFF7)
0431EF C5                  A  9110    	PUSH	BC
0431F0 CD 3E 54 04         A  9111    	CALL	_str2num
0431F4 C1                  A  9112    	POP	BC
0431F5 C1                  A  9113    	POP	BC
0431F6 DD2FFC              A  9114    	LD	(IX+%FFFFFFFC),HL
0431F9 DD73FF              A  9115    	LD	(IX+%FFFFFFFF),E
                           A  9116    ; 1141	                }
                           A  9117    ; 1142	                else error(message[ERRO
                           A  9118    .LINE 1142
                           A  9119    
0431FC C3 83 32 04         A  9120    	JR	L_582
043200                     A  9121    L_572:
043200 21 95 71 04         A  9122    	LD	HL,_message+15
043204 ED07                A  9123    	LD	BC,(HL)
043206 C5                  A  9124    	PUSH	BC
043207 CD A1 58 04         A  9125    	CALL	_error
04320B C1                  A  9126    	POP	BC
                           A  9127    ; 1143	            }
                           A  9128    ; 1144	            else if((token.terminator !
                           A  9129    .LINE 1144
                           A  9130    
04320C 18 75               A  9131    	JR	L_582
04320E                     A  9132    L_576:
04320E DD7EF6              A  9133    	LD	A,(IX+%FFFFFFF6)
043211 B7                  A  9134    	OR	A,A
043212 28 6F               A  9135    	JR	Z,L_582
043214 DD7EF6              A  9136    	LD	A,(IX+%FFFFFFF6)
043217 FE3B                A  9137    	CP	A,%3B
043219 28 68               A  9138    	JR	Z,L_582
04321B 21 E0 71 04         A  9139    	LD	HL,_message+90
04321F ED07                A  9140    	LD	BC,(HL)
043221 C5                  A  9141    	PUSH	BC
043222 CD A1 58 04         A  9142    	CALL	_error
043226 C1                  A  9143    	POP	BC
                           A  9144    ; 1145	            while(num--) {
                           A  9145    .LINE 1145
                           A  9146    
043227 18 5A               A  9147    	JR	L_582
043229                     A  9148    L_583:
                           A  9149    ; 1146	                switch(width) {
                           A  9150    .LINE 1146
                           A  9151    
043229 DD7E06              A  9152    	LD	A,(IX+%6)
04322C B7ED62              A  9153    	UEXT	HL
04322F 6F                  A  9154    	LD	L,A
043230 CD 64 64 04         A  9155    	CALL	__seqcaseD
043234 E9                  A  9156    	JP	(HL)
043235                     A  9157    L__263:
043235 0400                A  9158    	DW	4
043237 0100                A  9159    	DW	1
043239 00                  A  9160    	DB	0
04323A 493204              A  9161    	DW24	L_578	
                           A  9162    
04323D 563204              A  9163    	DW24	L_579	
                           A  9164    
043240 613204              A  9165    	DW24	L_580	
                           A  9166    
043243 733204              A  9167    	DW24	L_581	
                           A  9168    
043246 833204              A  9169    	DW24	L_582	
                           A  9170    
                           A  9171    ; 1147	                    case 1:
043249                     A  9172    L_578:
                           A  9173    .LINE 1147
                           A  9174    
                           A  9175    ; 1148	                        emit_8bit(val);
                           A  9176    .LINE 1148
                           A  9177    
043249 DD4EFC              A  9178    	LD	C,(IX+%FFFFFFFC)
04324C 0600                A  9179    	LD	B,%0
04324E C5                  A  9180    	PUSH	BC
04324F CD 2E 27 04         A  9181    	CALL	_emit_8bit
043253 C1                  A  9182    	POP	BC
                           A  9183    ; 1149	                        break;
                           A  9184    .LINE 1149
                           A  9185    
043254 18 2D               A  9186    	JR	L_582
                           A  9187    ; 1150	                    case 2:
043256                     A  9188    L_579:
                           A  9189    .LINE 1150
                           A  9190    
                           A  9191    ; 1151	                        emit_16bit(val)
                           A  9192    .LINE 1151
                           A  9193    
043256 DD07FC              A  9194    	LD	BC,(IX+%FFFFFFFC)
043259 C5                  A  9195    	PUSH	BC
04325A CD 9A 27 04         A  9196    	CALL	_emit_16bit
04325E C1                  A  9197    	POP	BC
                           A  9198    ; 1152	                        break;
                           A  9199    .LINE 1152
                           A  9200    
04325F 18 22               A  9201    	JR	L_582
                           A  9202    ; 1153	                    case 3:
043261                     A  9203    L_580:
                           A  9204    .LINE 1153
                           A  9205    
                           A  9206    ; 1154	                        emit_24bit(val)
                           A  9207    .LINE 1154
                           A  9208    
043261 DD4EFF              A  9209    	LD	C,(IX+%FFFFFFFF)
043264 0600                A  9210    	LD	B,%0
043266 C5                  A  9211    	PUSH	BC
043267 DD07FC              A  9212    	LD	BC,(IX+%FFFFFFFC)
04326A C5                  A  9213    	PUSH	BC
04326B CD CB 27 04         A  9214    	CALL	_emit_24bit
04326F C1                  A  9215    	POP	BC
043270 C1                  A  9216    	POP	BC
                           A  9217    ; 1155	                        break;
                           A  9218    .LINE 1155
                           A  9219    
043271 18 10               A  9220    	JR	L_582
                           A  9221    ; 1156	                    case 4:
043273                     A  9222    L_581:
                           A  9223    .LINE 1156
                           A  9224    
                           A  9225    ; 1157	                        emit_32bit(val)
                           A  9226    .LINE 1157
                           A  9227    
043273 DD4EFF              A  9228    	LD	C,(IX+%FFFFFFFF)
043276 0600                A  9229    	LD	B,%0
043278 C5                  A  9230    	PUSH	BC
043279 DD07FC              A  9231    	LD	BC,(IX+%FFFFFFFC)
04327C C5                  A  9232    	PUSH	BC
04327D CD 0D 28 04         A  9233    	CALL	_emit_32bit
043281 C1                  A  9234    	POP	BC
043282 C1                  A  9235    	POP	BC
                           A  9236    ; 1158	                        break;
                           A  9237    ; 1159	                }
                           A  9238    ; 1160	            }
043283                     A  9239    L_582:
                           A  9240    .LINE 1160
                           A  9241    
043283 DD07FA              A  9242    	LD	BC,(IX+%FFFFFFFA)
043286 DD31FA              A  9243    	LD	IY,(IX+%FFFFFFFA)
043289 ED23FF              A  9244    	LEA	HL,IY+%FFFFFFFF
04328C DD75FA              A  9245    	LD	(IX+%FFFFFFFA),L
04328F DD74FB              A  9246    	LD	(IX+%FFFFFFFB),H
043292 C5E1                A  9247    	LD	HL,BC
043294 CD 89 6E 04         A  9248    	CALL	__scmpzero
043298 20 8F               A  9249    	JR	NZ,L_583
04329A 18 1A               A  9250    	JR	L_590
                           A  9251    ; 1161	        }
                           A  9252    ; 1162	        else error(message[ERROR_MISSIN
04329C                     A  9253    L_586:
                           A  9254    .LINE 1162
                           A  9255    
04329C 21 95 71 04         A  9256    	LD	HL,_message+15
0432A0 ED07                A  9257    	LD	BC,(HL)
0432A2 C5                  A  9258    	PUSH	BC
0432A3 CD A1 58 04         A  9259    	CALL	_error
0432A7 C1                  A  9260    	POP	BC
                           A  9261    ; 1163	    }
                           A  9262    ; 1164	    else error(message[ERROR_MISSINGOPE
                           A  9263    .LINE 1164
                           A  9264    
0432A8 18 0C               A  9265    	JR	L_590
0432AA                     A  9266    L_588:
0432AA 21 95 71 04         A  9267    	LD	HL,_message+15
0432AE ED07                A  9268    	LD	BC,(HL)
0432B0 C5                  A  9269    	PUSH	BC
0432B1 CD A1 58 04         A  9270    	CALL	_error
0432B5 C1                  A  9271    	POP	BC
                           A  9272    ; 1165	}
0432B6                     A  9273    L_590:
                           A  9274    .LINE 1165
                           A  9275    
0432B6 DDF9                A  9276    	LD	SP,IX
0432B8 DDE1                A  9277    	POP	IX
0432BA C9                  A  9278    	RET	
                           A  9279    
                           A  9280    
                           A  9281    ;**************************** _handle_asm_blk *
                           A  9282    ;Name                         Addr/Register   S
                           A  9283    ;_emit_24bit                         IMPORT  --
                           A  9284    ;_emit_16bit                         IMPORT  --
                           A  9285    ;_emit_8bit                          IMPORT  --
                           A  9286    ;_message                            IMPORT  un
                           A  9287    ;_error                              IMPORT  --
                           A  9288    ;_str2num                            IMPORT  --
                           A  9289    ;_notEmpty                           IMPORT  --
                           A  9290    ;_getLineToken                       IMPORT  --
                           A  9291    ;_currentline                        IMPORT    
                           A  9292    ;_address                            IMPORT    
                           A  9293    ;_pass                               IMPORT    
                           A  9294    ;token                               IX-270    
                           A  9295    ;G_27                                  IX-9    
                           A  9296    ;num                                   IX-6    
                           A  9297    ;val                                   IX-4    
                           A  9298    ;width                                 IX+6    
                           A  9299    
                           A  9300    
                           A  9301    ; Stack Frame Size: 279 (bytes)
                           A  9302    ;       Spill Code: 0 (instruction)
                           A  9303    
                           A  9304    
                           A  9305    .ENDFUNC "handle_asm_blk",1165,"_handle_asm_blk
                           A  9306    ; 1166	
                           A  9307    ; 1167	void handle_asm_align(void) {
0432BB                     A  9308    _handle_asm_align:
                           A  9309    .DEFINE "_handle_asm_align"
                           A  9310    
                           A  9311    .VALUE _handle_asm_align
                           A  9312    
                           A  9313    .CLASS 2
                           A  9314    
                           A  9315    .TYPE 65
                           A  9316    
                           A  9317    .ENDEF
                           A  9318    
                           A  9319    .BEGFUNC "handle_asm_align",1167,"_handle_asm_a
                           A  9320    
                           A  9321    .LINE 1167
                           A  9322    
                           A  9323    .DEFINE "base"
                           A  9324    
                           A  9325    .CLASS 65
                           A  9326    
                           A  9327    .VALUE -4
                           A  9328    
                           A  9329    .TYPE 15
                           A  9330    
                           A  9331    .ENDEF
                           A  9332    
                           A  9333    .DEFINE "delta"
                           A  9334    
                           A  9335    .CLASS 65
                           A  9336    
                           A  9337    .VALUE -8
                           A  9338    
                           A  9339    .TYPE 15
                           A  9340    
                           A  9341    .ENDEF
                           A  9342    
                           A  9343    .DEFINE "alignment"
                           A  9344    
                           A  9345    .CLASS 65
                           A  9346    
                           A  9347    .VALUE -12
                           A  9348    
                           A  9349    .TYPE 15
                           A  9350    
                           A  9351    .ENDEF
                           A  9352    
0432BB DDE5                A  9353    	PUSH	IX
0432BD DD210000 00         A  9354    	LD	IX,0
0432C2 DD39                A  9355    	ADD	IX,SP
0432C4 ED22EC              A  9356    	LEA	HL,IX+%FFFFFFEC
0432C7 F9                  A  9357    	LD	SP,HL
                           A  9358    ; 1168	uint32_t alignment;
                           A  9359    ; 1169	uint32_t base;
                           A  9360    ; 1170	uint32_t delta;
                           A  9361    ; 1171	
                           A  9362    ; 1172	    if(pass == 1) {
                           A  9363    .LINE 1172
                           A  9364    
0432C8 01010000            A  9365    	LD	BC,1
0432CC 2A 17 97 04         A  9366    	LD	HL,(_pass)
0432D0 B7                  A  9367    	OR	A,A
0432D1 ED42                A  9368    	SBC	HL,BC
0432D3 20 14               A  9369    	JR	NZ,L_592
                           A  9370    ; 1173	        // Output label at this address
                           A  9371    ; 1174	        definelabel(address);
                           A  9372    .LINE 1174
                           A  9373    
0432D5 3A 1D 97 04         A  9374    	LD	A,(_address+3)
0432D9 4F                  A  9375    	LD	C,A
0432DA 0600                A  9376    	LD	B,%0
0432DC C5                  A  9377    	PUSH	BC
0432DD ED4B 1A 97 04       A  9378    	LD	BC,(_address)
0432E2 C5                  A  9379    	PUSH	BC
0432E3 CD 09 1C 04         A  9380    	CALL	_definelabel
0432E7 C1                  A  9381    	POP	BC
0432E8 C1                  A  9382    	POP	BC
                           A  9383    ; 1175	    }
0432E9                     A  9384    L_592:
                           A  9385    .LINE 1175
                           A  9386    
                           A  9387    ; 1176	
                           A  9388    ; 1177	    parse_asm_single_immediate();
                           A  9389    .LINE 1177
                           A  9390    
0432E9 CD CE 29 04         A  9391    	CALL	_parse_asm_single_immediate
                           A  9392    ; 1178	    if(operand1.immediate > 0) {
                           A  9393    .LINE 1178
                           A  9394    
0432ED B7                  A  9395    	OR	A,A
0432EE ED62                A  9396    	SBC	HL,HL
0432F0 1E00                A  9397    	LD	E,%0
0432F2 ED4B 38 98 04       A  9398    	LD	BC,(_operand1+11)
0432F7 3A 3B 98 04         A  9399    	LD	A,(_operand1+14)
0432FB CD 1D 6E 04         A  9400    	CALL	__lcmps
0432FF F2 33 34 04         A  9401    	JP	P,L_603
                           A  9402    ; 1179	        if((operand1.immediate & (opera
                           A  9403    .LINE 1179
                           A  9404    
043303 2A 38 98 04         A  9405    	LD	HL,(_operand1+11)
043307 3A 3B 98 04         A  9406    	LD	A,(_operand1+14)
04330B 5F                  A  9407    	LD	E,A
04330C 01FFFFFF            A  9408    	LD	BC,16777215
043310 3EFF                A  9409    	LD	A,%FF
043312 CD 0E 64 04         A  9410    	CALL	__ladd
043316 ED4B 38 98 04       A  9411    	LD	BC,(_operand1+11)
04331B 3A 3B 98 04         A  9412    	LD	A,(_operand1+14)
04331F CD 27 71 04         A  9413    	CALL	__land
043323 CD 41 67 04         A  9414    	CALL	__lcmpzero
043327 C2 25 34 04         A  9415    	JR	NZ,L_601
                           A  9416    ; 1180	            alignment = operand1.immedi
                           A  9417    .LINE 1180
                           A  9418    
04332B ED4B 38 98 04       A  9419    	LD	BC,(_operand1+11)
043330 3A 3B 98 04         A  9420    	LD	A,(_operand1+14)
043334 DD0FF4              A  9421    	LD	(IX+%FFFFFFF4),BC
043337 DD77F7              A  9422    	LD	(IX+%FFFFFFF7),A
                           A  9423    ; 1181	            base = (~(operand1.immediat
                           A  9424    .LINE 1181
                           A  9425    
04333A 2A 38 98 04         A  9426    	LD	HL,(_operand1+11)
04333E 3A 3B 98 04         A  9427    	LD	A,(_operand1+14)
043342 5F                  A  9428    	LD	E,A
043343 01FFFFFF            A  9429    	LD	BC,16777215
043347 3EFF                A  9430    	LD	A,%FF
043349 CD 0E 64 04         A  9431    	CALL	__ladd
04334D CD 49 6F 04         A  9432    	CALL	__lnot
043351 ED4B 1A 97 04       A  9433    	LD	BC,(_address)
043356 3A 1D 97 04         A  9434    	LD	A,(_address+3)
04335A CD 27 71 04         A  9435    	CALL	__land
04335E DD2FFC              A  9436    	LD	(IX+%FFFFFFFC),HL
043361 DD73FF              A  9437    	LD	(IX+%FFFFFFFF),E
                           A  9438    ; 1182	
                           A  9439    ; 1183	            if(address & (operand1.imme
                           A  9440    .LINE 1183
                           A  9441    
043364 2A 38 98 04         A  9442    	LD	HL,(_operand1+11)
043368 3A 3B 98 04         A  9443    	LD	A,(_operand1+14)
04336C 5F                  A  9444    	LD	E,A
04336D 01FFFFFF            A  9445    	LD	BC,16777215
043371 3EFF                A  9446    	LD	A,%FF
043373 CD 0E 64 04         A  9447    	CALL	__ladd
043377 ED4B 1A 97 04       A  9448    	LD	BC,(_address)
04337C 3A 1D 97 04         A  9449    	LD	A,(_address+3)
043380 CD 27 71 04         A  9450    	CALL	__land
043384 CD 41 67 04         A  9451    	CALL	__lcmpzero
043388 28 16               A  9452    	JR	Z,L_594
04338A DD27F4              A  9453    	LD	HL,(IX+%FFFFFFF4)
04338D DD5EF7              A  9454    	LD	E,(IX+%FFFFFFF7)
043390 DD07FC              A  9455    	LD	BC,(IX+%FFFFFFFC)
043393 DD7EFF              A  9456    	LD	A,(IX+%FFFFFFFF)
043396 CD 0E 64 04         A  9457    	CALL	__ladd
04339A DD2FFC              A  9458    	LD	(IX+%FFFFFFFC),HL
04339D DD73FF              A  9459    	LD	(IX+%FFFFFFFF),E
0433A0                     A  9460    L_594:
                           A  9461    ; 1184	            delta = base - address;
                           A  9462    .LINE 1184
                           A  9463    
0433A0 DD27FC              A  9464    	LD	HL,(IX+%FFFFFFFC)
0433A3 DD5EFF              A  9465    	LD	E,(IX+%FFFFFFFF)
0433A6 ED4B 1A 97 04       A  9466    	LD	BC,(_address)
0433AB 3A 1D 97 04         A  9467    	LD	A,(_address+3)
0433AF CD 91 6A 04         A  9468    	CALL	__lsub
0433B3 DD2FF8              A  9469    	LD	(IX+%FFFFFFF8),HL
0433B6 DD73FB              A  9470    	LD	(IX+%FFFFFFFB),E
                           A  9471    ; 1185	            while(delta--) emit_8bit(FI
                           A  9472    .LINE 1185
                           A  9473    
0433B9 18 0A               A  9474    	JR	L_596
0433BB                     A  9475    L_597:
0433BB 01000000            A  9476    	LD	BC,0
0433BF C5                  A  9477    	PUSH	BC
0433C0 CD 2E 27 04         A  9478    	CALL	_emit_8bit
0433C4 C1                  A  9479    	POP	BC
0433C5                     A  9480    L_596:
0433C5 DD07F8              A  9481    	LD	BC,(IX+%FFFFFFF8)
0433C8 DD0FEC              A  9482    	LD	(IX+%FFFFFFEC),BC	; spill
0433CB DD66FB              A  9483    	LD	H,(IX+%FFFFFFFB)
0433CE DD74F2              A  9484    	LD	(IX+%FFFFFFF2),H	; spill
0433D1 DD27F8              A  9485    	LD	HL,(IX+%FFFFFFF8)
0433D4 DD5EFB              A  9486    	LD	E,(IX+%FFFFFFFB)
0433D7 01010000            A  9487    	LD	BC,1
0433DB AF                  A  9488    	XOR	A,A
0433DC CD 91 6A 04         A  9489    	CALL	__lsub
0433E0 DD2FF8              A  9490    	LD	(IX+%FFFFFFF8),HL
0433E3 DD73FB              A  9491    	LD	(IX+%FFFFFFFB),E
0433E6 DD66F2              A  9492    	LD	H,(IX+%FFFFFFF2)	; unspill
0433E9 5C                  A  9493    	LD	E,H
0433EA DD27EC              A  9494    	LD	HL,(IX+%FFFFFFEC)
0433ED CD 41 67 04         A  9495    	CALL	__lcmpzero
0433F1 20 C8               A  9496    	JR	NZ,L_597
                           A  9497    ; 1186	
                           A  9498    ; 1187	            address = base;
                           A  9499    .LINE 1187
                           A  9500    
0433F3 DD07FC              A  9501    	LD	BC,(IX+%FFFFFFFC)
0433F6 ED43 1A 97 04       A  9502    	LD	(_address),BC
0433FB DD7EFF              A  9503    	LD	A,(IX+%FFFFFFFF)
0433FE 32 1D 97 04         A  9504    	LD	(_address+3),A
                           A  9505    ; 1188	            if(pass == 1) {
                           A  9506    .LINE 1188
                           A  9507    
043402 01010000            A  9508    	LD	BC,1
043406 2A 17 97 04         A  9509    	LD	HL,(_pass)
04340A B7                  A  9510    	OR	A,A
04340B ED42                A  9511    	SBC	HL,BC
04340D 20 30               A  9512    	JR	NZ,L_604
                           A  9513    ; 1189	                definelabel(address); /
                           A  9514    .LINE 1189
                           A  9515    
04340F 3A 1D 97 04         A  9516    	LD	A,(_address+3)
043413 4F                  A  9517    	LD	C,A
043414 0600                A  9518    	LD	B,%0
043416 C5                  A  9519    	PUSH	BC
043417 ED4B 1A 97 04       A  9520    	LD	BC,(_address)
04341C C5                  A  9521    	PUSH	BC
04341D CD 09 1C 04         A  9522    	CALL	_definelabel
043421 C1                  A  9523    	POP	BC
043422 C1                  A  9524    	POP	BC
                           A  9525    ; 1190	            }
                           A  9526    ; 1191	        }
                           A  9527    ; 1192	        else error(message[ERROR_POWER2
                           A  9528    .LINE 1192
                           A  9529    
043423 18 1A               A  9530    	JR	L_604
043425                     A  9531    L_601:
043425 21 FB 71 04         A  9532    	LD	HL,_message+117
043429 ED07                A  9533    	LD	BC,(HL)
04342B C5                  A  9534    	PUSH	BC
04342C CD A1 58 04         A  9535    	CALL	_error
043430 C1                  A  9536    	POP	BC
                           A  9537    ; 1193	    }
                           A  9538    ; 1194	    else error(message[ERROR_INVALIDNUM
                           A  9539    .LINE 1194
                           A  9540    
043431 18 0C               A  9541    	JR	L_604
043433                     A  9542    L_603:
043433 21 8F 71 04         A  9543    	LD	HL,_message+9
043437 ED07                A  9544    	LD	BC,(HL)
043439 C5                  A  9545    	PUSH	BC
04343A CD A1 58 04         A  9546    	CALL	_error
04343E C1                  A  9547    	POP	BC
                           A  9548    ; 1195	}
04343F                     A  9549    L_604:
                           A  9550    .LINE 1195
                           A  9551    
04343F DDF9                A  9552    	LD	SP,IX
043441 DDE1                A  9553    	POP	IX
043443 C9                  A  9554    	RET	
                           A  9555    
                           A  9556    
                           A  9557    ;**************************** _handle_asm_align
                           A  9558    ;Name                         Addr/Register   S
                           A  9559    ;_message                            IMPORT  un
                           A  9560    ;_error                              IMPORT  --
                           A  9561    ;_emit_8bit                          IMPORT  --
                           A  9562    ;_operand1                           IMPORT    
                           A  9563    ;_address                            IMPORT    
                           A  9564    ;_pass                               IMPORT    
                           A  9565    ;alignment                            IX-12    
                           A  9566    ;delta                                 IX-8    
                           A  9567    ;base                                  IX-4    
                           A  9568    
                           A  9569    
                           A  9570    ; Stack Frame Size: 26 (bytes)
                           A  9571    ;       Spill Code: -1 (instruction)
                           A  9572    
                           A  9573    
                           A  9574    .ENDFUNC "handle_asm_align",1195,"_handle_asm_a
                           A  9575    ; 1196	
                           A  9576    ; 1197	void handle_assembler_command(void) {
043444                     A  9577    _handle_assembler_command:
                           A  9578    .DEFINE "_handle_assembler_command"
                           A  9579    
                           A  9580    .VALUE _handle_assembler_command
                           A  9581    
                           A  9582    .CLASS 2
                           A  9583    
                           A  9584    .TYPE 65
                           A  9585    
                           A  9586    .ENDEF
                           A  9587    
                           A  9588    .BEGFUNC "handle_assembler_command",1197,"_hand
                           A  9589    
043444 DDE5                A  9590    	PUSH	IX
043446 DD210000 00         A  9591    	LD	IX,0
04344B DD39                A  9592    	ADD	IX,SP
                           A  9593    ; 1198	    switch(currentline.current_instruct
                           A  9594    .LINE 1198
                           A  9595    
04344D FD2A 25 97 04       A  9596    	LD	IY,(_currentline)
043452 FD7E09              A  9597    	LD	A,(IY+%9)
043455 B7ED62              A  9598    	UEXT	HL
043458 6F                  A  9599    	LD	L,A
043459 CD 64 64 04         A  9600    	CALL	__seqcaseD
04345D E9                  A  9601    	JP	(HL)
04345E                     A  9602    L__273:
04345E 0E00                A  9603    	DW	14
043460 0000                A  9604    	DW	0
043462 00                  A  9605    	DB	0
043463 143504              A  9606    	DW24	L_618	
                           A  9607    
043466 903404              A  9608    	DW24	L_605	
                           A  9609    
043469 983404              A  9610    	DW24	L_606	
                           A  9611    
04346C 9E3404              A  9612    	DW24	L_607	
                           A  9613    
04346F A43404              A  9614    	DW24	L_608	
                           A  9615    
043472 B03404              A  9616    	DW24	L_609	
                           A  9617    
043475 BC3404              A  9618    	DW24	L_610	
                           A  9619    
043478 C83404              A  9620    	DW24	L_611	
                           A  9621    
04347B D83404              A  9622    	DW24	L_612	
                           A  9623    
04347E DE3404              A  9624    	DW24	L_613	
                           A  9625    
043481 E43404              A  9626    	DW24	L_614	
                           A  9627    
043484 F03404              A  9628    	DW24	L_615	
                           A  9629    
043487 FC3404              A  9630    	DW24	L_616	
                           A  9631    
04348A 083504              A  9632    	DW24	L_617	
                           A  9633    
04348D 183504              A  9634    	DW24	L_619	
                           A  9635    
                           A  9636    ; 1199	    case(ASM_ADL):
043490                     A  9637    L_605:
                           A  9638    .LINE 1199
                           A  9639    
                           A  9640    ; 1200	        handle_asm_adl();
                           A  9641    .LINE 1200
                           A  9642    
043490 CD AA 2E 04         A  9643    	CALL	_handle_asm_adl
                           A  9644    ; 1201	        break;
                           A  9645    .LINE 1201
                           A  9646    
043494 C3 18 35 04         A  9647    	JR	L_619
                           A  9648    ; 1202	    case(ASM_ORG):
043498                     A  9649    L_606:
                           A  9650    .LINE 1202
                           A  9651    
                           A  9652    ; 1203	        handle_asm_org();
                           A  9653    .LINE 1203
                           A  9654    
043498 CD 19 2F 04         A  9655    	CALL	_handle_asm_org
                           A  9656    ; 1204	        break;
                           A  9657    .LINE 1204
                           A  9658    
04349C 18 7A               A  9659    	JR	L_619
                           A  9660    ; 1205	    case(ASM_DB):
04349E                     A  9661    L_607:
                           A  9662    .LINE 1205
                           A  9663    
                           A  9664    ; 1206	        handle_asm_db();
                           A  9665    .LINE 1206
                           A  9666    
04349E CD 46 2B 04         A  9667    	CALL	_handle_asm_db
                           A  9668    ; 1207	        break;
                           A  9669    .LINE 1207
                           A  9670    
0434A2 18 74               A  9671    	JR	L_619
                           A  9672    ; 1208	    case(ASM_DS):
0434A4                     A  9673    L_608:
                           A  9674    .LINE 1208
                           A  9675    
                           A  9676    ; 1209	        handle_asm_blk(1);
                           A  9677    .LINE 1209
                           A  9678    
0434A4 01010000            A  9679    	LD	BC,1
0434A8 C5                  A  9680    	PUSH	BC
0434A9 CD EA 30 04         A  9681    	CALL	_handle_asm_blk
0434AD C1                  A  9682    	POP	BC
                           A  9683    ; 1210	        break;
                           A  9684    .LINE 1210
                           A  9685    
0434AE 18 68               A  9686    	JR	L_619
                           A  9687    ; 1211	    case(ASM_DW):
0434B0                     A  9688    L_609:
                           A  9689    .LINE 1211
                           A  9690    
                           A  9691    ; 1212	        handle_asm_dw(false);
                           A  9692    .LINE 1212
                           A  9693    
0434B0 01000000            A  9694    	LD	BC,0
0434B4 C5                  A  9695    	PUSH	BC
0434B5 CD 6B 2C 04         A  9696    	CALL	_handle_asm_dw
0434B9 C1                  A  9697    	POP	BC
                           A  9698    ; 1213	        break;
                           A  9699    .LINE 1213
                           A  9700    
0434BA 18 5C               A  9701    	JR	L_619
                           A  9702    ; 1214	    case(ASM_DW24):
0434BC                     A  9703    L_610:
                           A  9704    .LINE 1214
                           A  9705    
                           A  9706    ; 1215	        handle_asm_dw(true);
                           A  9707    .LINE 1215
                           A  9708    
0434BC 01010000            A  9709    	LD	BC,1
0434C0 C5                  A  9710    	PUSH	BC
0434C1 CD 6B 2C 04         A  9711    	CALL	_handle_asm_dw
0434C5 C1                  A  9712    	POP	BC
                           A  9713    ; 1216	        break;
                           A  9714    .LINE 1216
                           A  9715    
0434C6 18 50               A  9716    	JR	L_619
                           A  9717    ; 1217	    case(ASM_ASCIZ):
0434C8                     A  9718    L_611:
                           A  9719    .LINE 1217
                           A  9720    
                           A  9721    ; 1218	        handle_asm_db();
                           A  9722    .LINE 1218
                           A  9723    
0434C8 CD 46 2B 04         A  9724    	CALL	_handle_asm_db
                           A  9725    ; 1219	        emit_8bit(0);
                           A  9726    .LINE 1219
                           A  9727    
0434CC 01000000            A  9728    	LD	BC,0
0434D0 C5                  A  9729    	PUSH	BC
0434D1 CD 2E 27 04         A  9730    	CALL	_emit_8bit
0434D5 C1                  A  9731    	POP	BC
                           A  9732    ; 1220	        break;
                           A  9733    .LINE 1220
                           A  9734    
0434D6 18 40               A  9735    	JR	L_619
                           A  9736    ; 1221	    case(ASM_EQU):
0434D8                     A  9737    L_612:
                           A  9738    .LINE 1221
                           A  9739    
                           A  9740    ; 1222	        handle_asm_equ();
                           A  9741    .LINE 1222
                           A  9742    
0434D8 CD C5 2D 04         A  9743    	CALL	_handle_asm_equ
                           A  9744    ; 1223	        break;
                           A  9745    .LINE 1223
                           A  9746    
0434DC 18 3A               A  9747    	JR	L_619
                           A  9748    ; 1224	    case(ASM_INCLUDE):
0434DE                     A  9749    L_613:
                           A  9750    .LINE 1224
                           A  9751    
                           A  9752    ; 1225	        handle_asm_include();
                           A  9753    .LINE 1225
                           A  9754    
0434DE CD B4 2F 04         A  9755    	CALL	_handle_asm_include
                           A  9756    ; 1226	        break;
                           A  9757    .LINE 1226
                           A  9758    
0434E2 18 34               A  9759    	JR	L_619
                           A  9760    ; 1227	    case(ASM_BLKB):
0434E4                     A  9761    L_614:
                           A  9762    .LINE 1227
                           A  9763    
                           A  9764    ; 1228	        handle_asm_blk(1);
                           A  9765    .LINE 1228
                           A  9766    
0434E4 01010000            A  9767    	LD	BC,1
0434E8 C5                  A  9768    	PUSH	BC
0434E9 CD EA 30 04         A  9769    	CALL	_handle_asm_blk
0434ED C1                  A  9770    	POP	BC
                           A  9771    ; 1229	        break;
                           A  9772    .LINE 1229
                           A  9773    
0434EE 18 28               A  9774    	JR	L_619
                           A  9775    ; 1230	    case(ASM_BLKW):
0434F0                     A  9776    L_615:
                           A  9777    .LINE 1230
                           A  9778    
                           A  9779    ; 1231	        handle_asm_blk(2);
                           A  9780    .LINE 1231
                           A  9781    
0434F0 01020000            A  9782    	LD	BC,2
0434F4 C5                  A  9783    	PUSH	BC
0434F5 CD EA 30 04         A  9784    	CALL	_handle_asm_blk
0434F9 C1                  A  9785    	POP	BC
                           A  9786    ; 1232	        break;
                           A  9787    .LINE 1232
                           A  9788    
0434FA 18 1C               A  9789    	JR	L_619
                           A  9790    ; 1233	    case(ASM_BLKP):
0434FC                     A  9791    L_616:
                           A  9792    .LINE 1233
                           A  9793    
                           A  9794    ; 1234	        handle_asm_blk(3);
                           A  9795    .LINE 1234
                           A  9796    
0434FC 01030000            A  9797    	LD	BC,3
043500 C5                  A  9798    	PUSH	BC
043501 CD EA 30 04         A  9799    	CALL	_handle_asm_blk
043505 C1                  A  9800    	POP	BC
                           A  9801    ; 1235	        break;
                           A  9802    .LINE 1235
                           A  9803    
043506 18 10               A  9804    	JR	L_619
                           A  9805    ; 1236	    case(ASM_BLKL):
043508                     A  9806    L_617:
                           A  9807    .LINE 1236
                           A  9808    
                           A  9809    ; 1237	        handle_asm_blk(4);
                           A  9810    .LINE 1237
                           A  9811    
043508 01040000            A  9812    	LD	BC,4
04350C C5                  A  9813    	PUSH	BC
04350D CD EA 30 04         A  9814    	CALL	_handle_asm_blk
043511 C1                  A  9815    	POP	BC
                           A  9816    ; 1238	        break;
                           A  9817    .LINE 1238
                           A  9818    
043512 18 04               A  9819    	JR	L_619
                           A  9820    ; 1239	    case(ASM_ALIGN):
043514                     A  9821    L_618:
                           A  9822    .LINE 1239
                           A  9823    
                           A  9824    ; 1240	        handle_asm_align();
                           A  9825    .LINE 1240
                           A  9826    
043514 CD BB 32 04         A  9827    	CALL	_handle_asm_align
                           A  9828    ; 1241	        break;
                           A  9829    ; 1242	    }
043518                     A  9830    L_619:
                           A  9831    .LINE 1242
                           A  9832    
                           A  9833    ; 1243	    return;
                           A  9834    ; 1244	}
                           A  9835    .LINE 1244
                           A  9836    
043518 DDF9                A  9837    	LD	SP,IX
04351A DDE1                A  9838    	POP	IX
04351C C9                  A  9839    	RET	
                           A  9840    
                           A  9841    
                           A  9842    ;**************************** _handle_assembler
                           A  9843    ;Name                         Addr/Register   S
                           A  9844    ;_emit_8bit                          IMPORT  --
                           A  9845    ;_currentline                        IMPORT    
                           A  9846    
                           A  9847    
                           A  9848    ; Stack Frame Size: 6 (bytes)
                           A  9849    ;       Spill Code: -1 (instruction)
                           A  9850    
                           A  9851    
                           A  9852    .ENDFUNC "handle_assembler_command",1244,"_hand
                           A  9853    ; 1245	
                           A  9854    ; 1246	void processInstructions(void){
04351D                     A  9855    _processInstructions:
                           A  9856    .DEFINE "_processInstructions"
                           A  9857    
                           A  9858    .VALUE _processInstructions
                           A  9859    
                           A  9860    .CLASS 2
                           A  9861    
                           A  9862    .TYPE 65
                           A  9863    
                           A  9864    .ENDEF
                           A  9865    
                           A  9866    .BEGFUNC "processInstructions",1246,"_processIn
                           A  9867    
                           A  9868    .LINE 1246
                           A  9869    
                           A  9870    .DEFINE "list"
                           A  9871    
                           A  9872    .CLASS 65
                           A  9873    
                           A  9874    .VALUE -3
                           A  9875    
                           A  9876    .TAG "NONAME5"
                           A  9877    
                           A  9878    .TYPE 40
                           A  9879    
                           A  9880    .ENDEF
                           A  9881    
                           A  9882    .DEFINE "listitem"
                           A  9883    
                           A  9884    .CLASS 65
                           A  9885    
                           A  9886    .VALUE -4
                           A  9887    
                           A  9888    .TYPE 12
                           A  9889    
                           A  9890    .ENDEF
                           A  9891    
                           A  9892    .DEFINE "match"
                           A  9893    
                           A  9894    .CLASS 65
                           A  9895    
                           A  9896    .VALUE -5
                           A  9897    
                           A  9898    .TYPE 12
                           A  9899    
                           A  9900    .ENDEF
                           A  9901    
04351D DDE5                A  9902    	PUSH	IX
04351F DD210000 00         A  9903    	LD	IX,0
043524 DD39                A  9904    	ADD	IX,SP
043526 C5                  A  9905    	PUSH	BC
043527 3B                  A  9906    	DEC	SP
043528 3B                  A  9907    	DEC	SP
                           A  9908    ; 1247	    operandlist *list;
                           A  9909    ; 1248	    uint8_t listitem;
                           A  9910    ; 1249	    bool match;
                           A  9911    ; 1250	
                           A  9912    ; 1251	    // return on empty lines
                           A  9913    ; 1252	    if(isEmpty(currentline.mnemonic)) {
                           A  9914    .LINE 1252
                           A  9915    
043529 01 4B 97 04         A  9916    	LD	BC,_currentline+38
04352D C5                  A  9917    	PUSH	BC
04352E CD 6D 58 04         A  9918    	CALL	_isEmpty
043532 C1                  A  9919    	POP	BC
043533 B7                  A  9920    	OR	A,A
043534 28 27               A  9921    	JR	Z,L_638
                           A  9922    ; 1253	        // check if there is a single l
                           A  9923    ; 1254	        if(pass == 1) definelabel(addre
                           A  9924    .LINE 1254
                           A  9925    
043536 01010000            A  9926    	LD	BC,1
04353A 2A 17 97 04         A  9927    	LD	HL,(_pass)
04353E B7                  A  9928    	OR	A,A
04353F ED42                A  9929    	SBC	HL,BC
043541 C2 13 36 04         A  9930    	JR	NZ,L_640
043545 3A 1D 97 04         A  9931    	LD	A,(_address+3)
043549 4F                  A  9932    	LD	C,A
04354A 0600                A  9933    	LD	B,%0
04354C C5                  A  9934    	PUSH	BC
04354D ED4B 1A 97 04       A  9935    	LD	BC,(_address)
043552 C5                  A  9936    	PUSH	BC
043553 CD 09 1C 04         A  9937    	CALL	_definelabel
043557 C1                  A  9938    	POP	BC
043558 C1                  A  9939    	POP	BC
                           A  9940    ; 1255	        return; // valid line, but empt
                           A  9941    .LINE 1255
                           A  9942    
043559 C3 13 36 04         A  9943    	JR	L_640
                           A  9944    ; 1256	    }
04355D                     A  9945    L_638:
                           A  9946    .LINE 1256
                           A  9947    
                           A  9948    ; 1257	
                           A  9949    ; 1258	    if(currentline.current_instruction)
                           A  9950    .LINE 1258
                           A  9951    
04355D 2A 25 97 04         A  9952    	LD	HL,(_currentline)
043561 CD E3 6A 04         A  9953    	CALL	__icmpzero
043565 CA 13 36 04         A  9954    	JR	Z,L_639
                           A  9955    ; 1259	        if(currentline.current_instruct
                           A  9956    .LINE 1259
                           A  9957    
043569 FD2A 25 97 04       A  9958    	LD	IY,(_currentline)
04356E FD7E08              A  9959    	LD	A,(IY+%8)
043571 B7                  A  9960    	OR	A,A
043572 C2 0F 36 04         A  9961    	JR	NZ,L_636
                           A  9962    ; 1260	            // process this mnemonic by
                           A  9963    ; 1261	            list = currentline.current_
                           A  9964    .LINE 1261
                           A  9965    
043576 FD2A 25 97 04       A  9966    	LD	IY,(_currentline)
04357B FD070B              A  9967    	LD	BC,(IY+%B)
04357E DD0FFD              A  9968    	LD	(IX+%FFFFFFFD),BC
                           A  9969    ; 1262	            match = false;
                           A  9970    .LINE 1262
                           A  9971    
043581 DD36FB00            A  9972    	LD	(IX+%FFFFFFFB),%0
                           A  9973    ; 1263	            for(listitem = 0; listitem 
                           A  9974    .LINE 1263
                           A  9975    
043585 DD36FC00            A  9976    	LD	(IX+%FFFFFFFC),%0
043589 18 63               A  9977    	JR	L_631
04358B                     A  9978    L_629:
                           A  9979    ; 1264	                if(permittype_matchlist
                           A  9980    .LINE 1264
                           A  9981    
04358B DD31FD              A  9982    	LD	IY,(IX+%FFFFFFFD)
04358E FD2700              A  9983    	LD	HL,(IY+%0)
043591 E5C1                A  9984    	LD	BC,HL
043593 29                  A  9985    	ADD	HL,HL
043594 29                  A  9986    	ADD	HL,HL
043595 09                  A  9987    	ADD	HL,BC
043596 09                  A  9988    	ADD	HL,BC
043597 01 01 72 04         A  9989    	LD	BC,_permittype_matchlist
04359B 09                  A  9990    	ADD	HL,BC
04359C E5FDE1              A  9991    	LD	IY,HL
04359F FD3703              A  9992    	LD	IY,(IY+%3)
0435A2 01 2D 98 04         A  9993    	LD	BC,_operand1
0435A6 C5                  A  9994    	PUSH	BC
0435A7 CD 6D 6E 04         A  9995    	CALL	__indcall
0435AB C1                  A  9996    	POP	BC
0435AC B7                  A  9997    	OR	A,A
0435AD 28 33               A  9998    	JR	Z,L_628
0435AF DD31FD              A  9999    	LD	IY,(IX+%FFFFFFFD)
0435B2 FD2703              A 10000    	LD	HL,(IY+%3)
0435B5 E5C1                A 10001    	LD	BC,HL
0435B7 29                  A 10002    	ADD	HL,HL
0435B8 29                  A 10003    	ADD	HL,HL
0435B9 09                  A 10004    	ADD	HL,BC
0435BA 09                  A 10005    	ADD	HL,BC
0435BB 01 01 72 04         A 10006    	LD	BC,_permittype_matchlist
0435BF 09                  A 10007    	ADD	HL,BC
0435C0 E5FDE1              A 10008    	LD	IY,HL
0435C3 FD3703              A 10009    	LD	IY,(IY+%3)
0435C6 01 3D 98 04         A 10010    	LD	BC,_operand2
0435CA C5                  A 10011    	PUSH	BC
0435CB CD 6D 6E 04         A 10012    	CALL	__indcall
0435CF C1                  A 10013    	POP	BC
0435D0 B7                  A 10014    	OR	A,A
0435D1 28 0F               A 10015    	JR	Z,L_628
                           A 10016    ; 1265	                    match = true;
                           A 10017    .LINE 1265
                           A 10018    
0435D3 DD36FB01            A 10019    	LD	(IX+%FFFFFFFB),%1
                           A 10020    ; 1266	                    emit_instruction(li
                           A 10021    .LINE 1266
                           A 10022    
0435D7 DD07FD              A 10023    	LD	BC,(IX+%FFFFFFFD)
0435DA C5                  A 10024    	PUSH	BC
0435DB CD 44 23 04         A 10025    	CALL	_emit_instruction
0435DF C1                  A 10026    	POP	BC
                           A 10027    ; 1267	                    break;
                           A 10028    .LINE 1267
                           A 10029    
0435E0 18 19               A 10030    	JR	L_633
                           A 10031    ; 1268	                }
0435E2                     A 10032    L_628:
                           A 10033    .LINE 1268
                           A 10034    
                           A 10035    ; 1269	                list++;
                           A 10036    .LINE 1269
                           A 10037    
0435E2 DD31FD              A 10038    	LD	IY,(IX+%FFFFFFFD)
0435E5 ED3310              A 10039    	LEA	IY,IY+%10
0435E8 DD3EFD              A 10040    	LD	(IX+%FFFFFFFD),IY
0435EB DD34FC              A 10041    	INC	(IX+%FFFFFFFC)
                           A 10042    ; 1270	            }
0435EE                     A 10043    L_631:
                           A 10044    .LINE 1270
                           A 10045    
0435EE FD2A 25 97 04       A 10046    	LD	IY,(_currentline)
0435F3 DD7EFC              A 10047    	LD	A,(IX+%FFFFFFFC)
0435F6 FDBE0A              A 10048    	CP	A,(IY+%A)
0435F9 38 90               A 10049    	JR	C,L_629
0435FB                     A 10050    L_633:
                           A 10051    ; 1271	            if(!match) error(message[ER
                           A 10052    .LINE 1271
                           A 10053    
0435FB DD7EFB              A 10054    	LD	A,(IX+%FFFFFFFB)
0435FE B7                  A 10055    	OR	A,A
0435FF 20 12               A 10056    	JR	NZ,L_640
043601 21 9E 71 04         A 10057    	LD	HL,_message+24
043605 ED07                A 10058    	LD	BC,(HL)
043607 C5                  A 10059    	PUSH	BC
043608 CD A1 58 04         A 10060    	CALL	_error
04360C C1                  A 10061    	POP	BC
                           A 10062    ; 1272	            return;
                           A 10063    .LINE 1272
                           A 10064    
04360D 18 04               A 10065    	JR	L_640
                           A 10066    ; 1273	        }
                           A 10067    ; 1274	        else handle_assembler_command()
04360F                     A 10068    L_636:
                           A 10069    .LINE 1274
                           A 10070    
04360F CD 44 34 04         A 10071    	CALL	_handle_assembler_command
                           A 10072    ; 1275	    }
043613                     A 10073    L_639:
                           A 10074    .LINE 1275
                           A 10075    
                           A 10076    ; 1276	    return;
                           A 10077    ; 1277	}
043613                     A 10078    L_640:
                           A 10079    .LINE 1277
                           A 10080    
043613 DDF9                A 10081    	LD	SP,IX
043615 DDE1                A 10082    	POP	IX
043617 C9                  A 10083    	RET	
                           A 10084    
                           A 10085    
                           A 10086    ;**************************** _processInstructi
                           A 10087    ;Name                         Addr/Register   S
                           A 10088    ;_message                            IMPORT  un
                           A 10089    ;_error                              IMPORT  --
                           A 10090    ;_operand2                           IMPORT    
                           A 10091    ;_operand1                           IMPORT    
                           A 10092    ;_permittype_matchlist               IMPORT  un
                           A 10093    ;_address                            IMPORT    
                           A 10094    ;_pass                               IMPORT    
                           A 10095    ;_currentline                        IMPORT    
                           A 10096    ;_isEmpty                            IMPORT  --
                           A 10097    ;match                                 IX-5    
                           A 10098    ;listitem                              IX-4    
                           A 10099    ;list                                  IX-3    
                           A 10100    
                           A 10101    
                           A 10102    ; Stack Frame Size: 11 (bytes)
                           A 10103    ;       Spill Code: -1 (instruction)
                           A 10104    
                           A 10105    
                           A 10106    .ENDFUNC "processInstructions",1277,"_processIn
                           A 10107    ; 1278	
                           A 10108    ; 1279	void passInitialize(uint8_t passnumber)
043618                     A 10109    _passInitialize:
                           A 10110    .DEFINE "_passInitialize"
                           A 10111    
                           A 10112    .VALUE _passInitialize
                           A 10113    
                           A 10114    .CLASS 2
                           A 10115    
                           A 10116    .TYPE 65
                           A 10117    
                           A 10118    .ENDEF
                           A 10119    
                           A 10120    .BEGFUNC "passInitialize",1279,"_passInitialize
                           A 10121    
                           A 10122    .LINE 1279
                           A 10123    
                           A 10124    .DEFINE "passnumber"
                           A 10125    
                           A 10126    .CLASS 65
                           A 10127    
                           A 10128    .VALUE 6
                           A 10129    
                           A 10130    .TYPE 12
                           A 10131    
                           A 10132    .ENDEF
                           A 10133    
043618 DDE5                A 10134    	PUSH	IX
04361A DD210000 00         A 10135    	LD	IX,0
04361F DD39                A 10136    	ADD	IX,SP
                           A 10137    ; 1280	    pass = passnumber;
                           A 10138    .LINE 1280
                           A 10139    
043621 DD7E06              A 10140    	LD	A,(IX+%6)
043624 B7ED62              A 10141    	UEXT	HL
043627 6F                  A 10142    	LD	L,A
043628 22 17 97 04         A 10143    	LD	(_pass),HL
                           A 10144    ; 1281	    adlmode = true;
                           A 10145    .LINE 1281
                           A 10146    
04362C 3E01                A 10147    	LD	A,%1
04362E 32 24 97 04         A 10148    	LD	(_adlmode),A
                           A 10149    ; 1282	    linenumber = 0;
                           A 10150    .LINE 1282
                           A 10151    
043632 01000000            A 10152    	LD	BC,0
043636 ED43 14 97 04       A 10153    	LD	(_linenumber),BC
                           A 10154    ; 1283	    address = START_ADDRESS;
                           A 10155    .LINE 1283
                           A 10156    
04363B AF                  A 10157    	XOR	A,A
04363C ED43 1A 97 04       A 10158    	LD	(_address),BC
043641 32 1D 97 04         A 10159    	LD	(_address+3),A
                           A 10160    ; 1284	    totalsize = 0;
                           A 10161    .LINE 1284
                           A 10162    
043645 AF                  A 10163    	XOR	A,A
043646 ED43 1E 97 04       A 10164    	LD	(_totalsize),BC
04364B 32 21 97 04         A 10165    	LD	(_totalsize+3),A
                           A 10166    ; 1285	    
                           A 10167    ; 1286	    // init the file stack and push the
                           A 10168    ; 1287	    filestackInit();
                           A 10169    .LINE 1287
                           A 10170    
04364F CD 08 39 04         A 10171    	CALL	_filestackInit
                           A 10172    ; 1288	}
                           A 10173    .LINE 1288
                           A 10174    
043653 DDF9                A 10175    	LD	SP,IX
043655 DDE1                A 10176    	POP	IX
043657 C9                  A 10177    	RET	
                           A 10178    
                           A 10179    
                           A 10180    ;**************************** _passInitialize *
                           A 10181    ;Name                         Addr/Register   S
                           A 10182    ;_filestackInit                      IMPORT  --
                           A 10183    ;_totalsize                          IMPORT    
                           A 10184    ;_address                            IMPORT    
                           A 10185    ;_linenumber                         IMPORT    
                           A 10186    ;_adlmode                            IMPORT    
                           A 10187    ;_pass                               IMPORT    
                           A 10188    ;passnumber                            IX+6    
                           A 10189    
                           A 10190    
                           A 10191    ; Stack Frame Size: 9 (bytes)
                           A 10192    ;       Spill Code: -1 (instruction)
                           A 10193    
                           A 10194    
                           A 10195    .ENDFUNC "passInitialize",1288,"_passInitialize
                           A 10196    ; 1289	
                           A 10197    ; 1290	// Assembler directives may demand a la
                           A 10198    ; 1291	void processDelayedLineNumberReset(void
043658                     A 10199    _processDelayedLineNumberReset:
                           A 10200    .DEFINE "_processDelayedLineNumberReset"
                           A 10201    
                           A 10202    .VALUE _processDelayedLineNumberReset
                           A 10203    
                           A 10204    .CLASS 2
                           A 10205    
                           A 10206    .TYPE 65
                           A 10207    
                           A 10208    .ENDEF
                           A 10209    
                           A 10210    .BEGFUNC "processDelayedLineNumberReset",1291,"
                           A 10211    
043658 DDE5                A 10212    	PUSH	IX
04365A DD210000 00         A 10213    	LD	IX,0
04365F DD39                A 10214    	ADD	IX,SP
                           A 10215    ; 1292	    if(lineNumberNeedsReset) {
                           A 10216    .LINE 1292
                           A 10217    
043661 3A 13 97 04         A 10218    	LD	A,(_lineNumberNeedsReset)
043665 B7                  A 10219    	OR	A,A
043666 28 0E               A 10220    	JR	Z,L_643
                           A 10221    ; 1293	        lineNumberNeedsReset = false;
                           A 10222    .LINE 1293
                           A 10223    
043668 AF                  A 10224    	XOR	A,A
043669 32 13 97 04         A 10225    	LD	(_lineNumberNeedsReset),A
                           A 10226    ; 1294	        linenumber = 0;
                           A 10227    .LINE 1294
                           A 10228    
04366D 01000000            A 10229    	LD	BC,0
043671 ED43 14 97 04       A 10230    	LD	(_linenumber),BC
                           A 10231    ; 1295	    }
                           A 10232    ; 1296	}
043676                     A 10233    L_643:
                           A 10234    .LINE 1296
                           A 10235    
043676 DDF9                A 10236    	LD	SP,IX
043678 DDE1                A 10237    	POP	IX
04367A C9                  A 10238    	RET	
                           A 10239    
                           A 10240    
                           A 10241    ;**************************** _processDelayedLi
                           A 10242    ;Name                         Addr/Register   S
                           A 10243    ;_linenumber                         IMPORT    
                           A 10244    ;_lineNumberNeedsReset               IMPORT    
                           A 10245    
                           A 10246    
                           A 10247    ; Stack Frame Size: 6 (bytes)
                           A 10248    ;       Spill Code: -1 (instruction)
                           A 10249    
                           A 10250    
                           A 10251    .ENDFUNC "processDelayedLineNumberReset",1296,"
                           A 10252    ; 1297	
                           A 10253    ; 1298	bool assemble(void){
04367B                     A 10254    _assemble:
                           A 10255    .DEFINE "_assemble"
                           A 10256    
                           A 10257    .VALUE _assemble
                           A 10258    
                           A 10259    .CLASS 2
                           A 10260    
                           A 10261    .TYPE 76
                           A 10262    
                           A 10263    .ENDEF
                           A 10264    
                           A 10265    .BEGFUNC "assemble",1298,"_assemble"
                           A 10266    
                           A 10267    .LINE 1298
                           A 10268    
                           A 10269    .DEFINE "incfiles"
                           A 10270    
                           A 10271    .CLASS 65
                           A 10272    
                           A 10273    .VALUE -1
                           A 10274    
                           A 10275    .TYPE 12
                           A 10276    
                           A 10277    .ENDEF
                           A 10278    
                           A 10279    .DEFINE "fsitem"
                           A 10280    
                           A 10281    .CLASS 65
                           A 10282    
                           A 10283    .VALUE -132
                           A 10284    
                           A 10285    .TAG "NONAME12"
                           A 10286    
                           A 10287    .TYPE 8
                           A 10288    
                           A 10289    .ENDEF
                           A 10290    
                           A 10291    .DEFINE "line"
                           A 10292    
                           A 10293    .CLASS 65
                           A 10294    
                           A 10295    .VALUE -260
                           A 10296    
                           A 10297    .DIM 128
                           A 10298    
                           A 10299    .TYPE 98
                           A 10300    
                           A 10301    .ENDEF
                           A 10302    
04367B DDE5                A 10303    	PUSH	IX
04367D DD210000 00         A 10304    	LD	IX,0
043682 DD39                A 10305    	ADD	IX,SP
043684 21FCFEFF            A 10306    	LD	HL,-260
043688 39                  A 10307    	ADD	HL,SP
043689 F9                  A 10308    	LD	SP,HL
                           A 10309    ; 1299	    char line[LINEMAX];
                           A 10310    ; 1300	    filestackitem fsitem;
                           A 10311    ; 1301	    bool incfiles;
                           A 10312    ; 1302	
                           A 10313    ; 1303	    global_errors = 0;
                           A 10314    .LINE 1303
                           A 10315    
04368A 21 22 97 04         A 10316    	LD	HL,_global_errors
04368E 3600                A 10317    	LD	(HL),%0
043690 23                  A 10318    	INC	HL
043691 3600                A 10319    	LD	(HL),%0
                           A 10320    ; 1304	
                           A 10321    ; 1305	    filehandle[FILE_CURRENT] = filehand
                           A 10322    .LINE 1305
                           A 10323    
043693 21 0B 97 04         A 10324    	LD	HL,_filehandle
043697 23                  A 10325    	INC	HL
043698 7E                  A 10326    	LD	A,(HL)
043699 32 0B 97 04         A 10327    	LD	(_filehandle),A
                           A 10328    ; 1306	    strcpy(filename[FILE_CURRENT], file
                           A 10329    .LINE 1306
                           A 10330    
04369D 01800000            A 10331    	LD	BC,128
0436A1 21 0B 94 04         A 10332    	LD	HL,_filename
0436A5 09                  A 10333    	ADD	HL,BC
0436A6 E5                  A 10334    	PUSH	HL
0436A7 01 0B 94 04         A 10335    	LD	BC,_filename
0436AB C5                  A 10336    	PUSH	BC
0436AC CD 6F 6E 04         A 10337    	CALL	_strcpy
0436B0 C1                  A 10338    	POP	BC
0436B1 C1                  A 10339    	POP	BC
                           A 10340    ; 1307	
                           A 10341    ; 1308	    // Assemble in two passes
                           A 10342    ; 1309	    // Pass 1
                           A 10343    ; 1310	    printf("Pass 1...\n\r");
                           A 10344    .LINE 1310
                           A 10345    
0436B2 01 9C 66 04         A 10346    	LD	BC,___print_uputch
0436B6 ED43 34 8C 04       A 10347    	LD	(___print_xputch),BC
0436BB 01 FC 8C 04         A 10348    	LD	BC,L__287
0436BF C5                  A 10349    	PUSH	BC
0436C0 CD 0E 65 04         A 10350    	CALL	___print_sendstring
0436C4 C1                  A 10351    	POP	BC
                           A 10352    ; 1311	    passInitialize(1);
                           A 10353    .LINE 1311
                           A 10354    
0436C5 01010000            A 10355    	LD	BC,1
0436C9 C5                  A 10356    	PUSH	BC
0436CA CD 18 36 04         A 10357    	CALL	_passInitialize
0436CE C1                  A 10358    	POP	BC
                           A 10359    ; 1312	    do {
                           A 10360    ; 1313	        while (agon_fgets(line, sizeof(
                           A 10361    .LINE 1313
                           A 10362    
0436CF 18 23               A 10363    	JR	L_645
0436D1                     A 10364    L_646:
                           A 10365    ; 1314	            linenumber++;
                           A 10366    .LINE 1314
                           A 10367    
0436D1 ED4B 14 97 04       A 10368    	LD	BC,(_linenumber)
0436D6 03                  A 10369    	INC	BC
0436D7 ED43 14 97 04       A 10370    	LD	(_linenumber),BC
                           A 10371    ; 1315	            parseLine(line);
                           A 10372    .LINE 1315
                           A 10373    
0436DC DDE5E1              A 10374    	LD	HL,IX
0436DF 01FCFEFF            A 10375    	LD	BC,-260
0436E3 09                  A 10376    	ADD	HL,BC
0436E4 E5C1                A 10377    	LD	BC,HL
0436E6 C5                  A 10378    	PUSH	BC
0436E7 CD 0A 18 04         A 10379    	CALL	_parseLine
0436EB C1                  A 10380    	POP	BC
                           A 10381    ; 1316	            processInstructions();
                           A 10382    .LINE 1316
                           A 10383    
0436EC CD 1D 35 04         A 10384    	CALL	_processInstructions
                           A 10385    ; 1317	            processDelayedLineNumberRes
                           A 10386    .LINE 1317
                           A 10387    
0436F0 CD 58 36 04         A 10388    	CALL	_processDelayedLineNumberReset
                           A 10389    ; 1318	
                           A 10390    ; 1319	            //printLocalLabelTable();
                           A 10391    ; 1320	
                           A 10392    ; 1321	        }
0436F4                     A 10393    L_645:
                           A 10394    .LINE 1321
                           A 10395    
0436F4 01000000            A 10396    	LD	BC,0
0436F8 C5                  A 10397    	PUSH	BC
0436F9 01800000            A 10398    	LD	BC,128
0436FD C5                  A 10399    	PUSH	BC
0436FE DDE5E1              A 10400    	LD	HL,IX
043701 01FCFEFF            A 10401    	LD	BC,-260
043705 09                  A 10402    	ADD	HL,BC
043706 E5C1                A 10403    	LD	BC,HL
043708 C5                  A 10404    	PUSH	BC
043709 CD 39 61 04         A 10405    	CALL	_agon_fgets
04370D C1                  A 10406    	POP	BC
04370E C1                  A 10407    	POP	BC
04370F C1                  A 10408    	POP	BC
043710 CD E3 6A 04         A 10409    	CALL	__icmpzero
043714 20 BB               A 10410    	JR	NZ,L_646
                           A 10411    ; 1322	        if(filestackCount()) {
                           A 10412    .LINE 1322
                           A 10413    
043716 CD 1B 39 04         A 10414    	CALL	_filestackCount
04371A B7                  A 10415    	OR	A,A
04371B 28 4D               A 10416    	JR	Z,L_648
                           A 10417    ; 1323	            mos_fclose(filehandle[FILE_
                           A 10418    .LINE 1323
                           A 10419    
04371D 3A 0B 97 04         A 10420    	LD	A,(_filehandle)
043721 4F                  A 10421    	LD	C,A
043722 0600                A 10422    	LD	B,%0
043724 C5                  A 10423    	PUSH	BC
043725 CD 66 0D 04         A 10424    	CALL	_mos_fclose
043729 C1                  A 10425    	POP	BC
                           A 10426    ; 1324	            incfiles = filestackPop(&fs
                           A 10427    .LINE 1324
                           A 10428    
04372A DDE5E1              A 10429    	LD	HL,IX
04372D 017CFFFF            A 10430    	LD	BC,-132
043731 09                  A 10431    	ADD	HL,BC
043732 E5C1                A 10432    	LD	BC,HL
043734 C5                  A 10433    	PUSH	BC
043735 CD B4 39 04         A 10434    	CALL	_filestackPop
043739 C1                  A 10435    	POP	BC
04373A DD77FF              A 10436    	LD	(IX+%FFFFFFFF),A
                           A 10437    ; 1325	            linenumber = fsitem.linenum
                           A 10438    .LINE 1325
                           A 10439    
04373D ED5580              A 10440    	LEA	IY,IX+%FFFFFF80
043740 FD07FC              A 10441    	LD	BC,(IY+%FFFFFFFC)
043743 CD 96 66 04         A 10442    	CALL	__stoiu
043747 22 14 97 04         A 10443    	LD	(_linenumber),HL
                           A 10444    ; 1326	            filehandle[FILE_CURRENT] = 
                           A 10445    .LINE 1326
                           A 10446    
04374B FD7EFE              A 10447    	LD	A,(IY+%FFFFFFFE)
04374E 32 0B 97 04         A 10448    	LD	(_filehandle),A
                           A 10449    ; 1327	            strcpy(filename[FILE_CURREN
                           A 10450    .LINE 1327
                           A 10451    
043752 DDE5E1              A 10452    	LD	HL,IX
043755 017FFFFF            A 10453    	LD	BC,-129
043759 09                  A 10454    	ADD	HL,BC
04375A E5C1                A 10455    	LD	BC,HL
04375C C5                  A 10456    	PUSH	BC
04375D 01 0B 94 04         A 10457    	LD	BC,_filename
043761 C5                  A 10458    	PUSH	BC
043762 CD 6F 6E 04         A 10459    	CALL	_strcpy
043766 C1                  A 10460    	POP	BC
043767 C1                  A 10461    	POP	BC
                           A 10462    ; 1328	        }
                           A 10463    ; 1329	        else incfiles = false;
                           A 10464    .LINE 1329
                           A 10465    
043768 18 04               A 10466    	JR	L_651
04376A                     A 10467    L_648:
04376A DD36FF00            A 10468    	LD	(IX+%FFFFFFFF),%0
                           A 10469    ; 1330	    }
                           A 10470    ; 1331	    while(incfiles);
04376E                     A 10471    L_651:
                           A 10472    .LINE 1331
                           A 10473    
04376E DD7EFF              A 10474    	LD	A,(IX+%FFFFFFFF)
043771 B7                  A 10475    	OR	A,A
043772 20 80               A 10476    	JR	NZ,L_645
                           A 10477    ; 1332	    writeLocalLabels();
                           A 10478    .LINE 1332
                           A 10479    
043774 CD DD 46 04         A 10480    	CALL	_writeLocalLabels
                           A 10481    ; 1333	    if(global_errors) return false;
                           A 10482    .LINE 1333
                           A 10483    
043778 2A 22 97 04         A 10484    	LD	HL,(_global_errors)
04377C CD 89 6E 04         A 10485    	CALL	__scmpzero
043780 28 05               A 10486    	JR	Z,L_654
043782 AF                  A 10487    	XOR	A,A
043783 C3 03 39 04         A 10488    	JR	L_664
043787                     A 10489    L_654:
                           A 10490    ; 1334	
                           A 10491    ; 1335	    printf("%d lines\n\r", linenumber);
                           A 10492    .LINE 1335
                           A 10493    
043787 01 9C 66 04         A 10494    	LD	BC,___print_uputch
04378B ED43 34 8C 04       A 10495    	LD	(___print_xputch),BC
043790 ED4B 14 97 04       A 10496    	LD	BC,(_linenumber)
043795 AF                  A 10497    	XOR	A,A
043796 C5D1                A 10498    	LD	DE,BC
043798 4F                  A 10499    	LD	C,A
043799 0600                A 10500    	LD	B,%0
04379B C5                  A 10501    	PUSH	BC
04379C D5                  A 10502    	PUSH	DE
04379D CD 76 67 04         A 10503    	CALL	__u_itoa
0437A1 C1                  A 10504    	POP	BC
0437A2 C1                  A 10505    	POP	BC
0437A3 01 08 8D 04         A 10506    	LD	BC,L__292
0437A7 C5                  A 10507    	PUSH	BC
0437A8 CD 0E 65 04         A 10508    	CALL	___print_sendstring
0437AC C1                  A 10509    	POP	BC
                           A 10510    ; 1336	    printf("%d labels\n\r", getGlobalLa
                           A 10511    .LINE 1336
                           A 10512    
0437AD 01 9C 66 04         A 10513    	LD	BC,___print_uputch
0437B1 ED43 34 8C 04       A 10514    	LD	(___print_xputch),BC
0437B6 CD EF 44 04         A 10515    	CALL	_getGlobalLabelCount
0437BA E5C1                A 10516    	LD	BC,HL
0437BC CD 96 66 04         A 10517    	CALL	__stoiu
0437C0 E5C1                A 10518    	LD	BC,HL
0437C2 CD 16 6E 04         A 10519    	CALL	__itol
0437C6 C5D1                A 10520    	LD	DE,BC
0437C8 4F                  A 10521    	LD	C,A
0437C9 0600                A 10522    	LD	B,%0
0437CB C5                  A 10523    	PUSH	BC
0437CC D5                  A 10524    	PUSH	DE
0437CD CD 76 67 04         A 10525    	CALL	__u_itoa
0437D1 C1                  A 10526    	POP	BC
0437D2 C1                  A 10527    	POP	BC
0437D3 01 11 8D 04         A 10528    	LD	BC,L__293
0437D7 C5                  A 10529    	PUSH	BC
0437D8 CD 0E 65 04         A 10530    	CALL	___print_sendstring
0437DC C1                  A 10531    	POP	BC
                           A 10532    ; 1337	
                           A 10533    ; 1338	    // Pass 2
                           A 10534    ; 1339	    printf("Pass 2...\n\r");
                           A 10535    .LINE 1339
                           A 10536    
0437DD 01 9C 66 04         A 10537    	LD	BC,___print_uputch
0437E1 ED43 34 8C 04       A 10538    	LD	(___print_xputch),BC
0437E6 01 1B 8D 04         A 10539    	LD	BC,L__294
0437EA C5                  A 10540    	PUSH	BC
0437EB CD 0E 65 04         A 10541    	CALL	___print_sendstring
0437EF C1                  A 10542    	POP	BC
                           A 10543    ; 1340	    //rewind(filehandle[FILE_INPUT]);
                           A 10544    ; 1341	    reOpenFile(FILE_INPUT, fa_read);
                           A 10545    .LINE 1341
                           A 10546    
0437F0 01010000            A 10547    	LD	BC,1
0437F4 C5                  A 10548    	PUSH	BC
0437F5 C5                  A 10549    	PUSH	BC
0437F6 CD 15 5E 04         A 10550    	CALL	_reOpenFile
0437FA C1                  A 10551    	POP	BC
0437FB C1                  A 10552    	POP	BC
                           A 10553    ; 1342	    //rewind(filehandle[FILE_LOCAL_LABE
                           A 10554    ; 1343	    reOpenFile(FILE_LOCAL_LABELS, fa_re
                           A 10555    .LINE 1343
                           A 10556    
0437FC 01010000            A 10557    	LD	BC,1
043800 C5                  A 10558    	PUSH	BC
043801 01030000            A 10559    	LD	BC,3
043805 C5                  A 10560    	PUSH	BC
043806 CD 15 5E 04         A 10561    	CALL	_reOpenFile
04380A C1                  A 10562    	POP	BC
04380B C1                  A 10563    	POP	BC
                           A 10564    ; 1344	    //rewind(filehandle[FILE_ANONYMOUS_
                           A 10565    ; 1345	    reOpenFile(FILE_ANONYMOUS_LABELS, f
                           A 10566    .LINE 1345
                           A 10567    
04380C 01010000            A 10568    	LD	BC,1
043810 C5                  A 10569    	PUSH	BC
043811 01040000            A 10570    	LD	BC,4
043815 C5                  A 10571    	PUSH	BC
043816 CD 15 5E 04         A 10572    	CALL	_reOpenFile
04381A C1                  A 10573    	POP	BC
04381B C1                  A 10574    	POP	BC
                           A 10575    ; 1346	    passInitialize(2);
                           A 10576    .LINE 1346
                           A 10577    
04381C 01020000            A 10578    	LD	BC,2
043820 C5                  A 10579    	PUSH	BC
043821 CD 18 36 04         A 10580    	CALL	_passInitialize
043825 C1                  A 10581    	POP	BC
                           A 10582    ; 1347	    listInit(consolelist_enabled);
                           A 10583    .LINE 1347
                           A 10584    
043826 3A 12 97 04         A 10585    	LD	A,(_consolelist_enabled)
04382A 4F                  A 10586    	LD	C,A
04382B 0600                A 10587    	LD	B,%0
04382D C5                  A 10588    	PUSH	BC
04382E CD 72 4E 04         A 10589    	CALL	_listInit
043832 C1                  A 10590    	POP	BC
                           A 10591    ; 1348	    readLocalLabels();
                           A 10592    .LINE 1348
                           A 10593    
043833 CD E0 47 04         A 10594    	CALL	_readLocalLabels
                           A 10595    ; 1349	    readAnonymousLabel();
                           A 10596    .LINE 1349
                           A 10597    
043837 CD 08 49 04         A 10598    	CALL	_readAnonymousLabel
                           A 10599    ; 1350	    do {
                           A 10600    ; 1351	        while (agon_fgets(line, sizeof(
                           A 10601    .LINE 1351
                           A 10602    
04383B 18 44               A 10603    	JR	L_656
04383D                     A 10604    L_657:
                           A 10605    ; 1352	            linenumber++;
                           A 10606    .LINE 1352
                           A 10607    
04383D ED4B 14 97 04       A 10608    	LD	BC,(_linenumber)
043842 03                  A 10609    	INC	BC
043843 ED43 14 97 04       A 10610    	LD	(_linenumber),BC
                           A 10611    ; 1353	            listStartLine(line);
                           A 10612    .LINE 1353
                           A 10613    
043848 DDE5E1              A 10614    	LD	HL,IX
04384B 01FCFEFF            A 10615    	LD	BC,-260
04384F 09                  A 10616    	ADD	HL,BC
043850 E5C1                A 10617    	LD	BC,HL
043852 C5                  A 10618    	PUSH	BC
043853 CD DE 4E 04         A 10619    	CALL	_listStartLine
043857 C1                  A 10620    	POP	BC
                           A 10621    ; 1354	            parseLine(line);
                           A 10622    .LINE 1354
                           A 10623    
043858 DDE5E1              A 10624    	LD	HL,IX
04385B 01FCFEFF            A 10625    	LD	BC,-260
04385F 09                  A 10626    	ADD	HL,BC
043860 E5C1                A 10627    	LD	BC,HL
043862 C5                  A 10628    	PUSH	BC
043863 CD 0A 18 04         A 10629    	CALL	_parseLine
043867 C1                  A 10630    	POP	BC
                           A 10631    ; 1355	            refreshlocalLabels();
                           A 10632    .LINE 1355
                           A 10633    
043868 CD BB 1C 04         A 10634    	CALL	_refreshlocalLabels
                           A 10635    ; 1356	            processInstructions();
                           A 10636    .LINE 1356
                           A 10637    
04386C CD 1D 35 04         A 10638    	CALL	_processInstructions
                           A 10639    ; 1357	            listEndLine(consolelist_ena
                           A 10640    .LINE 1357
                           A 10641    
043870 3A 12 97 04         A 10642    	LD	A,(_consolelist_enabled)
043874 4F                  A 10643    	LD	C,A
043875 0600                A 10644    	LD	B,%0
043877 C5                  A 10645    	PUSH	BC
043878 CD 1C 4F 04         A 10646    	CALL	_listEndLine
04387C C1                  A 10647    	POP	BC
                           A 10648    ; 1358	            processDelayedLineNumberRes
                           A 10649    .LINE 1358
                           A 10650    
04387D CD 58 36 04         A 10651    	CALL	_processDelayedLineNumberReset
                           A 10652    ; 1359	
                           A 10653    ; 1360	            //printLocalLabelTable();
                           A 10654    ; 1361	        }
043881                     A 10655    L_656:
                           A 10656    .LINE 1361
                           A 10657    
043881 01000000            A 10658    	LD	BC,0
043885 C5                  A 10659    	PUSH	BC
043886 01800000            A 10660    	LD	BC,128
04388A C5                  A 10661    	PUSH	BC
04388B DDE5E1              A 10662    	LD	HL,IX
04388E 01FCFEFF            A 10663    	LD	BC,-260
043892 09                  A 10664    	ADD	HL,BC
043893 E5C1                A 10665    	LD	BC,HL
043895 C5                  A 10666    	PUSH	BC
043896 CD 39 61 04         A 10667    	CALL	_agon_fgets
04389A C1                  A 10668    	POP	BC
04389B C1                  A 10669    	POP	BC
04389C C1                  A 10670    	POP	BC
04389D CD E3 6A 04         A 10671    	CALL	__icmpzero
0438A1 20 9A               A 10672    	JR	NZ,L_657
                           A 10673    ; 1362	        if(filestackCount()) {
                           A 10674    .LINE 1362
                           A 10675    
0438A3 CD 1B 39 04         A 10676    	CALL	_filestackCount
0438A7 B7                  A 10677    	OR	A,A
0438A8 28 4D               A 10678    	JR	Z,L_659
                           A 10679    ; 1363	            mos_fclose(filehandle[FILE_
                           A 10680    .LINE 1363
                           A 10681    
0438AA 3A 0B 97 04         A 10682    	LD	A,(_filehandle)
0438AE 4F                  A 10683    	LD	C,A
0438AF 0600                A 10684    	LD	B,%0
0438B1 C5                  A 10685    	PUSH	BC
0438B2 CD 66 0D 04         A 10686    	CALL	_mos_fclose
0438B6 C1                  A 10687    	POP	BC
                           A 10688    ; 1364	            incfiles = filestackPop(&fs
                           A 10689    .LINE 1364
                           A 10690    
0438B7 DDE5E1              A 10691    	LD	HL,IX
0438BA 017CFFFF            A 10692    	LD	BC,-132
0438BE 09                  A 10693    	ADD	HL,BC
0438BF E5C1                A 10694    	LD	BC,HL
0438C1 C5                  A 10695    	PUSH	BC
0438C2 CD B4 39 04         A 10696    	CALL	_filestackPop
0438C6 C1                  A 10697    	POP	BC
0438C7 DD77FF              A 10698    	LD	(IX+%FFFFFFFF),A
                           A 10699    ; 1365	            linenumber = fsitem.linenum
                           A 10700    .LINE 1365
                           A 10701    
0438CA ED5580              A 10702    	LEA	IY,IX+%FFFFFF80
0438CD FD07FC              A 10703    	LD	BC,(IY+%FFFFFFFC)
0438D0 CD 96 66 04         A 10704    	CALL	__stoiu
0438D4 22 14 97 04         A 10705    	LD	(_linenumber),HL
                           A 10706    ; 1366	            filehandle[FILE_CURRENT] = 
                           A 10707    .LINE 1366
                           A 10708    
0438D8 FD7EFE              A 10709    	LD	A,(IY+%FFFFFFFE)
0438DB 32 0B 97 04         A 10710    	LD	(_filehandle),A
                           A 10711    ; 1367	            strcpy(filename[FILE_CURREN
                           A 10712    .LINE 1367
                           A 10713    
0438DF DDE5E1              A 10714    	LD	HL,IX
0438E2 017FFFFF            A 10715    	LD	BC,-129
0438E6 09                  A 10716    	ADD	HL,BC
0438E7 E5C1                A 10717    	LD	BC,HL
0438E9 C5                  A 10718    	PUSH	BC
0438EA 01 0B 94 04         A 10719    	LD	BC,_filename
0438EE C5                  A 10720    	PUSH	BC
0438EF CD 6F 6E 04         A 10721    	CALL	_strcpy
0438F3 C1                  A 10722    	POP	BC
0438F4 C1                  A 10723    	POP	BC
                           A 10724    ; 1368	        }
                           A 10725    ; 1369	        else incfiles = false;
                           A 10726    .LINE 1369
                           A 10727    
0438F5 18 04               A 10728    	JR	L_662
0438F7                     A 10729    L_659:
0438F7 DD36FF00            A 10730    	LD	(IX+%FFFFFFFF),%0
                           A 10731    ; 1370	    }
                           A 10732    ; 1371	    while(incfiles);
0438FB                     A 10733    L_662:
                           A 10734    .LINE 1371
                           A 10735    
0438FB DD7EFF              A 10736    	LD	A,(IX+%FFFFFFFF)
0438FE B7                  A 10737    	OR	A,A
0438FF 20 80               A 10738    	JR	NZ,L_656
                           A 10739    ; 1372	    return true;
                           A 10740    .LINE 1372
                           A 10741    
043901 3E01                A 10742    	LD	A,%1
                           A 10743    ; 1373	}
043903                     A 10744    L_664:
                           A 10745    .LINE 1373
                           A 10746    
043903 DDF9                A 10747    	LD	SP,IX
043905 DDE1                A 10748    	POP	IX
043907 C9                  A 10749    	RET	
                           A 10750    
                           A 10751    
                           A 10752    ;**************************** _assemble *******
                           A 10753    ;Name                         Addr/Register   S
                           A 10754    ;_listEndLine                        IMPORT  --
                           A 10755    ;_listStartLine                      IMPORT  --
                           A 10756    ;_readAnonymousLabel                 IMPORT  --
                           A 10757    ;_readLocalLabels                    IMPORT  --
                           A 10758    ;_consolelist_enabled                IMPORT    
                           A 10759    ;_listInit                           IMPORT  --
                           A 10760    ;_reOpenFile                         IMPORT  --
                           A 10761    ;_getGlobalLabelCount                IMPORT  --
                           A 10762    ;__u_itoa                            IMPORT  --
                           A 10763    ;_writeLocalLabels                   IMPORT  --
                           A 10764    ;_filestackPop                       IMPORT  --
                           A 10765    ;_mos_fclose                         IMPORT  --
                           A 10766    ;_filestackCount                     IMPORT  --
                           A 10767    ;_agon_fgets                         IMPORT  --
                           A 10768    ;_linenumber                         IMPORT    
                           A 10769    ;___print_sendstring                 IMPORT  --
                           A 10770    ;___print_xputch                     IMPORT    
                           A 10771    ;___print_uputch                     IMPORT  --
                           A 10772    ;_filename                           IMPORT    
                           A 10773    ;_strcpy                             IMPORT  --
                           A 10774    ;_filehandle                         IMPORT    
                           A 10775    ;_global_errors                      IMPORT    
                           A 10776    ;line                                IX-260    
                           A 10777    ;fsitem                              IX-132    
                           A 10778    ;incfiles                              IX-1    
                           A 10779    
                           A 10780    
                           A 10781    ; Stack Frame Size: 266 (bytes)
                           A 10782    ;       Spill Code: -1 (instruction)
                           A 10783    
                           A 10784    
                           A 10785    .ENDFUNC "assemble",1373,"_assemble"
                           A 10786    	SEGMENT STRSECT
048CFC                     A 10787    L__287:
048CFC 50617373 20312E2E   A 10788    	DB	"Pass 1..."
048D04 2E 
048D05 0A0D00              A 10789    	DB	10,13,0
048D08                     A 10790    L__292:
048D08 206C696E 6573       A 10791    	DB	" lines"
048D0E 0A0D00              A 10792    	DB	10,13,0
048D11                     A 10793    L__293:
048D11 206C6162 656C73     A 10794    	DB	" labels"
048D18 0A0D00              A 10795    	DB	10,13,0
048D1B                     A 10796    L__294:
048D1B 50617373 20322E2E   A 10797    	DB	"Pass 2..."
048D23 2E 
048D24 0A0D00              A 10798    	DB	10,13,0
                           A 10799    	XREF _mos_fclose:ROM
                           A 10800    	XREF _mos_fopen:ROM
                           A 10801    	XREF _filestackPop:ROM
                           A 10802    	XREF _filestackPush:ROM
                           A 10803    	XREF _filestackCount:ROM
                           A 10804    	XREF _filestackInit:ROM
                           A 10805    	XREF _listEmit8bit:ROM
                           A 10806    	XREF _listEndLine:ROM
                           A 10807    	XREF _listStartLine:ROM
                           A 10808    	XREF _listInit:ROM
                           A 10809    	XREF _err_str2num:ROM
                           A 10810    	XREF _str2num:ROM
                           A 10811    	XREF _strcasecmp:ROM
                           A 10812    	XREF _agon_fwrite:ROM
                           A 10813    	XREF _agon_fgets:ROM
                           A 10814    	XREF _reOpenFile:ROM
                           A 10815    	XREF _getOperatorToken:ROM
                           A 10816    	XREF _getLineToken:ROM
                           A 10817    	XREF _split_suffix:ROM
                           A 10818    	XREF _notEmpty:ROM
                           A 10819    	XREF _isEmpty:ROM
                           A 10820    	XREF _error:ROM
                           A 10821    	XREF _message:ROM
                           A 10822    	XREF _output:ROM
                           A 10823    	XREF _operand2:ROM
                           A 10824    	XREF _operand1:ROM
                           A 10825    	XREF _currentline:ROM
                           A 10826    	XREF _adlmode:ROM
                           A 10827    	XREF _global_errors:ROM
                           A 10828    	XREF _totalsize:ROM
                           A 10829    	XREF _address:ROM
                           A 10830    	XREF _pass:ROM
                           A 10831    	XREF _linenumber:ROM
                           A 10832    	XREF _filehandle:ROM
                           A 10833    	XREF _filename:ROM
                           A 10834    	XREF _lineNumberNeedsReset:ROM
                           A 10835    	XREF _consolelist_enabled:ROM
                           A 10836    	XREF _getGlobalLabelCount:ROM
                           A 10837    	XREF _readAnonymousLabel:ROM
                           A 10838    	XREF _writeAnonymousLabel:ROM
                           A 10839    	XREF _readLocalLabels:ROM
                           A 10840    	XREF _writeLocalLabels:ROM
                           A 10841    	XREF _clearLocalLabels:ROM
                           A 10842    	XREF _insertLocalLabel:ROM
                           A 10843    	XREF _insertGlobalLabel:ROM
                           A 10844    	XREF _findLabel:ROM
                           A 10845    	XREF _permittype_matchlist:ROM
                           A 10846    	XREF _instruction_table_lookup:ROM
                           A 10847    	XREF _tolower:ROM
                           A 10848    	XREF _isspace:ROM
                           A 10849    	XREF _isdigit:ROM
                           A 10850    	XREF _strlen:ROM
                           A 10851    	XREF _strcmp:ROM
                           A 10852    	XREF _strcpy:ROM
                           A 10853    	XREF __u_itoa:ROM
                           A 10854    	XREF ___print_sendstring:ROM
                           A 10855    	XREF ___print_xputch:ROM
                           A 10856    	XREF ___print_uputch:ROM
                           A 10857    	XREF __indcall:ROM
                           A 10858    	XREF __lcmps:ROM
                           A 10859    	XREF __lcmpu:ROM
                           A 10860    	XREF __ladd:ROM
                           A 10861    	XREF __lsub:ROM
                           A 10862    	XREF __sneg:ROM
                           A 10863    	XREF __lnot:ROM
                           A 10864    	XREF __land:ROM
                           A 10865    	XREF __lshl:ROM
                           A 10866    	XREF __lshrs:ROM
                           A 10867    	XREF __lshru:ROM
                           A 10868    	XREF __stoiu:ROM
                           A 10869    	XREF __itol:ROM
                           A 10870    	XREF __ildix:ROM
                           A 10871    	XREF __istix:ROM
                           A 10872    	XREF __setflag:ROM
                           A 10873    	XREF __scmpzero:ROM
                           A 10874    	XREF __icmpzero:ROM
                           A 10875    	XREF __lcmpzero:ROM
                           A 10876    	XREF __case8D:ROM
                           A 10877    	XREF __seqcaseD:ROM
                           A 10878    	XREF __ladd_b:ROM
                           A 10879    	XREF __ishrs_b:ROM
                           A 10880    	XDEF _assemble
                           A 10881    	XDEF _processDelayedLineNumberReset
                           A 10882    	XDEF _passInitialize
                           A 10883    	XDEF _processInstructions
                           A 10884    	XDEF _handle_assembler_command
                           A 10885    	XDEF _handle_asm_align
                           A 10886    	XDEF _handle_asm_blk
                           A 10887    	XDEF _handle_asm_include
                           A 10888    	XDEF _handle_asm_org
                           A 10889    	XDEF _handle_asm_adl
                           A 10890    	XDEF _handle_asm_equ
                           A 10891    	XDEF _handle_asm_dw
                           A 10892    	XDEF _handle_asm_db
                           A 10893    	XDEF _parse_asm_keyval_pair
                           A 10894    	XDEF _parse_asm_single_immediate
                           A 10895    	XDEF _emit_quotedstring
                           A 10896    	XDEF _get_escaped_char
                           A 10897    	XDEF _emit_32bit
                           A 10898    	XDEF _emit_24bit
                           A 10899    	XDEF _emit_16bit
                           A 10900    	XDEF _emit_8bit
                           A 10901    	XDEF _emit_instruction
                           A 10902    	XDEF _transform_instruction
                           A 10903    	XDEF _prefix_ddfd_suffix
                           A 10904    	XDEF _get_ddfd_prefix
                           A 10905    	XDEF _emit_adlsuffix_code
                           A 10906    	XDEF _emit_immediate
                           A 10907    	XDEF _get_immediate_size
                           A 10908    	XDEF _adl_action
                           A 10909    	XDEF _getADLsuffix
                           A 10910    	XDEF _refreshlocalLabels
                           A 10911    	XDEF _definelabel
                           A 10912    	XDEF _parseLine
                           A 10913    	XDEF _parse_operand
                           A 10914    	XDEF _getLabelValue
                           A 10915    	XDEF _getAsciiValue
                           A 10916    	XDEF _advanceLocalLabel
                           A 10917    	XDEF _empty_operand
                           A 10918    	END


Errors: 0
Warnings: 0
Lines Assembled: 10919
