Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED01-Mar-23     16:39:41     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\label.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "fmt_type",19
                           A     9    .DEFINE "status"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "flags"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "size"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 2
                           A    23    .ENDEF
                           A    24    .DEFINE "chr"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 2
                           A    28    .ENDEF
                           A    29    .DEFINE "type"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 2
                           A    33    .ENDEF
                           A    34    .DEFINE "field_width"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 2
                           A    38    .ENDEF
                           A    39    .DEFINE "precision"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 2
                           A    43    .ENDEF
                           A    44    .DEFINE "set_begin"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .TYPE 34
                           A    48    .ENDEF
                           A    49    .DEFINE "set_end"
                           A    50    .VALUE 10
                           A    51    .CLASS 8
                           A    52    .TYPE 34
                           A    53    .ENDEF
                           A    54    .DEFINE "pad_whole"
                           A    55    .VALUE 13
                           A    56    .CLASS 8
                           A    57    .TYPE 12
                           A    58    .ENDEF
                           A    59    .DEFINE "pad_pre_fract"
                           A    60    .VALUE 14
                           A    61    .CLASS 8
                           A    62    .TYPE 12
                           A    63    .ENDEF
                           A    64    .DEFINE "pad_post_fract"
                           A    65    .VALUE 15
                           A    66    .CLASS 8
                           A    67    .TYPE 12
                           A    68    .ENDEF
                           A    69    .DEFINE "pad_at"
                           A    70    .VALUE 16
                           A    71    .CLASS 8
                           A    72    .TYPE 34
                           A    73    .ENDEF
                           A    74    .ENDREC "fmt_type"
                           A    75    .BEGREC "flt_info",12
                           A    76    .DEFINE "flags"
                           A    77    .VALUE 0
                           A    78    .CLASS 8
                           A    79    .TYPE 12
                           A    80    .ENDEF
                           A    81    .DEFINE "exp"
                           A    82    .VALUE 1
                           A    83    .CLASS 8
                           A    84    .TYPE 2
                           A    85    .ENDEF
                           A    86    .DEFINE "digits"
                           A    87    .VALUE 2
                           A    88    .CLASS 8
                           A    89    .DIM 10
                           A    90    .TYPE 108
                           A    91    .ENDEF
                           A    92    .ENDREC "flt_info"
                           A    93    .BEGREC "NONAME0",6
                           A    94    .DEFINE "name"
                           A    95    .VALUE 0
                           A    96    .CLASS 8
                           A    97    .TYPE 34
                           A    98    .ENDEF
                           A    99    .DEFINE "address"
                           A   100    .VALUE 3
                           A   101    .CLASS 8
                           A   102    .TYPE 4
                           A   103    .ENDEF
                           A   104    .ENDREC "NONAME0"
                           A   105    .BEGREC "NONAME1",4
                           A   106    .DEFINE "defined"
                           A   107    .VALUE 0
                           A   108    .CLASS 8
                           A   109    .TYPE 12
                           A   110    .ENDEF
                           A   111    .DEFINE "address"
                           A   112    .VALUE 1
                           A   113    .CLASS 8
                           A   114    .TYPE 4
                           A   115    .ENDEF
                           A   116    .ENDREC "NONAME1"
                           A   117    .BEGREC "NONAME2",6
                           A   118    .DEFINE "quot"
                           A   119    .VALUE 0
                           A   120    .CLASS 8
                           A   121    .TYPE 4
                           A   122    .ENDEF
                           A   123    .DEFINE "rem"
                           A   124    .VALUE 3
                           A   125    .CLASS 8
                           A   126    .TYPE 4
                           A   127    .ENDEF
                           A   128    .ENDREC "NONAME2"
                           A   129    .BEGREC "NONAME3",8
                           A   130    .DEFINE "quot"
                           A   131    .VALUE 0
                           A   132    .CLASS 8
                           A   133    .TYPE 5
                           A   134    .ENDEF
                           A   135    .DEFINE "rem"
                           A   136    .VALUE 4
                           A   137    .CLASS 8
                           A   138    .TYPE 5
                           A   139    .ENDEF
                           A   140    .ENDREC "NONAME3"
                           A   141    .BEGREC "header",6
                           A   142    .DEFINE "s"
                           A   143    .VALUE 0
                           A   144    .CLASS 11
                           A   145    .TAG "NONAME4"
                           A   146    .TYPE 8
                           A   147    .ENDEF
                           A   148    .DEFINE "x"
                           A   149    .VALUE 0
                           A   150    .CLASS 11
                           A   151    .TYPE 2
                           A   152    .ENDEF
                           A   153    .ENDREC "header"
                           A   154    .BEGREC "NONAME4",6
                           A   155    .DEFINE "ptr"
                           A   156    .VALUE 0
                           A   157    .CLASS 8
                           A   158    .TAG "header"
                           A   159    .TYPE 40
                           A   160    .ENDEF
                           A   161    .DEFINE "size"
                           A   162    .VALUE 3
                           A   163    .CLASS 8
                           A   164    .TYPE 14
                           A   165    .ENDEF
                           A   166    .ENDREC "NONAME4"
                           A   167    .BEGREC "NONAME5",133
                           A   168    .DEFINE "start"
                           A   169    .VALUE 0
                           A   170    .CLASS 8
                           A   171    .DIM 128
                           A   172    .TYPE 98
                           A   173    .ENDEF
                           A   174    .DEFINE "length"
                           A   175    .VALUE 128
                           A   176    .CLASS 8
                           A   177    .TYPE 12
                           A   178    .ENDEF
                           A   179    .DEFINE "next"
                           A   180    .VALUE 129
                           A   181    .CLASS 8
                           A   182    .TYPE 34
                           A   183    .ENDEF
                           A   184    .DEFINE "terminator"
                           A   185    .VALUE 132
                           A   186    .CLASS 8
                           A   187    .TYPE 2
                           A   188    .ENDEF
                           A   189    .ENDREC "NONAME5"
                           A   190    .BEGREC "NONAME6",15
                           A   191    .DEFINE "reg"
                           A   192    .VALUE 0
                           A   193    .CLASS 8
                           A   194    .TYPE 4
                           A   195    .ENDEF
                           A   196    .DEFINE "reg_index"
                           A   197    .VALUE 3
                           A   198    .CLASS 8
                           A   199    .TYPE 12
                           A   200    .ENDEF
                           A   201    .DEFINE "indirect"
                           A   202    .VALUE 4
                           A   203    .CLASS 8
                           A   204    .TYPE 12
                           A   205    .ENDEF
                           A   206    .DEFINE "cc"
                           A   207    .VALUE 5
                           A   208    .CLASS 8
                           A   209    .TYPE 12
                           A   210    .ENDEF
                           A   211    .DEFINE "cc_index"
                           A   212    .VALUE 6
                           A   213    .CLASS 8
                           A   214    .TYPE 12
                           A   215    .ENDEF
                           A   216    .DEFINE "displacement"
                           A   217    .VALUE 7
                           A   218    .CLASS 8
                           A   219    .TYPE 3
                           A   220    .ENDEF
                           A   221    .DEFINE "displacement_provided"
                           A   222    .VALUE 9
                           A   223    .CLASS 8
                           A   224    .TYPE 12
                           A   225    .ENDEF
                           A   226    .DEFINE "immediate_provided"
                           A   227    .VALUE 10
                           A   228    .CLASS 8
                           A   229    .TYPE 12
                           A   230    .ENDEF
                           A   231    .DEFINE "immediate"
                           A   232    .VALUE 11
                           A   233    .CLASS 8
                           A   234    .TYPE 4
                           A   235    .ENDEF
                           A   236    .DEFINE "wasLabel"
                           A   237    .VALUE 14
                           A   238    .CLASS 8
                           A   239    .TYPE 12
                           A   240    .ENDEF
                           A   241    .ENDREC "NONAME6"
                           A   242    .BEGREC "NONAME7",4
                           A   243    .DEFINE "suffix"
                           A   244    .VALUE 0
                           A   245    .CLASS 8
                           A   246    .TYPE 12
                           A   247    .ENDEF
                           A   248    .DEFINE "prefix1"
                           A   249    .VALUE 1
                           A   250    .CLASS 8
                           A   251    .TYPE 12
                           A   252    .ENDEF
                           A   253    .DEFINE "prefix2"
                           A   254    .VALUE 2
                           A   255    .CLASS 8
                           A   256    .TYPE 12
                           A   257    .ENDEF
                           A   258    .DEFINE "opcode"
                           A   259    .VALUE 3
                           A   260    .CLASS 8
                           A   261    .TYPE 12
                           A   262    .ENDEF
                           A   263    .ENDREC "NONAME7"
                           A   264    .BEGREC "NONAME8",16
                           A   265    .DEFINE "operandA"
                           A   266    .VALUE 0
                           A   267    .CLASS 8
                           A   268    .TYPE 4
                           A   269    .ENDEF
                           A   270    .DEFINE "operandB"
                           A   271    .VALUE 3
                           A   272    .CLASS 8
                           A   273    .TYPE 4
                           A   274    .ENDEF
                           A   275    .DEFINE "ddfdpermitted"
                           A   276    .VALUE 6
                           A   277    .CLASS 8
                           A   278    .TYPE 12
                           A   279    .ENDEF
                           A   280    .DEFINE "transformA"
                           A   281    .VALUE 7
                           A   282    .CLASS 8
                           A   283    .TYPE 4
                           A   284    .ENDEF
                           A   285    .DEFINE "transformB"
                           A   286    .VALUE 10
                           A   287    .CLASS 8
                           A   288    .TYPE 4
                           A   289    .ENDEF
                           A   290    .DEFINE "prefix"
                           A   291    .VALUE 13
                           A   292    .CLASS 8
                           A   293    .TYPE 12
                           A   294    .ENDEF
                           A   295    .DEFINE "opcode"
                           A   296    .VALUE 14
                           A   297    .CLASS 8
                           A   298    .TYPE 12
                           A   299    .ENDEF
                           A   300    .DEFINE "adl"
                           A   301    .VALUE 15
                           A   302    .CLASS 8
                           A   303    .TYPE 12
                           A   304    .ENDEF
                           A   305    .ENDREC "NONAME8"
                           A   306    .BEGREC "NONAME9",17
                           A   307    .DEFINE "name"
                           A   308    .VALUE 0
                           A   309    .CLASS 8
                           A   310    .DIM 8
                           A   311    .TYPE 98
                           A   312    .ENDEF
                           A   313    .DEFINE "type"
                           A   314    .VALUE 8
                           A   315    .CLASS 8
                           A   316    .TYPE 12
                           A   317    .ENDEF
                           A   318    .DEFINE "asmtype"
                           A   319    .VALUE 9
                           A   320    .CLASS 8
                           A   321    .TYPE 12
                           A   322    .ENDEF
                           A   323    .DEFINE "listnumber"
                           A   324    .VALUE 10
                           A   325    .CLASS 8
                           A   326    .TYPE 12
                           A   327    .ENDEF
                           A   328    .DEFINE "list"
                           A   329    .VALUE 11
                           A   330    .CLASS 8
                           A   331    .TAG "NONAME8"
                           A   332    .TYPE 40
                           A   333    .ENDEF
                           A   334    .DEFINE "asmargument"
                           A   335    .VALUE 14
                           A   336    .CLASS 8
                           A   337    .TYPE 4
                           A   338    .ENDEF
                           A   339    .ENDREC "NONAME9"
                           A   340    .BEGREC "NONAME10",6
                           A   341    .DEFINE "type"
                           A   342    .VALUE 0
                           A   343    .CLASS 8
                           A   344    .TYPE 4
                           A   345    .ENDEF
                           A   346    .DEFINE "match"
                           A   347    .VALUE 3
                           A   348    .CLASS 8
                           A   349    .TYPE 556
                           A   350    .ENDEF
                           A   351    .ENDREC "NONAME10"
                           A   352    .BEGREC "NONAME11",264
                           A   353    .DEFINE "current_instruction"
                           A   354    .VALUE 0
                           A   355    .CLASS 8
                           A   356    .TAG "NONAME9"
                           A   357    .TYPE 40
                           A   358    .ENDEF
                           A   359    .DEFINE "next"
                           A   360    .VALUE 3
                           A   361    .CLASS 8
                           A   362    .TYPE 34
                           A   363    .ENDEF
                           A   364    .DEFINE "label"
                           A   365    .VALUE 6
                           A   366    .CLASS 8
                           A   367    .DIM 32
                           A   368    .TYPE 98
                           A   369    .ENDEF
                           A   370    .DEFINE "mnemonic"
                           A   371    .VALUE 38
                           A   372    .CLASS 8
                           A   373    .DIM 16
                           A   374    .TYPE 98
                           A   375    .ENDEF
                           A   376    .DEFINE "suffix"
                           A   377    .VALUE 54
                           A   378    .CLASS 8
                           A   379    .DIM 16
                           A   380    .TYPE 98
                           A   381    .ENDEF
                           A   382    .DEFINE "operand1"
                           A   383    .VALUE 70
                           A   384    .CLASS 8
                           A   385    .DIM 32
                           A   386    .TYPE 98
                           A   387    .ENDEF
                           A   388    .DEFINE "operand2"
                           A   389    .VALUE 102
                           A   390    .CLASS 8
                           A   391    .DIM 32
                           A   392    .TYPE 98
                           A   393    .ENDEF
                           A   394    .DEFINE "comment"
                           A   395    .VALUE 134
                           A   396    .CLASS 8
                           A   397    .DIM 128
                           A   398    .TYPE 98
                           A   399    .ENDEF
                           A   400    .DEFINE "size"
                           A   401    .VALUE 262
                           A   402    .CLASS 8
                           A   403    .TYPE 13
                           A   404    .ENDEF
                           A   405    .ENDREC "NONAME11"
                           A   406    	SEGMENT BSS
048889                     A   407    _an_prev:
048889                     A   408    	DS	4
                           A   409    .DEFINE "an_prev"
                           A   410    .ALIAS "_an_prev"
                           A   411    .CLASS 83
                           A   412    .VALUE _an_prev
                           A   413    .TAG "NONAME1"
                           A   414    .TYPE 8
                           A   415    .ENDEF
04888D                     A   416    _an_next:
04888D                     A   417    	DS	4
                           A   418    .DEFINE "an_next"
                           A   419    .ALIAS "_an_next"
                           A   420    .CLASS 83
                           A   421    .VALUE _an_next
                           A   422    .TAG "NONAME1"
                           A   423    .TYPE 8
                           A   424    .ENDEF
048891                     A   425    _an_return:
048891                     A   426    	DS	6
                           A   427    .DEFINE "an_return"
                           A   428    .ALIAS "_an_return"
                           A   429    .CLASS 83
                           A   430    .VALUE _an_return
                           A   431    .TAG "NONAME0"
                           A   432    .TYPE 8
                           A   433    .ENDEF
048897                     A   434    _globalLabelBuffer:
048897                     A   435    	DS	131072
                           A   436    .DEFINE "globalLabelBuffer"
                           A   437    .ALIAS "_globalLabelBuffer"
                           A   438    .CLASS 83
                           A   439    .VALUE _globalLabelBuffer
                           A   440    .DIM 131072
                           A   441    .TYPE 98
                           A   442    .ENDEF
068897                     A   443    _localLabelBuffer:
068897                     A   444    	DS	4096
                           A   445    .DEFINE "localLabelBuffer"
                           A   446    .ALIAS "_localLabelBuffer"
                           A   447    .CLASS 83
                           A   448    .VALUE _localLabelBuffer
                           A   449    .DIM 4096
                           A   450    .TYPE 98
                           A   451    .ENDEF
069897                     A   452    _globalLabelBufferIndex:
069897                     A   453    	DS	2*1
                           A   454    .DEFINE "globalLabelBufferIndex"
                           A   455    .ALIAS "_globalLabelBufferIndex"
                           A   456    .CLASS 83
                           A   457    .VALUE _globalLabelBufferIndex
                           A   458    .TYPE 13
                           A   459    .ENDEF
069899                     A   460    _localLabelBufferIndex:
069899                     A   461    	DS	2*1
                           A   462    .DEFINE "localLabelBufferIndex"
                           A   463    .ALIAS "_localLabelBufferIndex"
                           A   464    .CLASS 83
                           A   465    .VALUE _localLabelBufferIndex
                           A   466    .TYPE 13
                           A   467    .ENDEF
06989B                     A   468    _globalLabelTable:
06989B                     A   469    	DS	24576
                           A   470    .DEFINE "globalLabelTable"
                           A   471    .ALIAS "_globalLabelTable"
                           A   472    .CLASS 83
                           A   473    .VALUE _globalLabelTable
                           A   474    .DIM 8192
                           A   475    .TAG "NONAME0"
                           A   476    .TYPE 360
                           A   477    .ENDEF
06F89B                     A   478    _globalLabelCounter:
06F89B                     A   479    	DS	2*1
                           A   480    .DEFINE "globalLabelCounter"
                           A   481    .ALIAS "_globalLabelCounter"
                           A   482    .CLASS 83
                           A   483    .VALUE _globalLabelCounter
                           A   484    .TYPE 13
                           A   485    .ENDEF
06F89D                     A   486    _localLabelTable:
06F89D                     A   487    	DS	384
                           A   488    .DEFINE "localLabelTable"
                           A   489    .ALIAS "_localLabelTable"
                           A   490    .CLASS 83
                           A   491    .VALUE _localLabelTable
                           A   492    .DIM 64
                           A   493    .TAG "NONAME0"
                           A   494    .TYPE 104
                           A   495    .ENDEF
06FA1D                     A   496    _localLabelCounter:
06FA1D                     A   497    	DS	2*1
                           A   498    .DEFINE "localLabelCounter"
                           A   499    .ALIAS "_localLabelCounter"
                           A   500    .CLASS 83
                           A   501    .VALUE _localLabelCounter
                           A   502    .TYPE 13
                           A   503    .ENDEF
                           A   504    ;    1	#include <stdint.h>
                           A   505    ;    2	#include <stdio.h>
                           A   506    ;    3	#include <string.h>
                           A   507    ;    4	#include "label.h"
                           A   508    ;    5	#include "hash.h"
                           A   509    ;    6	#include "str2num.h"
                           A   510    ;    7	#include "utils.h"
                           A   511    ;    8	#include "globals.h"
                           A   512    ;    9	#include "stdint.h"
                           A   513    ;   10	
                           A   514    ;   11	// memory for anonymous labels
                           A   515    ;   12	anonymouslabeltype an_prev;
                           A   516    ;   13	anonymouslabeltype an_next;
                           A   517    ;   14	label an_return;
                           A   518    ;   15	
                           A   519    ;   16	// memory buffer for sequentially stori
                           A   520    ;   17	char globalLabelBuffer[GLOBAL_LABEL_BUF
                           A   521    ;   18	char localLabelBuffer[LOCAL_LABEL_BUFFE
                           A   522    ;   19	uint16_t globalLabelBufferIndex;
                           A   523    ;   20	uint16_t localLabelBufferIndex;
                           A   524    ;   21	
                           A   525    ;   22	// tables
                           A   526    ;   23	label* globalLabelTable[GLOBAL_LABEL_TA
                           A   527    ;   24	uint16_t globalLabelCounter;
                           A   528    ;   25	label localLabelTable[LOCAL_LABEL_TABLE
                           A   529    ;   26	uint16_t localLabelCounter;
                           A   530    	SEGMENT CODE
                           A   531    ;   27	
                           A   532    ;   28	void printLocalLabelTable(void) {
04380D                     A   533    _printLocalLabelTable:
                           A   534    .DEFINE "_printLocalLabelTable"
                           A   535    
                           A   536    .VALUE _printLocalLabelTable
                           A   537    
                           A   538    .CLASS 2
                           A   539    
                           A   540    .TYPE 65
                           A   541    
                           A   542    .ENDEF
                           A   543    
                           A   544    .BEGFUNC "printLocalLabelTable",28,"_printLocal
                           A   545    
                           A   546    .LINE 28
                           A   547    
                           A   548    .DEFINE "i"
                           A   549    
                           A   550    .CLASS 65
                           A   551    
                           A   552    .VALUE -3
                           A   553    
                           A   554    .TYPE 4
                           A   555    
                           A   556    .ENDEF
                           A   557    
04380D DDE5                A   558    	PUSH	IX
04380F DD210000 00         A   559    	LD	IX,0
043814 DD39                A   560    	ADD	IX,SP
043816 C5                  A   561    	PUSH	BC
043817 C5                  A   562    	PUSH	BC
                           A   563    ;   29	    int i;
                           A   564    ;   30	    printf("\r\nLocal table (%d entries
                           A   565    .LINE 30
                           A   566    
043818 01 D0 59 04         A   567    	LD	BC,___print_uputch
04381C ED43 F0 7E 04       A   568    	LD	(___print_xputch),BC
043821 01 18 84 04         A   569    	LD	BC,L__0
043825 C5                  A   570    	PUSH	BC
043826 CD 1D 58 04         A   571    	CALL	___print_sendstring
04382A C1                  A   572    	POP	BC
04382B ED4B 1D FA 06       A   573    	LD	BC,(_localLabelCounter)
043830 CD CA 59 04         A   574    	CALL	__stoiu
043834 E5C1                A   575    	LD	BC,HL
043836 CD B0 60 04         A   576    	CALL	__itol
04383A C5D1                A   577    	LD	DE,BC
04383C 4F                  A   578    	LD	C,A
04383D 0600                A   579    	LD	B,%0
04383F C5                  A   580    	PUSH	BC
043840 D5                  A   581    	PUSH	DE
043841 CD 96 5A 04         A   582    	CALL	__u_itoa
043845 C1                  A   583    	POP	BC
043846 C1                  A   584    	POP	BC
043847 01 28 84 04         A   585    	LD	BC,L__1
04384B C5                  A   586    	PUSH	BC
04384C CD 1D 58 04         A   587    	CALL	___print_sendstring
043850 C1                  A   588    	POP	BC
                           A   589    ;   31	    for(i = 0; i < localLabelCounter; i
                           A   590    .LINE 31
                           A   591    
043851 01000000            A   592    	LD	BC,0
043855 DD0FFD              A   593    	LD	(IX+%FFFFFFFD),BC
043858 18 6A               A   594    	JR	L_3
04385A                     A   595    L_1:
04385A DD27FD              A   596    	LD	HL,(IX+%FFFFFFFD)
04385D E5C1                A   597    	LD	BC,HL
04385F 29                  A   598    	ADD	HL,HL
043860 29                  A   599    	ADD	HL,HL
043861 09                  A   600    	ADD	HL,BC
043862 09                  A   601    	ADD	HL,BC
043863 01 9D F8 06         A   602    	LD	BC,_localLabelTable
043867 09                  A   603    	ADD	HL,BC
043868 DD2FFA              A   604    	LD	(IX+%FFFFFFFA),HL
04386B 01 D0 59 04         A   605    	LD	BC,___print_uputch
04386F ED43 F0 7E 04       A   606    	LD	(___print_xputch),BC
043874 3E08                A   607    	LD	A,%8
043876 32 57 FC 06         A   608    	LD	(___print_fmt+5),A
04387A 3E40                A   609    	LD	A,%40
04387C 32 53 FC 06         A   610    	LD	(___print_fmt+1),A
043880 3E78                A   611    	LD	A,%78
043882 32 56 FC 06         A   612    	LD	(___print_fmt+4),A
043886 DD31FA              A   613    	LD	IY,(IX+%FFFFFFFA)
043889 FD0703              A   614    	LD	BC,(IY+%3)
04388C CD B0 60 04         A   615    	CALL	__itol
043890 C5D1                A   616    	LD	DE,BC
043892 4F                  A   617    	LD	C,A
043893 0600                A   618    	LD	B,%0
043895 C5                  A   619    	PUSH	BC
043896 D5                  A   620    	PUSH	DE
043897 CD 56 5A 04         A   621    	CALL	__u_uitoa
04389B C1                  A   622    	POP	BC
04389C C1                  A   623    	POP	BC
04389D 01 35 84 04         A   624    	LD	BC,L__2
0438A1 C5                  A   625    	PUSH	BC
0438A2 CD 1D 58 04         A   626    	CALL	___print_sendstring
0438A6 C1                  A   627    	POP	BC
0438A7 DD31FA              A   628    	LD	IY,(IX+%FFFFFFFA)
0438AA FD0700              A   629    	LD	BC,(IY+%0)
0438AD C5                  A   630    	PUSH	BC
0438AE CD 1D 58 04         A   631    	CALL	___print_sendstring
0438B2 C1                  A   632    	POP	BC
0438B3 01 39 84 04         A   633    	LD	BC,L__3
0438B7 C5                  A   634    	PUSH	BC
0438B8 CD 1D 58 04         A   635    	CALL	___print_sendstring
0438BC C1                  A   636    	POP	BC
0438BD DD07FD              A   637    	LD	BC,(IX+%FFFFFFFD)
0438C0 03                  A   638    	INC	BC
0438C1 DD0FFD              A   639    	LD	(IX+%FFFFFFFD),BC
0438C4                     A   640    L_3:
0438C4 ED4B 1D FA 06       A   641    	LD	BC,(_localLabelCounter)
0438C9 CD CA 59 04         A   642    	CALL	__stoiu
0438CD E5C1                A   643    	LD	BC,HL
0438CF DD27FD              A   644    	LD	HL,(IX+%FFFFFFFD)
0438D2 B7                  A   645    	OR	A,A
0438D3 ED42                A   646    	SBC	HL,BC
0438D5 CD 38 57 04         A   647    	CALL	__setflag
0438D9 FA 5A 38 04         A   648    	JP	M,L_1
                           A   649    ;   32	}
                           A   650    .LINE 32
                           A   651    
0438DD DDF9                A   652    	LD	SP,IX
0438DF DDE1                A   653    	POP	IX
0438E1 C9                  A   654    	RET	
                           A   655    
                           A   656    
                           A   657    ;**************************** _printLocalLabelT
                           A   658    ;Name                         Addr/Register   S
                           A   659    ;__u_uitoa                           IMPORT  --
                           A   660    ;___print_fmt                        IMPORT    
                           A   661    ;_localLabelTable                    STATIC    
                           A   662    ;_localLabelCounter                  STATIC    
                           A   663    ;__u_itoa                            IMPORT  --
                           A   664    ;___print_sendstring                 IMPORT  --
                           A   665    ;___print_xputch                     IMPORT    
                           A   666    ;___print_uputch                     IMPORT  --
                           A   667    ;i                                     IX-3    
                           A   668    
                           A   669    
                           A   670    ; Stack Frame Size: 12 (bytes)
                           A   671    ;       Spill Code: 0 (instruction)
                           A   672    
                           A   673    
                           A   674    .ENDFUNC "printLocalLabelTable",32,"_printLocal
                           A   675    	SEGMENT STRSECT
048418                     A   676    L__0:
048418 0D0A                A   677    	DB	13,10
04841A 4C6F6361 6C207461   A   678    	DB	"Local table ("
048422 626C6520 28 
048427 00                  A   679    	DB	0
048428                     A   680    L__1:
048428 20656E74 72696573   A   681    	DB	" entries):"
048430 293A 
048432 0A0D00              A   682    	DB	10,13,0
048435                     A   683    L__2:
048435 202D20              A   684    	DB	" - "
048438 00                  A   685    	DB	0
048439                     A   686    L__3:
048439 0A0D00              A   687    	DB	10,13,0
                           A   688    	SEGMENT CODE
                           A   689    ;   33	uint16_t getGlobalLabelCount(void) {
0438E2                     A   690    _getGlobalLabelCount:
                           A   691    .DEFINE "_getGlobalLabelCount"
                           A   692    
                           A   693    .VALUE _getGlobalLabelCount
                           A   694    
                           A   695    .CLASS 2
                           A   696    
                           A   697    .TYPE 77
                           A   698    
                           A   699    .ENDEF
                           A   700    
                           A   701    .BEGFUNC "getGlobalLabelCount",33,"_getGlobalLa
                           A   702    
0438E2 DDE5                A   703    	PUSH	IX
0438E4 DD210000 00         A   704    	LD	IX,0
0438E9 DD39                A   705    	ADD	IX,SP
                           A   706    ;   34	    return globalLabelCounter;
                           A   707    .LINE 34
                           A   708    
0438EB 2A 9B F8 06         A   709    	LD	HL,(_globalLabelCounter)
                           A   710    ;   35	}
                           A   711    .LINE 35
                           A   712    
0438EF DDF9                A   713    	LD	SP,IX
0438F1 DDE1                A   714    	POP	IX
0438F3 C9                  A   715    	RET	
                           A   716    
                           A   717    
                           A   718    ;**************************** _getGlobalLabelCo
                           A   719    ;Name                         Addr/Register   S
                           A   720    ;_globalLabelCounter                 STATIC    
                           A   721    
                           A   722    
                           A   723    ; Stack Frame Size: 6 (bytes)
                           A   724    ;       Spill Code: 0 (instruction)
                           A   725    
                           A   726    
                           A   727    .ENDFUNC "getGlobalLabelCount",35,"_getGlobalLa
                           A   728    ;   36	uint16_t getLocalLabelCount(void) {
0438F4                     A   729    _getLocalLabelCount:
                           A   730    .DEFINE "_getLocalLabelCount"
                           A   731    
                           A   732    .VALUE _getLocalLabelCount
                           A   733    
                           A   734    .CLASS 2
                           A   735    
                           A   736    .TYPE 77
                           A   737    
                           A   738    .ENDEF
                           A   739    
                           A   740    .BEGFUNC "getLocalLabelCount",36,"_getLocalLabe
                           A   741    
0438F4 DDE5                A   742    	PUSH	IX
0438F6 DD210000 00         A   743    	LD	IX,0
0438FB DD39                A   744    	ADD	IX,SP
                           A   745    ;   37	    return localLabelCounter;
                           A   746    .LINE 37
                           A   747    
0438FD 2A 1D FA 06         A   748    	LD	HL,(_localLabelCounter)
                           A   749    ;   38	}
                           A   750    .LINE 38
                           A   751    
043901 DDF9                A   752    	LD	SP,IX
043903 DDE1                A   753    	POP	IX
043905 C9                  A   754    	RET	
                           A   755    
                           A   756    
                           A   757    ;**************************** _getLocalLabelCou
                           A   758    ;Name                         Addr/Register   S
                           A   759    ;_localLabelCounter                  STATIC    
                           A   760    
                           A   761    
                           A   762    ; Stack Frame Size: 6 (bytes)
                           A   763    ;       Spill Code: 0 (instruction)
                           A   764    
                           A   765    
                           A   766    .ENDFUNC "getLocalLabelCount",38,"_getLocalLabe
                           A   767    ;   39	void initGlobalLabelTable(void) {
043906                     A   768    _initGlobalLabelTable:
                           A   769    .DEFINE "_initGlobalLabelTable"
                           A   770    
                           A   771    .VALUE _initGlobalLabelTable
                           A   772    
                           A   773    .CLASS 2
                           A   774    
                           A   775    .TYPE 65
                           A   776    
                           A   777    .ENDEF
                           A   778    
                           A   779    .BEGFUNC "initGlobalLabelTable",39,"_initGlobal
                           A   780    
                           A   781    .LINE 39
                           A   782    
                           A   783    .DEFINE "i"
                           A   784    
                           A   785    .CLASS 65
                           A   786    
                           A   787    .VALUE -3
                           A   788    
                           A   789    .TYPE 4
                           A   790    
                           A   791    .ENDEF
                           A   792    
043906 DDE5                A   793    	PUSH	IX
043908 DD210000 00         A   794    	LD	IX,0
04390D DD39                A   795    	ADD	IX,SP
04390F C5                  A   796    	PUSH	BC
                           A   797    ;   40	    int i;
                           A   798    ;   41	
                           A   799    ;   42	    globalLabelBufferIndex = 0;
                           A   800    .LINE 42
                           A   801    
043910 21 97 98 06         A   802    	LD	HL,_globalLabelBufferIndex
043914 3600                A   803    	LD	(HL),%0
043916 23                  A   804    	INC	HL
043917 3600                A   805    	LD	(HL),%0
                           A   806    ;   43	    globalLabelCounter = 0;
                           A   807    .LINE 43
                           A   808    
043919 21 9B F8 06         A   809    	LD	HL,_globalLabelCounter
04391D 3600                A   810    	LD	(HL),%0
04391F 23                  A   811    	INC	HL
043920 3600                A   812    	LD	(HL),%0
                           A   813    ;   44	    for(i = 0; i < GLOBAL_LABEL_TABLE_S
                           A   814    .LINE 44
                           A   815    
043922 01000000            A   816    	LD	BC,0
043926 DD0FFD              A   817    	LD	(IX+%FFFFFFFD),BC
043929 18 19               A   818    	JR	L_10
04392B                     A   819    L_8:
                           A   820    ;   45	        globalLabelTable[i] = NULL;
                           A   821    .LINE 45
                           A   822    
04392B DD27FD              A   823    	LD	HL,(IX+%FFFFFFFD)
04392E E5C1                A   824    	LD	BC,HL
043930 29                  A   825    	ADD	HL,HL
043931 09                  A   826    	ADD	HL,BC
043932 01 9B 98 06         A   827    	LD	BC,_globalLabelTable
043936 09                  A   828    	ADD	HL,BC
043937 01000000            A   829    	LD	BC,0
04393B ED0F                A   830    	LD	(HL),BC
04393D DD07FD              A   831    	LD	BC,(IX+%FFFFFFFD)
043940 03                  A   832    	INC	BC
043941 DD0FFD              A   833    	LD	(IX+%FFFFFFFD),BC
                           A   834    ;   46	    }
043944                     A   835    L_10:
                           A   836    .LINE 46
                           A   837    
043944 01002000            A   838    	LD	BC,8192
043948 DD27FD              A   839    	LD	HL,(IX+%FFFFFFFD)
04394B B7                  A   840    	OR	A,A
04394C ED42                A   841    	SBC	HL,BC
04394E CD 38 57 04         A   842    	CALL	__setflag
043952 FA 2B 39 04         A   843    	JP	M,L_8
                           A   844    ;   47	}
                           A   845    .LINE 47
                           A   846    
043956 DDF9                A   847    	LD	SP,IX
043958 DDE1                A   848    	POP	IX
04395A C9                  A   849    	RET	
                           A   850    
                           A   851    
                           A   852    ;**************************** _initGlobalLabelT
                           A   853    ;Name                         Addr/Register   S
                           A   854    ;_globalLabelTable                   STATIC  24
                           A   855    ;_globalLabelCounter                 STATIC    
                           A   856    ;_globalLabelBufferIndex             STATIC    
                           A   857    ;i                                     IX-3    
                           A   858    
                           A   859    
                           A   860    ; Stack Frame Size: 9 (bytes)
                           A   861    ;       Spill Code: 0 (instruction)
                           A   862    
                           A   863    
                           A   864    .ENDFUNC "initGlobalLabelTable",47,"_initGlobal
                           A   865    ;   48	
                           A   866    ;   49	void initAnonymousLabelTable(void) {
04395B                     A   867    _initAnonymousLabelTable:
                           A   868    .DEFINE "_initAnonymousLabelTable"
                           A   869    
                           A   870    .VALUE _initAnonymousLabelTable
                           A   871    
                           A   872    .CLASS 2
                           A   873    
                           A   874    .TYPE 65
                           A   875    
                           A   876    .ENDEF
                           A   877    
                           A   878    .BEGFUNC "initAnonymousLabelTable",49,"_initAno
                           A   879    
04395B DDE5                A   880    	PUSH	IX
04395D DD210000 00         A   881    	LD	IX,0
043962 DD39                A   882    	ADD	IX,SP
                           A   883    ;   50	    an_prev.defined = false;
                           A   884    .LINE 50
                           A   885    
043964 AF                  A   886    	XOR	A,A
043965 32 89 88 04         A   887    	LD	(_an_prev),A
                           A   888    ;   51	    an_next.defined = false;
                           A   889    .LINE 51
                           A   890    
043969 AF                  A   891    	XOR	A,A
04396A 32 8D 88 04         A   892    	LD	(_an_next),A
                           A   893    ;   52	    an_return.name = NULL;
                           A   894    .LINE 52
                           A   895    
04396E 01000000            A   896    	LD	BC,0
043972 ED43 91 88 04       A   897    	LD	(_an_return),BC
                           A   898    ;   53	}
                           A   899    .LINE 53
                           A   900    
043977 DDF9                A   901    	LD	SP,IX
043979 DDE1                A   902    	POP	IX
04397B C9                  A   903    	RET	
                           A   904    
                           A   905    
                           A   906    ;**************************** _initAnonymousLab
                           A   907    ;Name                         Addr/Register   S
                           A   908    ;_an_return                          STATIC    
                           A   909    ;_an_next                            STATIC    
                           A   910    ;_an_prev                            STATIC    
                           A   911    
                           A   912    
                           A   913    ; Stack Frame Size: 6 (bytes)
                           A   914    ;       Spill Code: 0 (instruction)
                           A   915    
                           A   916    
                           A   917    .ENDFUNC "initAnonymousLabelTable",53,"_initAno
                           A   918    ;   54	
                           A   919    ;   55	void initLocalLabelTable(void) {
04397C                     A   920    _initLocalLabelTable:
                           A   921    .DEFINE "_initLocalLabelTable"
                           A   922    
                           A   923    .VALUE _initLocalLabelTable
                           A   924    
                           A   925    .CLASS 2
                           A   926    
                           A   927    .TYPE 65
                           A   928    
                           A   929    .ENDEF
                           A   930    
                           A   931    .BEGFUNC "initLocalLabelTable",55,"_initLocalLa
                           A   932    
                           A   933    .LINE 55
                           A   934    
                           A   935    .DEFINE "i"
                           A   936    
                           A   937    .CLASS 65
                           A   938    
                           A   939    .VALUE -3
                           A   940    
                           A   941    .TYPE 4
                           A   942    
                           A   943    .ENDEF
                           A   944    
04397C DDE5                A   945    	PUSH	IX
04397E DD210000 00         A   946    	LD	IX,0
043983 DD39                A   947    	ADD	IX,SP
043985 C5                  A   948    	PUSH	BC
                           A   949    ;   56	    int i;
                           A   950    ;   57	
                           A   951    ;   58	    localLabelBufferIndex = 0;
                           A   952    .LINE 58
                           A   953    
043986 21 99 98 06         A   954    	LD	HL,_localLabelBufferIndex
04398A 3600                A   955    	LD	(HL),%0
04398C 23                  A   956    	INC	HL
04398D 3600                A   957    	LD	(HL),%0
                           A   958    ;   59	    localLabelCounter = 0;
                           A   959    .LINE 59
                           A   960    
04398F 21 1D FA 06         A   961    	LD	HL,_localLabelCounter
043993 3600                A   962    	LD	(HL),%0
043995 23                  A   963    	INC	HL
043996 3600                A   964    	LD	(HL),%0
                           A   965    ;   60	    for(i = 0; i < LOCAL_LABEL_TABLE_SI
                           A   966    .LINE 60
                           A   967    
043998 01000000            A   968    	LD	BC,0
04399C DD0FFD              A   969    	LD	(IX+%FFFFFFFD),BC
04399F 18 1F               A   970    	JR	L_16
0439A1                     A   971    L_14:
                           A   972    ;   61	        localLabelTable[i].name = NULL;
                           A   973    .LINE 61
                           A   974    
0439A1 DD27FD              A   975    	LD	HL,(IX+%FFFFFFFD)
0439A4 E5C1                A   976    	LD	BC,HL
0439A6 29                  A   977    	ADD	HL,HL
0439A7 29                  A   978    	ADD	HL,HL
0439A8 09                  A   979    	ADD	HL,BC
0439A9 09                  A   980    	ADD	HL,BC
0439AA 01 9D F8 06         A   981    	LD	BC,_localLabelTable
0439AE 09                  A   982    	ADD	HL,BC
0439AF 01000000            A   983    	LD	BC,0
0439B3 E5FDE1              A   984    	LD	IY,HL
0439B6 FD0F00              A   985    	LD	(IY+%0),BC
0439B9 DD07FD              A   986    	LD	BC,(IX+%FFFFFFFD)
0439BC 03                  A   987    	INC	BC
0439BD DD0FFD              A   988    	LD	(IX+%FFFFFFFD),BC
                           A   989    ;   62	    }
0439C0                     A   990    L_16:
                           A   991    .LINE 62
                           A   992    
0439C0 01400000            A   993    	LD	BC,64
0439C4 DD27FD              A   994    	LD	HL,(IX+%FFFFFFFD)
0439C7 B7                  A   995    	OR	A,A
0439C8 ED42                A   996    	SBC	HL,BC
0439CA CD 38 57 04         A   997    	CALL	__setflag
0439CE FA A1 39 04         A   998    	JP	M,L_14
                           A   999    ;   63	}
                           A  1000    .LINE 63
                           A  1001    
0439D2 DDF9                A  1002    	LD	SP,IX
0439D4 DDE1                A  1003    	POP	IX
0439D6 C9                  A  1004    	RET	
                           A  1005    
                           A  1006    
                           A  1007    ;**************************** _initLocalLabelTa
                           A  1008    ;Name                         Addr/Register   S
                           A  1009    ;_localLabelTable                    STATIC    
                           A  1010    ;_localLabelCounter                  STATIC    
                           A  1011    ;_localLabelBufferIndex              STATIC    
                           A  1012    ;i                                     IX-3    
                           A  1013    
                           A  1014    
                           A  1015    ; Stack Frame Size: 9 (bytes)
                           A  1016    ;       Spill Code: 0 (instruction)
                           A  1017    
                           A  1018    
                           A  1019    .ENDFUNC "initLocalLabelTable",63,"_initLocalLa
                           A  1020    ;   64	
                           A  1021    ;   65	void clearLocalLabels(void) {
0439D7                     A  1022    _clearLocalLabels:
                           A  1023    .DEFINE "_clearLocalLabels"
                           A  1024    
                           A  1025    .VALUE _clearLocalLabels
                           A  1026    
                           A  1027    .CLASS 2
                           A  1028    
                           A  1029    .TYPE 65
                           A  1030    
                           A  1031    .ENDEF
                           A  1032    
                           A  1033    .BEGFUNC "clearLocalLabels",65,"_clearLocalLabe
                           A  1034    
0439D7 DDE5                A  1035    	PUSH	IX
0439D9 DD210000 00         A  1036    	LD	IX,0
0439DE DD39                A  1037    	ADD	IX,SP
                           A  1038    ;   66	    localLabelBufferIndex = 0;
                           A  1039    .LINE 66
                           A  1040    
0439E0 21 99 98 06         A  1041    	LD	HL,_localLabelBufferIndex
0439E4 3600                A  1042    	LD	(HL),%0
0439E6 23                  A  1043    	INC	HL
0439E7 3600                A  1044    	LD	(HL),%0
                           A  1045    ;   67	    localLabelCounter = 0;
                           A  1046    .LINE 67
                           A  1047    
0439E9 21 1D FA 06         A  1048    	LD	HL,_localLabelCounter
0439ED 3600                A  1049    	LD	(HL),%0
0439EF 23                  A  1050    	INC	HL
0439F0 3600                A  1051    	LD	(HL),%0
                           A  1052    ;   68	}
                           A  1053    .LINE 68
                           A  1054    
0439F2 DDF9                A  1055    	LD	SP,IX
0439F4 DDE1                A  1056    	POP	IX
0439F6 C9                  A  1057    	RET	
                           A  1058    
                           A  1059    
                           A  1060    ;**************************** _clearLocalLabels
                           A  1061    ;Name                         Addr/Register   S
                           A  1062    ;_localLabelCounter                  STATIC    
                           A  1063    ;_localLabelBufferIndex              STATIC    
                           A  1064    
                           A  1065    
                           A  1066    ; Stack Frame Size: 6 (bytes)
                           A  1067    ;       Spill Code: 0 (instruction)
                           A  1068    
                           A  1069    
                           A  1070    .ENDFUNC "clearLocalLabels",68,"_clearLocalLabe
                           A  1071    ;   69	
                           A  1072    ;   70	int findLocalLabelIndex(char *key) {
0439F7                     A  1073    _findLocalLabelIndex:
                           A  1074    .DEFINE "_findLocalLabelIndex"
                           A  1075    
                           A  1076    .VALUE _findLocalLabelIndex
                           A  1077    
                           A  1078    .CLASS 2
                           A  1079    
                           A  1080    .TYPE 68
                           A  1081    
                           A  1082    .ENDEF
                           A  1083    
                           A  1084    .BEGFUNC "findLocalLabelIndex",70,"_findLocalLa
                           A  1085    
                           A  1086    .LINE 70
                           A  1087    
                           A  1088    .DEFINE "key"
                           A  1089    
                           A  1090    .CLASS 65
                           A  1091    
                           A  1092    .VALUE 6
                           A  1093    
                           A  1094    .TYPE 34
                           A  1095    
                           A  1096    .ENDEF
                           A  1097    
                           A  1098    .DEFINE "lim"
                           A  1099    
                           A  1100    .CLASS 65
                           A  1101    
                           A  1102    .VALUE -3
                           A  1103    
                           A  1104    .TYPE 4
                           A  1105    
                           A  1106    .ENDEF
                           A  1107    
                           A  1108    .DEFINE "p"
                           A  1109    
                           A  1110    .CLASS 65
                           A  1111    
                           A  1112    .VALUE -6
                           A  1113    
                           A  1114    .TYPE 4
                           A  1115    
                           A  1116    .ENDEF
                           A  1117    
                           A  1118    .DEFINE "cmp"
                           A  1119    
                           A  1120    .CLASS 65
                           A  1121    
                           A  1122    .VALUE -9
                           A  1123    
                           A  1124    .TYPE 4
                           A  1125    
                           A  1126    .ENDEF
                           A  1127    
                           A  1128    .DEFINE "base"
                           A  1129    
                           A  1130    .CLASS 65
                           A  1131    
                           A  1132    .VALUE -12
                           A  1133    
                           A  1134    .TYPE 4
                           A  1135    
                           A  1136    .ENDEF
                           A  1137    
0439F7 DDE5                A  1138    	PUSH	IX
0439F9 DD210000 00         A  1139    	LD	IX,0
0439FE DD39                A  1140    	ADD	IX,SP
043A00 ED22F4              A  1141    	LEA	HL,IX+%FFFFFFF4
043A03 F9                  A  1142    	LD	SP,HL
                           A  1143    ;   71	    int base = 0;
                           A  1144    .LINE 71
                           A  1145    
043A04 01000000            A  1146    	LD	BC,0
043A08 DD0FF4              A  1147    	LD	(IX+%FFFFFFF4),BC
                           A  1148    ;   72		int lim, cmp;
                           A  1149    ;   73	    int p;
                           A  1150    ;   74	
                           A  1151    ;   75		for (lim = localLabelCounter; lim !
                           A  1152    .LINE 75
                           A  1153    
043A0B ED4B 1D FA 06       A  1154    	LD	BC,(_localLabelCounter)
043A10 CD CA 59 04         A  1155    	CALL	__stoiu
043A14 DD2FFD              A  1156    	LD	(IX+%FFFFFFFD),HL
043A17 18 65               A  1157    	JR	L_25
043A19                     A  1158    L_23:
                           A  1159    ;   76			p = base + (lim >> 1);
                           A  1160    .LINE 76
                           A  1161    
043A19 DD27FD              A  1162    	LD	HL,(IX+%FFFFFFFD)
043A1C 3E01                A  1163    	LD	A,%1
043A1E CD 7F 57 04         A  1164    	CALL	__ishrs_b
043A22 DD07F4              A  1165    	LD	BC,(IX+%FFFFFFF4)
043A25 09                  A  1166    	ADD	HL,BC
043A26 DD2FFA              A  1167    	LD	(IX+%FFFFFFFA),HL
                           A  1168    ;   77			cmp = strcmp(key,localLabelTabl
                           A  1169    .LINE 77
                           A  1170    
043A29 E5C1                A  1171    	LD	BC,HL
043A2B 29                  A  1172    	ADD	HL,HL
043A2C 29                  A  1173    	ADD	HL,HL
043A2D 09                  A  1174    	ADD	HL,BC
043A2E 09                  A  1175    	ADD	HL,BC
043A2F 01 9D F8 06         A  1176    	LD	BC,_localLabelTable
043A33 09                  A  1177    	ADD	HL,BC
043A34 E5FDE1              A  1178    	LD	IY,HL
043A37 FD0700              A  1179    	LD	BC,(IY+%0)
043A3A C5                  A  1180    	PUSH	BC
043A3B DD0706              A  1181    	LD	BC,(IX+%6)
043A3E C5                  A  1182    	PUSH	BC
043A3F CD 92 59 04         A  1183    	CALL	_strcmp
043A43 C1                  A  1184    	POP	BC
043A44 C1                  A  1185    	POP	BC
043A45 DD2FF7              A  1186    	LD	(IX+%FFFFFFF7),HL
                           A  1187    ;   78			if (cmp == 0)
                           A  1188    .LINE 78
                           A  1189    
043A48 CD C5 5D 04         A  1190    	CALL	__icmpzero
043A4C 20 05               A  1191    	JR	NZ,L_22
                           A  1192    ;   79				return p;
                           A  1193    .LINE 79
                           A  1194    
043A4E DD27FA              A  1195    	LD	HL,(IX+%FFFFFFFA)
043A51 18 38               A  1196    	JR	L_27
043A53                     A  1197    L_22:
                           A  1198    ;   80			if (cmp > 0) {
                           A  1199    .LINE 80
                           A  1200    
043A53 DD07F7              A  1201    	LD	BC,(IX+%FFFFFFF7)
043A56 B7                  A  1202    	OR	A,A
043A57 ED62                A  1203    	SBC	HL,HL
043A59 B7                  A  1204    	OR	A,A
043A5A ED42                A  1205    	SBC	HL,BC
043A5C CD 38 57 04         A  1206    	CALL	__setflag
043A60 F2 72 3A 04         A  1207    	JP	P,L_24
                           A  1208    ;   81				base = p + 1;
                           A  1209    .LINE 81
                           A  1210    
043A64 DD07FA              A  1211    	LD	BC,(IX+%FFFFFFFA)
043A67 03                  A  1212    	INC	BC
043A68 DD0FF4              A  1213    	LD	(IX+%FFFFFFF4),BC
                           A  1214    ;   82				lim--;
                           A  1215    .LINE 82
                           A  1216    
043A6B DD07FD              A  1217    	LD	BC,(IX+%FFFFFFFD)
043A6E 0B                  A  1218    	DEC	BC
043A6F DD0FFD              A  1219    	LD	(IX+%FFFFFFFD),BC
                           A  1220    ;   83			}
                           A  1221    ;   84		}
043A72                     A  1222    L_24:
                           A  1223    .LINE 84
                           A  1224    
043A72 DD27FD              A  1225    	LD	HL,(IX+%FFFFFFFD)
043A75 3E01                A  1226    	LD	A,%1
043A77 CD 7F 57 04         A  1227    	CALL	__ishrs_b
043A7B DD2FFD              A  1228    	LD	(IX+%FFFFFFFD),HL
043A7E                     A  1229    L_25:
043A7E DD27FD              A  1230    	LD	HL,(IX+%FFFFFFFD)
043A81 CD C5 5D 04         A  1231    	CALL	__icmpzero
043A85 20 92               A  1232    	JR	NZ,L_23
                           A  1233    ;   85		return (LOCAL_LABEL_TABLE_SIZE);
                           A  1234    .LINE 85
                           A  1235    
043A87 21400000            A  1236    	LD	HL,64
                           A  1237    ;   86	}
043A8B                     A  1238    L_27:
                           A  1239    .LINE 86
                           A  1240    
043A8B DDF9                A  1241    	LD	SP,IX
043A8D DDE1                A  1242    	POP	IX
043A8F C9                  A  1243    	RET	
                           A  1244    
                           A  1245    
                           A  1246    ;**************************** _findLocalLabelIn
                           A  1247    ;Name                         Addr/Register   S
                           A  1248    ;_localLabelTable                    STATIC    
                           A  1249    ;_strcmp                             IMPORT  --
                           A  1250    ;_localLabelCounter                  STATIC    
                           A  1251    ;base                                 IX-12    
                           A  1252    ;cmp                                   IX-9    
                           A  1253    ;p                                     IX-6    
                           A  1254    ;lim                                   IX-3    
                           A  1255    ;key                                   IX+6    
                           A  1256    
                           A  1257    
                           A  1258    ; Stack Frame Size: 21 (bytes)
                           A  1259    ;       Spill Code: 0 (instruction)
                           A  1260    
                           A  1261    
                           A  1262    .ENDFUNC "findLocalLabelIndex",86,"_findLocalLa
                           A  1263    ;   87	
                           A  1264    ;   88	label * findLocalLabel(char *key){
043A90                     A  1265    _findLocalLabel:
                           A  1266    .DEFINE "_findLocalLabel"
                           A  1267    
                           A  1268    .VALUE _findLocalLabel
                           A  1269    
                           A  1270    .CLASS 2
                           A  1271    
                           A  1272    .TAG "NONAME0"
                           A  1273    
                           A  1274    .TYPE 328
                           A  1275    
                           A  1276    .ENDEF
                           A  1277    
                           A  1278    .BEGFUNC "findLocalLabel",88,"_findLocalLabel"
                           A  1279    
                           A  1280    .LINE 88
                           A  1281    
                           A  1282    .DEFINE "key"
                           A  1283    
                           A  1284    .CLASS 65
                           A  1285    
                           A  1286    .VALUE 6
                           A  1287    
                           A  1288    .TYPE 34
                           A  1289    
                           A  1290    .ENDEF
                           A  1291    
                           A  1292    .DEFINE "p"
                           A  1293    
                           A  1294    .CLASS 65
                           A  1295    
                           A  1296    .VALUE -3
                           A  1297    
                           A  1298    .TYPE 4
                           A  1299    
                           A  1300    .ENDEF
                           A  1301    
043A90 DDE5                A  1302    	PUSH	IX
043A92 DD210000 00         A  1303    	LD	IX,0
043A97 DD39                A  1304    	ADD	IX,SP
043A99 C5                  A  1305    	PUSH	BC
                           A  1306    ;   89	    int p = findLocalLabelIndex(key);
                           A  1307    .LINE 89
                           A  1308    
043A9A DD0706              A  1309    	LD	BC,(IX+%6)
043A9D C5                  A  1310    	PUSH	BC
043A9E CD F7 39 04         A  1311    	CALL	_findLocalLabelIndex
043AA2 C1                  A  1312    	POP	BC
043AA3 DD2FFD              A  1313    	LD	(IX+%FFFFFFFD),HL
                           A  1314    ;   90	    if(p < LOCAL_LABEL_TABLE_SIZE) retu
                           A  1315    .LINE 90
                           A  1316    
043AA6 01400000            A  1317    	LD	BC,64
043AAA DD27FD              A  1318    	LD	HL,(IX+%FFFFFFFD)
043AAD B7                  A  1319    	OR	A,A
043AAE ED42                A  1320    	SBC	HL,BC
043AB0 CD 38 57 04         A  1321    	CALL	__setflag
043AB4 F2 C8 3A 04         A  1322    	JP	P,L_29
043AB8 DD27FD              A  1323    	LD	HL,(IX+%FFFFFFFD)
043ABB E5C1                A  1324    	LD	BC,HL
043ABD 29                  A  1325    	ADD	HL,HL
043ABE 29                  A  1326    	ADD	HL,HL
043ABF 09                  A  1327    	ADD	HL,BC
043AC0 09                  A  1328    	ADD	HL,BC
043AC1 01 9D F8 06         A  1329    	LD	BC,_localLabelTable
043AC5 09                  A  1330    	ADD	HL,BC
043AC6 18 03               A  1331    	JR	L_30
                           A  1332    ;   91	    else return NULL;
043AC8                     A  1333    L_29:
                           A  1334    .LINE 91
                           A  1335    
043AC8 B7                  A  1336    	OR	A,A
043AC9 ED62                A  1337    	SBC	HL,HL
                           A  1338    ;   92	}
043ACB                     A  1339    L_30:
                           A  1340    .LINE 92
                           A  1341    
043ACB DDF9                A  1342    	LD	SP,IX
043ACD DDE1                A  1343    	POP	IX
043ACF C9                  A  1344    	RET	
                           A  1345    
                           A  1346    
                           A  1347    ;**************************** _findLocalLabel *
                           A  1348    ;Name                         Addr/Register   S
                           A  1349    ;_localLabelTable                    STATIC    
                           A  1350    ;p                                     IX-3    
                           A  1351    ;key                                   IX+6    
                           A  1352    
                           A  1353    
                           A  1354    ; Stack Frame Size: 12 (bytes)
                           A  1355    ;       Spill Code: 0 (instruction)
                           A  1356    
                           A  1357    
                           A  1358    .ENDFUNC "findLocalLabel",92,"_findLocalLabel"
                           A  1359    ;   93	
                           A  1360    ;   94	/*
                           A  1361    ;   95	size_t agon_specialfwrite(void *ptr, si
                           A  1362    ;   96	    size_t n, s, result = 0;
                           A  1363    ;   97	    char *target = (char *)ptr;
                           A  1364    ;   98	
                           A  1365    ;   99	    printf("\r\n");
                           A  1366    ;  100	    for(n = 0; n < nmemb; n++) {
                           A  1367    ;  101	        for(s = 0; s < size; s++) {
                           A  1368    ;  102	            //mos_fputc(filehandle[file
                           A  1369    ;  103	            printf("%02x:",*target);
                           A  1370    ;  104	            target++;
                           A  1371    ;  105	            result++;
                           A  1372    ;  106	        }
                           A  1373    ;  107	    }
                           A  1374    ;  108	    printf("\r\n");
                           A  1375    ;  109	
                           A  1376    ;  110	    return result;
                           A  1377    ;  111	}*/
                           A  1378    ;  112	void writeLocalLabels(void) {
043AD0                     A  1379    _writeLocalLabels:
                           A  1380    .DEFINE "_writeLocalLabels"
                           A  1381    
                           A  1382    .VALUE _writeLocalLabels
                           A  1383    
                           A  1384    .CLASS 2
                           A  1385    
                           A  1386    .TYPE 65
                           A  1387    
                           A  1388    .ENDEF
                           A  1389    
                           A  1390    .BEGFUNC "writeLocalLabels",112,"_writeLocalLab
                           A  1391    
                           A  1392    .LINE 112
                           A  1393    
                           A  1394    .DEFINE "i"
                           A  1395    
                           A  1396    .CLASS 65
                           A  1397    
                           A  1398    .VALUE -3
                           A  1399    
                           A  1400    .TYPE 4
                           A  1401    
                           A  1402    .ENDEF
                           A  1403    
                           A  1404    .DEFINE "delta"
                           A  1405    
                           A  1406    .CLASS 65
                           A  1407    
                           A  1408    .VALUE -5
                           A  1409    
                           A  1410    .TYPE 13
                           A  1411    
                           A  1412    .ENDEF
                           A  1413    
043AD0 DDE5                A  1414    	PUSH	IX
043AD2 DD210000 00         A  1415    	LD	IX,0
043AD7 DD39                A  1416    	ADD	IX,SP
043AD9 C5                  A  1417    	PUSH	BC
043ADA C5                  A  1418    	PUSH	BC
                           A  1419    ;  113	    int i;
                           A  1420    ;  114	    uint16_t delta;
                           A  1421    ;  115	    // number of bytes in the string bu
                           A  1422    ;  116	    agon_fwrite(&localLabelBufferIndex,
                           A  1423    .LINE 116
                           A  1424    
043ADB 01030000            A  1425    	LD	BC,3
043ADF C5                  A  1426    	PUSH	BC
043AE0 01010000            A  1427    	LD	BC,1
043AE4 C5                  A  1428    	PUSH	BC
043AE5 01020000            A  1429    	LD	BC,2
043AE9 C5                  A  1430    	PUSH	BC
043AEA 01 99 98 06         A  1431    	LD	BC,_localLabelBufferIndex
043AEE C5                  A  1432    	PUSH	BC
043AEF DD77FA              A  1433    	LD	(IX+%FFFFFFFA),A
043AF2 CD 64 55 04         A  1434    	CALL	_agon_fwrite
043AF6 DD7EFA              A  1435    	LD	A,(IX+%FFFFFFFA)
043AF9 C1                  A  1436    	POP	BC
043AFA C1                  A  1437    	POP	BC
043AFB C1                  A  1438    	POP	BC
043AFC C1                  A  1439    	POP	BC
                           A  1440    ;  117	    // the actual bytes from the string
                           A  1441    ;  118	    if(localLabelBufferIndex) agon_fwri
                           A  1442    .LINE 118
                           A  1443    
043AFD 2A 99 98 06         A  1444    	LD	HL,(_localLabelBufferIndex)
043B01 CD 35 61 04         A  1445    	CALL	__scmpzero
043B05 28 27               A  1446    	JR	Z,L_32
043B07 01030000            A  1447    	LD	BC,3
043B0B C5                  A  1448    	PUSH	BC
043B0C 01010000            A  1449    	LD	BC,1
043B10 C5                  A  1450    	PUSH	BC
043B11 ED4B 99 98 06       A  1451    	LD	BC,(_localLabelBufferIndex)
043B16 CD CA 59 04         A  1452    	CALL	__stoiu
043B1A E5                  A  1453    	PUSH	HL
043B1B 01 97 88 06         A  1454    	LD	BC,_localLabelBuffer
043B1F C5                  A  1455    	PUSH	BC
043B20 DD77FA              A  1456    	LD	(IX+%FFFFFFFA),A
043B23 CD 64 55 04         A  1457    	CALL	_agon_fwrite
043B27 DD7EFA              A  1458    	LD	A,(IX+%FFFFFFFA)
043B2A C1                  A  1459    	POP	BC
043B2B C1                  A  1460    	POP	BC
043B2C C1                  A  1461    	POP	BC
043B2D C1                  A  1462    	POP	BC
043B2E                     A  1463    L_32:
                           A  1464    ;  119	    // the number of labels
                           A  1465    ;  120	    agon_fwrite(&localLabelCounter, siz
                           A  1466    .LINE 120
                           A  1467    
043B2E 01030000            A  1468    	LD	BC,3
043B32 C5                  A  1469    	PUSH	BC
043B33 01010000            A  1470    	LD	BC,1
043B37 C5                  A  1471    	PUSH	BC
043B38 01020000            A  1472    	LD	BC,2
043B3C C5                  A  1473    	PUSH	BC
043B3D 01 1D FA 06         A  1474    	LD	BC,_localLabelCounter
043B41 C5                  A  1475    	PUSH	BC
043B42 DD77FA              A  1476    	LD	(IX+%FFFFFFFA),A
043B45 CD 64 55 04         A  1477    	CALL	_agon_fwrite
043B49 DD7EFA              A  1478    	LD	A,(IX+%FFFFFFFA)
043B4C C1                  A  1479    	POP	BC
043B4D C1                  A  1480    	POP	BC
043B4E C1                  A  1481    	POP	BC
043B4F C1                  A  1482    	POP	BC
                           A  1483    ;  121	    for(i = 0; i < localLabelCounter; i
                           A  1484    .LINE 121
                           A  1485    
043B50 01000000            A  1486    	LD	BC,0
043B54 DD0FFD              A  1487    	LD	(IX+%FFFFFFFD),BC
043B57 18 79               A  1488    	JR	L_36
043B59                     A  1489    L_34:
                           A  1490    ;  122	        delta = localLabelTable[i].name
                           A  1491    .LINE 122
                           A  1492    
043B59 DD27FD              A  1493    	LD	HL,(IX+%FFFFFFFD)
043B5C E5C1                A  1494    	LD	BC,HL
043B5E 29                  A  1495    	ADD	HL,HL
043B5F 29                  A  1496    	ADD	HL,HL
043B60 09                  A  1497    	ADD	HL,BC
043B61 09                  A  1498    	ADD	HL,BC
043B62 01 9D F8 06         A  1499    	LD	BC,_localLabelTable
043B66 09                  A  1500    	ADD	HL,BC
043B67 E5FDE1              A  1501    	LD	IY,HL
043B6A FD2700              A  1502    	LD	HL,(IY+%0)
043B6D 01 97 88 06         A  1503    	LD	BC,_localLabelBuffer
043B71 B7                  A  1504    	OR	A,A
043B72 ED42                A  1505    	SBC	HL,BC
043B74 DD75FB              A  1506    	LD	(IX+%FFFFFFFB),L
043B77 DD74FC              A  1507    	LD	(IX+%FFFFFFFC),H
                           A  1508    ;  123	        agon_fwrite(&delta, sizeof(delt
                           A  1509    .LINE 123
                           A  1510    
043B7A 01030000            A  1511    	LD	BC,3
043B7E C5                  A  1512    	PUSH	BC
043B7F 01010000            A  1513    	LD	BC,1
043B83 C5                  A  1514    	PUSH	BC
043B84 01020000            A  1515    	LD	BC,2
043B88 C5                  A  1516    	PUSH	BC
043B89 ED65FB              A  1517    	PEA	IX+%FFFFFFFB
043B8C DD77FA              A  1518    	LD	(IX+%FFFFFFFA),A
043B8F CD 64 55 04         A  1519    	CALL	_agon_fwrite
043B93 DD7EFA              A  1520    	LD	A,(IX+%FFFFFFFA)
043B96 C1                  A  1521    	POP	BC
043B97 C1                  A  1522    	POP	BC
043B98 C1                  A  1523    	POP	BC
043B99 C1                  A  1524    	POP	BC
                           A  1525    ;  124	        agon_fwrite(&localLabelTable[i]
                           A  1526    .LINE 124
                           A  1527    
043B9A 01030000            A  1528    	LD	BC,3
043B9E C5                  A  1529    	PUSH	BC
043B9F 01010000            A  1530    	LD	BC,1
043BA3 C5                  A  1531    	PUSH	BC
043BA4 01040000            A  1532    	LD	BC,4
043BA8 C5                  A  1533    	PUSH	BC
043BA9 DD27FD              A  1534    	LD	HL,(IX+%FFFFFFFD)
043BAC E5C1                A  1535    	LD	BC,HL
043BAE 29                  A  1536    	ADD	HL,HL
043BAF 29                  A  1537    	ADD	HL,HL
043BB0 09                  A  1538    	ADD	HL,BC
043BB1 09                  A  1539    	ADD	HL,BC
043BB2 01 9D F8 06         A  1540    	LD	BC,_localLabelTable
043BB6 09                  A  1541    	ADD	HL,BC
043BB7 E5FDE1              A  1542    	LD	IY,HL
043BBA ED6603              A  1543    	PEA	IY+%3
043BBD DD77FA              A  1544    	LD	(IX+%FFFFFFFA),A
043BC0 CD 64 55 04         A  1545    	CALL	_agon_fwrite
043BC4 DD7EFA              A  1546    	LD	A,(IX+%FFFFFFFA)
043BC7 C1                  A  1547    	POP	BC
043BC8 C1                  A  1548    	POP	BC
043BC9 C1                  A  1549    	POP	BC
043BCA C1                  A  1550    	POP	BC
043BCB DD07FD              A  1551    	LD	BC,(IX+%FFFFFFFD)
043BCE 03                  A  1552    	INC	BC
043BCF DD0FFD              A  1553    	LD	(IX+%FFFFFFFD),BC
                           A  1554    ;  125	        //printf("W: index %d, counter 
                           A  1555    ;  126	    }
043BD2                     A  1556    L_36:
                           A  1557    .LINE 126
                           A  1558    
043BD2 ED4B 1D FA 06       A  1559    	LD	BC,(_localLabelCounter)
043BD7 CD CA 59 04         A  1560    	CALL	__stoiu
043BDB E5C1                A  1561    	LD	BC,HL
043BDD DD27FD              A  1562    	LD	HL,(IX+%FFFFFFFD)
043BE0 B7                  A  1563    	OR	A,A
043BE1 ED42                A  1564    	SBC	HL,BC
043BE3 CD 38 57 04         A  1565    	CALL	__setflag
043BE7 FA 59 3B 04         A  1566    	JP	M,L_34
                           A  1567    ;  127	}
                           A  1568    .LINE 127
                           A  1569    
043BEB DDF9                A  1570    	LD	SP,IX
043BED DDE1                A  1571    	POP	IX
043BEF C9                  A  1572    	RET	
                           A  1573    
                           A  1574    
                           A  1575    ;**************************** _writeLocalLabels
                           A  1576    ;Name                         Addr/Register   S
                           A  1577    ;_localLabelTable                    STATIC    
                           A  1578    ;_localLabelCounter                  STATIC    
                           A  1579    ;_localLabelBuffer                   STATIC   4
                           A  1580    ;_localLabelBufferIndex              STATIC    
                           A  1581    ;_agon_fwrite                        IMPORT  --
                           A  1582    ;delta                                 IX-5    
                           A  1583    ;i                                     IX-3    
                           A  1584    
                           A  1585    
                           A  1586    ; Stack Frame Size: 12 (bytes)
                           A  1587    ;       Spill Code: 0 (instruction)
                           A  1588    
                           A  1589    
                           A  1590    .ENDFUNC "writeLocalLabels",127,"_writeLocalLab
                           A  1591    ;  128	
                           A  1592    ;  129	void readLocalLabels(void) {
043BF0                     A  1593    _readLocalLabels:
                           A  1594    .DEFINE "_readLocalLabels"
                           A  1595    
                           A  1596    .VALUE _readLocalLabels
                           A  1597    
                           A  1598    .CLASS 2
                           A  1599    
                           A  1600    .TYPE 65
                           A  1601    
                           A  1602    .ENDEF
                           A  1603    
                           A  1604    .BEGFUNC "readLocalLabels",129,"_readLocalLabel
                           A  1605    
                           A  1606    .LINE 129
                           A  1607    
                           A  1608    .DEFINE "i"
                           A  1609    
                           A  1610    .CLASS 65
                           A  1611    
                           A  1612    .VALUE -3
                           A  1613    
                           A  1614    .TYPE 4
                           A  1615    
                           A  1616    .ENDEF
                           A  1617    
                           A  1618    .DEFINE "delta"
                           A  1619    
                           A  1620    .CLASS 65
                           A  1621    
                           A  1622    .VALUE -5
                           A  1623    
                           A  1624    .TYPE 13
                           A  1625    
                           A  1626    .ENDEF
                           A  1627    
043BF0 DDE5                A  1628    	PUSH	IX
043BF2 DD210000 00         A  1629    	LD	IX,0
043BF7 DD39                A  1630    	ADD	IX,SP
043BF9 C5                  A  1631    	PUSH	BC
043BFA 3B                  A  1632    	DEC	SP
043BFB 3B                  A  1633    	DEC	SP
                           A  1634    ;  130	    int i;
                           A  1635    ;  131	    uint16_t delta;
                           A  1636    ;  132	
                           A  1637    ;  133	    agon_fread(&localLabelBufferIndex, 
                           A  1638    .LINE 133
                           A  1639    
043BFC 01030000            A  1640    	LD	BC,3
043C00 C5                  A  1641    	PUSH	BC
043C01 01010000            A  1642    	LD	BC,1
043C05 C5                  A  1643    	PUSH	BC
043C06 01020000            A  1644    	LD	BC,2
043C0A C5                  A  1645    	PUSH	BC
043C0B 01 99 98 06         A  1646    	LD	BC,_localLabelBufferIndex
043C0F C5                  A  1647    	PUSH	BC
043C10 CD E7 55 04         A  1648    	CALL	_agon_fread
043C14 C1                  A  1649    	POP	BC
043C15 C1                  A  1650    	POP	BC
043C16 C1                  A  1651    	POP	BC
043C17 C1                  A  1652    	POP	BC
                           A  1653    ;  134	    if(localLabelBufferIndex) agon_frea
                           A  1654    .LINE 134
                           A  1655    
043C18 2A 99 98 06         A  1656    	LD	HL,(_localLabelBufferIndex)
043C1C CD 35 61 04         A  1657    	CALL	__scmpzero
043C20 28 21               A  1658    	JR	Z,L_39
043C22 01030000            A  1659    	LD	BC,3
043C26 C5                  A  1660    	PUSH	BC
043C27 01010000            A  1661    	LD	BC,1
043C2B C5                  A  1662    	PUSH	BC
043C2C ED4B 99 98 06       A  1663    	LD	BC,(_localLabelBufferIndex)
043C31 CD CA 59 04         A  1664    	CALL	__stoiu
043C35 E5                  A  1665    	PUSH	HL
043C36 01 97 88 06         A  1666    	LD	BC,_localLabelBuffer
043C3A C5                  A  1667    	PUSH	BC
043C3B CD E7 55 04         A  1668    	CALL	_agon_fread
043C3F C1                  A  1669    	POP	BC
043C40 C1                  A  1670    	POP	BC
043C41 C1                  A  1671    	POP	BC
043C42 C1                  A  1672    	POP	BC
043C43                     A  1673    L_39:
                           A  1674    ;  135	    agon_fread(&localLabelCounter, size
                           A  1675    .LINE 135
                           A  1676    
043C43 01030000            A  1677    	LD	BC,3
043C47 C5                  A  1678    	PUSH	BC
043C48 01010000            A  1679    	LD	BC,1
043C4C C5                  A  1680    	PUSH	BC
043C4D 01020000            A  1681    	LD	BC,2
043C51 C5                  A  1682    	PUSH	BC
043C52 01 1D FA 06         A  1683    	LD	BC,_localLabelCounter
043C56 C5                  A  1684    	PUSH	BC
043C57 CD E7 55 04         A  1685    	CALL	_agon_fread
043C5B C1                  A  1686    	POP	BC
043C5C C1                  A  1687    	POP	BC
043C5D C1                  A  1688    	POP	BC
043C5E C1                  A  1689    	POP	BC
                           A  1690    ;  136	    for(i = 0; i < localLabelCounter; i
                           A  1691    .LINE 136
                           A  1692    
043C5F 01000000            A  1693    	LD	BC,0
043C63 DD0FFD              A  1694    	LD	(IX+%FFFFFFFD),BC
043C66 18 72               A  1695    	JR	L_43
043C68                     A  1696    L_41:
                           A  1697    ;  137	        agon_fread(&delta, sizeof(delta
                           A  1698    .LINE 137
                           A  1699    
043C68 01030000            A  1700    	LD	BC,3
043C6C C5                  A  1701    	PUSH	BC
043C6D 01010000            A  1702    	LD	BC,1
043C71 C5                  A  1703    	PUSH	BC
043C72 01020000            A  1704    	LD	BC,2
043C76 C5                  A  1705    	PUSH	BC
043C77 ED65FB              A  1706    	PEA	IX+%FFFFFFFB
043C7A CD E7 55 04         A  1707    	CALL	_agon_fread
043C7E C1                  A  1708    	POP	BC
043C7F C1                  A  1709    	POP	BC
043C80 C1                  A  1710    	POP	BC
043C81 C1                  A  1711    	POP	BC
                           A  1712    ;  138	        agon_fread(&localLabelTable[i].
                           A  1713    .LINE 138
                           A  1714    
043C82 01030000            A  1715    	LD	BC,3
043C86 C5                  A  1716    	PUSH	BC
043C87 01010000            A  1717    	LD	BC,1
043C8B C5                  A  1718    	PUSH	BC
043C8C 01040000            A  1719    	LD	BC,4
043C90 C5                  A  1720    	PUSH	BC
043C91 DD27FD              A  1721    	LD	HL,(IX+%FFFFFFFD)
043C94 E5C1                A  1722    	LD	BC,HL
043C96 29                  A  1723    	ADD	HL,HL
043C97 29                  A  1724    	ADD	HL,HL
043C98 09                  A  1725    	ADD	HL,BC
043C99 09                  A  1726    	ADD	HL,BC
043C9A 01 9D F8 06         A  1727    	LD	BC,_localLabelTable
043C9E 09                  A  1728    	ADD	HL,BC
043C9F E5FDE1              A  1729    	LD	IY,HL
043CA2 ED6603              A  1730    	PEA	IY+%3
043CA5 CD E7 55 04         A  1731    	CALL	_agon_fread
043CA9 C1                  A  1732    	POP	BC
043CAA C1                  A  1733    	POP	BC
043CAB C1                  A  1734    	POP	BC
043CAC C1                  A  1735    	POP	BC
                           A  1736    ;  139	        localLabelTable[i].name = local
                           A  1737    .LINE 139
                           A  1738    
043CAD DD07FB              A  1739    	LD	BC,(IX+%FFFFFFFB)
043CB0 CD CA 59 04         A  1740    	CALL	__stoiu
043CB4 E5D1                A  1741    	LD	DE,HL
043CB6 DD31FD              A  1742    	LD	IY,(IX+%FFFFFFFD)
043CB9 FDE5C1              A  1743    	LD	BC,IY
043CBC FDE5E1              A  1744    	LD	HL,IY
043CBF 29                  A  1745    	ADD	HL,HL
043CC0 29                  A  1746    	ADD	HL,HL
043CC1 09                  A  1747    	ADD	HL,BC
043CC2 09                  A  1748    	ADD	HL,BC
043CC3 01 9D F8 06         A  1749    	LD	BC,_localLabelTable
043CC7 09                  A  1750    	ADD	HL,BC
043CC8 E5FDE1              A  1751    	LD	IY,HL
043CCB 21 97 88 06         A  1752    	LD	HL,_localLabelBuffer
043CCF 19                  A  1753    	ADD	HL,DE
043CD0 FD2F00              A  1754    	LD	(IY+%0),HL
043CD3 DD07FD              A  1755    	LD	BC,(IX+%FFFFFFFD)
043CD6 03                  A  1756    	INC	BC
043CD7 DD0FFD              A  1757    	LD	(IX+%FFFFFFFD),BC
                           A  1758    ;  140	        //printf("R: index %d, counter 
                           A  1759    ;  141	        //printf("R: index %d, counter 
                           A  1760    ;  142	    }
043CDA                     A  1761    L_43:
                           A  1762    .LINE 142
                           A  1763    
043CDA ED4B 1D FA 06       A  1764    	LD	BC,(_localLabelCounter)
043CDF CD CA 59 04         A  1765    	CALL	__stoiu
043CE3 E5C1                A  1766    	LD	BC,HL
043CE5 DD27FD              A  1767    	LD	HL,(IX+%FFFFFFFD)
043CE8 B7                  A  1768    	OR	A,A
043CE9 ED42                A  1769    	SBC	HL,BC
043CEB CD 38 57 04         A  1770    	CALL	__setflag
043CEF FA 68 3C 04         A  1771    	JP	M,L_41
                           A  1772    ;  143	}
                           A  1773    .LINE 143
                           A  1774    
043CF3 DDF9                A  1775    	LD	SP,IX
043CF5 DDE1                A  1776    	POP	IX
043CF7 C9                  A  1777    	RET	
                           A  1778    
                           A  1779    
                           A  1780    ;**************************** _readLocalLabels 
                           A  1781    ;Name                         Addr/Register   S
                           A  1782    ;_localLabelTable                    STATIC    
                           A  1783    ;_localLabelCounter                  STATIC    
                           A  1784    ;_localLabelBuffer                   STATIC   4
                           A  1785    ;_localLabelBufferIndex              STATIC    
                           A  1786    ;_agon_fread                         IMPORT  --
                           A  1787    ;delta                                 IX-5    
                           A  1788    ;i                                     IX-3    
                           A  1789    
                           A  1790    
                           A  1791    ; Stack Frame Size: 11 (bytes)
                           A  1792    ;       Spill Code: 0 (instruction)
                           A  1793    
                           A  1794    
                           A  1795    .ENDFUNC "readLocalLabels",143,"_readLocalLabel
                           A  1796    ;  144	
                           A  1797    ;  145	void writeAnonymousLabel(int24_t addres
043CF8                     A  1798    _writeAnonymousLabel:
                           A  1799    .DEFINE "_writeAnonymousLabel"
                           A  1800    
                           A  1801    .VALUE _writeAnonymousLabel
                           A  1802    
                           A  1803    .CLASS 2
                           A  1804    
                           A  1805    .TYPE 65
                           A  1806    
                           A  1807    .ENDEF
                           A  1808    
                           A  1809    .BEGFUNC "writeAnonymousLabel",145,"_writeAnony
                           A  1810    
                           A  1811    .LINE 145
                           A  1812    
                           A  1813    .DEFINE "address"
                           A  1814    
                           A  1815    .CLASS 65
                           A  1816    
                           A  1817    .VALUE 6
                           A  1818    
                           A  1819    .TYPE 4
                           A  1820    
                           A  1821    .ENDEF
                           A  1822    
043CF8 DDE5                A  1823    	PUSH	IX
043CFA DD210000 00         A  1824    	LD	IX,0
043CFF DD39                A  1825    	ADD	IX,SP
                           A  1826    ;  146	    agon_fwrite(&address, 1, sizeof(add
                           A  1827    .LINE 146
                           A  1828    
043D01 01040000            A  1829    	LD	BC,4
043D05 C5                  A  1830    	PUSH	BC
043D06 01030000            A  1831    	LD	BC,3
043D0A C5                  A  1832    	PUSH	BC
043D0B 01010000            A  1833    	LD	BC,1
043D0F C5                  A  1834    	PUSH	BC
043D10 ED6506              A  1835    	PEA	IX+%6
043D13 CD 64 55 04         A  1836    	CALL	_agon_fwrite
043D17 C1                  A  1837    	POP	BC
043D18 C1                  A  1838    	POP	BC
043D19 C1                  A  1839    	POP	BC
043D1A C1                  A  1840    	POP	BC
                           A  1841    ;  147	}
                           A  1842    .LINE 147
                           A  1843    
043D1B DDF9                A  1844    	LD	SP,IX
043D1D DDE1                A  1845    	POP	IX
043D1F C9                  A  1846    	RET	
                           A  1847    
                           A  1848    
                           A  1849    ;**************************** _writeAnonymousLa
                           A  1850    ;Name                         Addr/Register   S
                           A  1851    ;_agon_fwrite                        IMPORT  --
                           A  1852    ;address                               IX+6    
                           A  1853    
                           A  1854    
                           A  1855    ; Stack Frame Size: 9 (bytes)
                           A  1856    ;       Spill Code: 0 (instruction)
                           A  1857    
                           A  1858    
                           A  1859    .ENDFUNC "writeAnonymousLabel",147,"_writeAnony
                           A  1860    ;  148	
                           A  1861    ;  149	void readAnonymousLabel(void) {
043D20                     A  1862    _readAnonymousLabel:
                           A  1863    .DEFINE "_readAnonymousLabel"
                           A  1864    
                           A  1865    .VALUE _readAnonymousLabel
                           A  1866    
                           A  1867    .CLASS 2
                           A  1868    
                           A  1869    .TYPE 65
                           A  1870    
                           A  1871    .ENDEF
                           A  1872    
                           A  1873    .BEGFUNC "readAnonymousLabel",149,"_readAnonymo
                           A  1874    
                           A  1875    .LINE 149
                           A  1876    
                           A  1877    .DEFINE "address"
                           A  1878    
                           A  1879    .CLASS 65
                           A  1880    
                           A  1881    .VALUE -3
                           A  1882    
                           A  1883    .TYPE 4
                           A  1884    
                           A  1885    .ENDEF
                           A  1886    
043D20 DDE5                A  1887    	PUSH	IX
043D22 DD210000 00         A  1888    	LD	IX,0
043D27 DD39                A  1889    	ADD	IX,SP
043D29 C5                  A  1890    	PUSH	BC
                           A  1891    ;  150	    int24_t address;
                           A  1892    ;  151	
                           A  1893    ;  152	    if(agon_fread(&address, sizeof(addr
                           A  1894    .LINE 152
                           A  1895    
043D2A 01040000            A  1896    	LD	BC,4
043D2E C5                  A  1897    	PUSH	BC
043D2F 01010000            A  1898    	LD	BC,1
043D33 C5                  A  1899    	PUSH	BC
043D34 01030000            A  1900    	LD	BC,3
043D38 C5                  A  1901    	PUSH	BC
043D39 ED65FD              A  1902    	PEA	IX+%FFFFFFFD
043D3C CD E7 55 04         A  1903    	CALL	_agon_fread
043D40 C1                  A  1904    	POP	BC
043D41 C1                  A  1905    	POP	BC
043D42 C1                  A  1906    	POP	BC
043D43 C1                  A  1907    	POP	BC
043D44 CD C5 5D 04         A  1908    	CALL	__icmpzero
043D48 28 27               A  1909    	JR	Z,L_49
                           A  1910    ;  153	        if(an_next.defined) {
                           A  1911    .LINE 153
                           A  1912    
043D4A 3A 8D 88 04         A  1913    	LD	A,(_an_next)
043D4E B7                  A  1914    	OR	A,A
043D4F 28 10               A  1915    	JR	Z,L_47
                           A  1916    ;  154	            an_prev.address = an_next.a
                           A  1917    .LINE 154
                           A  1918    
043D51 ED4B 8E 88 04       A  1919    	LD	BC,(_an_next+1)
043D56 ED43 8A 88 04       A  1920    	LD	(_an_prev+1),BC
                           A  1921    ;  155	            an_prev.defined = true;
                           A  1922    .LINE 155
                           A  1923    
043D5B 3E01                A  1924    	LD	A,%1
043D5D 32 89 88 04         A  1925    	LD	(_an_prev),A
                           A  1926    ;  156	        }
043D61                     A  1927    L_47:
                           A  1928    .LINE 156
                           A  1929    
                           A  1930    ;  157	        an_next.address = address;
                           A  1931    .LINE 157
                           A  1932    
043D61 DD07FD              A  1933    	LD	BC,(IX+%FFFFFFFD)
043D64 ED43 8E 88 04       A  1934    	LD	(_an_next+1),BC
                           A  1935    ;  158	        an_next.defined = true;        
                           A  1936    .LINE 158
                           A  1937    
043D69 3E01                A  1938    	LD	A,%1
043D6B 32 8D 88 04         A  1939    	LD	(_an_next),A
                           A  1940    ;  159	    }
                           A  1941    ;  160	    else { // last label already read
                           A  1942    .LINE 160
                           A  1943    
043D6F 18 15               A  1944    	JR	L_50
043D71                     A  1945    L_49:
                           A  1946    ;  161	        an_prev.address = an_next.addre
                           A  1947    .LINE 161
                           A  1948    
043D71 ED4B 8E 88 04       A  1949    	LD	BC,(_an_next+1)
043D76 ED43 8A 88 04       A  1950    	LD	(_an_prev+1),BC
                           A  1951    ;  162	        an_prev.defined = true;
                           A  1952    .LINE 162
                           A  1953    
043D7B 3E01                A  1954    	LD	A,%1
043D7D 32 89 88 04         A  1955    	LD	(_an_prev),A
                           A  1956    ;  163	        an_next.defined = false;
                           A  1957    .LINE 163
                           A  1958    
043D81 AF                  A  1959    	XOR	A,A
043D82 32 8D 88 04         A  1960    	LD	(_an_next),A
                           A  1961    ;  164	    }
                           A  1962    ;  165	}
043D86                     A  1963    L_50:
                           A  1964    .LINE 165
                           A  1965    
043D86 DDF9                A  1966    	LD	SP,IX
043D88 DDE1                A  1967    	POP	IX
043D8A C9                  A  1968    	RET	
                           A  1969    
                           A  1970    
                           A  1971    ;**************************** _readAnonymousLab
                           A  1972    ;Name                         Addr/Register   S
                           A  1973    ;_an_prev                            STATIC    
                           A  1974    ;_an_next                            STATIC    
                           A  1975    ;_agon_fread                         IMPORT  --
                           A  1976    ;address                               IX-3    
                           A  1977    
                           A  1978    
                           A  1979    ; Stack Frame Size: 9 (bytes)
                           A  1980    ;       Spill Code: 0 (instruction)
                           A  1981    
                           A  1982    
                           A  1983    .ENDFUNC "readAnonymousLabel",165,"_readAnonymo
                           A  1984    ;  166	
                           A  1985    ;  167	bool insertLocalLabel(char *labelname, 
043D8B                     A  1986    _insertLocalLabel:
                           A  1987    .DEFINE "_insertLocalLabel"
                           A  1988    
                           A  1989    .VALUE _insertLocalLabel
                           A  1990    
                           A  1991    .CLASS 2
                           A  1992    
                           A  1993    .TYPE 76
                           A  1994    
                           A  1995    .ENDEF
                           A  1996    
                           A  1997    .BEGFUNC "insertLocalLabel",167,"_insertLocalLa
                           A  1998    
                           A  1999    .LINE 167
                           A  2000    
                           A  2001    .DEFINE "labelname"
                           A  2002    
                           A  2003    .CLASS 65
                           A  2004    
                           A  2005    .VALUE 6
                           A  2006    
                           A  2007    .TYPE 34
                           A  2008    
                           A  2009    .ENDEF
                           A  2010    
                           A  2011    .DEFINE "address"
                           A  2012    
                           A  2013    .CLASS 65
                           A  2014    
                           A  2015    .VALUE 9
                           A  2016    
                           A  2017    .TYPE 4
                           A  2018    
                           A  2019    .ENDEF
                           A  2020    
                           A  2021    .DEFINE "i"
                           A  2022    
                           A  2023    .CLASS 65
                           A  2024    
                           A  2025    .VALUE -3
                           A  2026    
                           A  2027    .TYPE 4
                           A  2028    
                           A  2029    .ENDEF
                           A  2030    
                           A  2031    .DEFINE "ptr"
                           A  2032    
                           A  2033    .CLASS 65
                           A  2034    
                           A  2035    .VALUE -6
                           A  2036    
                           A  2037    .TYPE 34
                           A  2038    
                           A  2039    .ENDEF
                           A  2040    
                           A  2041    .DEFINE "len"
                           A  2042    
                           A  2043    .CLASS 65
                           A  2044    
                           A  2045    .VALUE -9
                           A  2046    
                           A  2047    .TYPE 4
                           A  2048    
                           A  2049    .ENDEF
                           A  2050    
                           A  2051    .DEFINE "old_address"
                           A  2052    
                           A  2053    .CLASS 65
                           A  2054    
                           A  2055    .VALUE -12
                           A  2056    
                           A  2057    .TYPE 4
                           A  2058    
                           A  2059    .ENDEF
                           A  2060    
                           A  2061    .DEFINE "p"
                           A  2062    
                           A  2063    .CLASS 65
                           A  2064    
                           A  2065    .VALUE -15
                           A  2066    
                           A  2067    .TYPE 4
                           A  2068    
                           A  2069    .ENDEF
                           A  2070    
                           A  2071    .DEFINE "old_name"
                           A  2072    
                           A  2073    .CLASS 65
                           A  2074    
                           A  2075    .VALUE -18
                           A  2076    
                           A  2077    .TYPE 34
                           A  2078    
                           A  2079    .ENDEF
                           A  2080    
043D8B DDE5                A  2081    	PUSH	IX
043D8D DD210000 00         A  2082    	LD	IX,0
043D92 DD39                A  2083    	ADD	IX,SP
043D94 ED22EB              A  2084    	LEA	HL,IX+%FFFFFFEB
043D97 F9                  A  2085    	LD	SP,HL
                           A  2086    ;  168	    int len,i;
                           A  2087    ;  169	    int p;
                           A  2088    ;  170	    char *ptr;
                           A  2089    ;  171	    char *old_name;
                           A  2090    ;  172	    int24_t old_address;
                           A  2091    ;  173	
                           A  2092    ;  174	    if(labelname[1] == 0) {
                           A  2093    .LINE 174
                           A  2094    
043D98 DD2706              A  2095    	LD	HL,(IX+%6)
043D9B 23                  A  2096    	INC	HL
043D9C 7E                  A  2097    	LD	A,(HL)
043D9D B7                  A  2098    	OR	A,A
043D9E 20 11               A  2099    	JR	NZ,L_52
                           A  2100    ;  175	        error(message[ERROR_INVALIDLABE
                           A  2101    .LINE 175
                           A  2102    
043DA0 21 4E 64 04         A  2103    	LD	HL,_message+12
043DA4 ED07                A  2104    	LD	BC,(HL)
043DA6 C5                  A  2105    	PUSH	BC
043DA7 CD DC 4B 04         A  2106    	CALL	_error
043DAB C1                  A  2107    	POP	BC
                           A  2108    ;  176	        return false;
                           A  2109    .LINE 176
                           A  2110    
043DAC AF                  A  2111    	XOR	A,A
043DAD C3 6A 3F 04         A  2112    	JR	L_73
                           A  2113    ;  177	    }
043DB1                     A  2114    L_52:
                           A  2115    .LINE 177
                           A  2116    
                           A  2117    ;  178	    p = findLocalLabelIndex(labelname);
                           A  2118    .LINE 178
                           A  2119    
043DB1 DD0706              A  2120    	LD	BC,(IX+%6)
043DB4 C5                  A  2121    	PUSH	BC
043DB5 CD F7 39 04         A  2122    	CALL	_findLocalLabelIndex
043DB9 C1                  A  2123    	POP	BC
043DBA DD2FF1              A  2124    	LD	(IX+%FFFFFFF1),HL
                           A  2125    ;  179	
                           A  2126    ;  180	    if(p >= LOCAL_LABEL_TABLE_SIZE) {
                           A  2127    .LINE 180
                           A  2128    
043DBD 01400000            A  2129    	LD	BC,64
043DC1 DD27F1              A  2130    	LD	HL,(IX+%FFFFFFF1)
043DC4 B7                  A  2131    	OR	A,A
043DC5 ED42                A  2132    	SBC	HL,BC
043DC7 FA 5D 3F 04         A  2133    	JP	M,L_71
                           A  2134    ;  181	        if(localLabelCounter < LOCAL_LA
                           A  2135    .LINE 181
                           A  2136    
043DCB 49014000            A  2137    	LD.LIS	BC,64
043DCF 2A 1D FA 06         A  2138    	LD	HL,(_localLabelCounter)
043DD3 B7                  A  2139    	OR	A,A
043DD4 40ED42              A  2140    	SBC.SIS	HL,BC
043DD7 D2 4F 3F 04         A  2141    	JR	NC,L_69
                           A  2142    ;  182	            len = strlen(labelname);
                           A  2143    .LINE 182
                           A  2144    
043DDB DD0706              A  2145    	LD	BC,(IX+%6)
043DDE C5                  A  2146    	PUSH	BC
043DDF CD 41 5A 04         A  2147    	CALL	_strlen
043DE3 C1                  A  2148    	POP	BC
043DE4 DD2FF7              A  2149    	LD	(IX+%FFFFFFF7),HL
                           A  2150    ;  183	            // check space first
                           A  2151    ;  184	            if((localLabelBufferIndex +
                           A  2152    .LINE 184
                           A  2153    
043DE7 ED4B 99 98 06       A  2154    	LD	BC,(_localLabelBufferIndex)
043DEC CD CA 59 04         A  2155    	CALL	__stoiu
043DF0 DD07F7              A  2156    	LD	BC,(IX+%FFFFFFF7)
043DF3 09                  A  2157    	ADD	HL,BC
043DF4 E5C1                A  2158    	LD	BC,HL
043DF6 03                  A  2159    	INC	BC
043DF7 21FF0F00            A  2160    	LD	HL,4095
043DFB B7                  A  2161    	OR	A,A
043DFC ED42                A  2162    	SBC	HL,BC
043DFE CD 38 57 04         A  2163    	CALL	__setflag
043E02 F2 0B 3E 04         A  2164    	JP	P,L_54
                           A  2165    ;  185	                return false; // no mor
                           A  2166    .LINE 185
                           A  2167    
043E06 AF                  A  2168    	XOR	A,A
043E07 C3 6A 3F 04         A  2169    	JR	L_73
043E0B                     A  2170    L_54:
                           A  2171    ;  186	            // allocate space in buffer
                           A  2172    ;  187	            ptr = &localLabelBuffer[loc
                           A  2173    .LINE 187
                           A  2174    
043E0B ED4B 99 98 06       A  2175    	LD	BC,(_localLabelBufferIndex)
043E10 CD CA 59 04         A  2176    	CALL	__stoiu
043E14 01 97 88 06         A  2177    	LD	BC,_localLabelBuffer
043E18 09                  A  2178    	ADD	HL,BC
043E19 DD2FFA              A  2179    	LD	(IX+%FFFFFFFA),HL
                           A  2180    ;  188	            localLabelBufferIndex += le
                           A  2181    .LINE 188
                           A  2182    
043E1C DD07F7              A  2183    	LD	BC,(IX+%FFFFFFF7)
043E1F 2A 99 98 06         A  2184    	LD	HL,(_localLabelBufferIndex)
043E23 4009                A  2185    	ADD.SIS	HL,BC
043E25 23                  A  2186    	INC	HL
043E26 E5C1                A  2187    	LD	BC,HL
043E28 21 99 98 06         A  2188    	LD	HL,_localLabelBufferIndex
043E2C 71                  A  2189    	LD	(HL),C
043E2D 23                  A  2190    	INC	HL
043E2E 70                  A  2191    	LD	(HL),B
                           A  2192    ;  189	            strcpy(ptr, labelname);
                           A  2193    .LINE 189
                           A  2194    
043E2F DD0706              A  2195    	LD	BC,(IX+%6)
043E32 C5                  A  2196    	PUSH	BC
043E33 DD07FA              A  2197    	LD	BC,(IX+%FFFFFFFA)
043E36 C5                  A  2198    	PUSH	BC
043E37 CD 09 61 04         A  2199    	CALL	_strcpy
043E3B C1                  A  2200    	POP	BC
043E3C C1                  A  2201    	POP	BC
                           A  2202    ;  190	
                           A  2203    ;  191	            for(i = 0; i < localLabelCo
                           A  2204    .LINE 191
                           A  2205    
043E3D 01000000            A  2206    	LD	BC,0
043E41 DD0FFD              A  2207    	LD	(IX+%FFFFFFFD),BC
043E44 18 32               A  2208    	JR	L_59
043E46                     A  2209    L_57:
                           A  2210    ;  192	                if(strcmp(labelname, lo
                           A  2211    .LINE 192
                           A  2212    
043E46 DD27FD              A  2213    	LD	HL,(IX+%FFFFFFFD)
043E49 E5C1                A  2214    	LD	BC,HL
043E4B 29                  A  2215    	ADD	HL,HL
043E4C 29                  A  2216    	ADD	HL,HL
043E4D 09                  A  2217    	ADD	HL,BC
043E4E 09                  A  2218    	ADD	HL,BC
043E4F 01 9D F8 06         A  2219    	LD	BC,_localLabelTable
043E53 09                  A  2220    	ADD	HL,BC
043E54 E5FDE1              A  2221    	LD	IY,HL
043E57 FD0700              A  2222    	LD	BC,(IY+%0)
043E5A C5                  A  2223    	PUSH	BC
043E5B DD0706              A  2224    	LD	BC,(IX+%6)
043E5E C5                  A  2225    	PUSH	BC
043E5F CD 92 59 04         A  2226    	CALL	_strcmp
043E63 C1                  A  2227    	POP	BC
043E64 C1                  A  2228    	POP	BC
043E65 CD C5 5D 04         A  2229    	CALL	__icmpzero
043E69 CD 38 57 04         A  2230    	CALL	__setflag
043E6D FA 91 3E 04         A  2231    	JP	M,L_65
043E71 DD07FD              A  2232    	LD	BC,(IX+%FFFFFFFD)
043E74 03                  A  2233    	INC	BC
043E75 DD0FFD              A  2234    	LD	(IX+%FFFFFFFD),BC
                           A  2235    ;  193	            }
043E78                     A  2236    L_59:
                           A  2237    .LINE 193
                           A  2238    
043E78 ED4B 1D FA 06       A  2239    	LD	BC,(_localLabelCounter)
043E7D CD CA 59 04         A  2240    	CALL	__stoiu
043E81 E5C1                A  2241    	LD	BC,HL
043E83 DD27FD              A  2242    	LD	HL,(IX+%FFFFFFFD)
043E86 B7                  A  2243    	OR	A,A
043E87 ED42                A  2244    	SBC	HL,BC
043E89 CD 38 57 04         A  2245    	CALL	__setflag
043E8D FA 46 3E 04         A  2246    	JP	M,L_57
043E91                     A  2247    L_65:
                           A  2248    ;  194	            if(i < localLabelCounter) {
                           A  2249    .LINE 194
                           A  2250    
043E91 ED4B 1D FA 06       A  2251    	LD	BC,(_localLabelCounter)
043E96 CD CA 59 04         A  2252    	CALL	__stoiu
043E9A E5C1                A  2253    	LD	BC,HL
043E9C DD27FD              A  2254    	LD	HL,(IX+%FFFFFFFD)
043E9F B7                  A  2255    	OR	A,A
043EA0 ED42                A  2256    	SBC	HL,BC
043EA2 CD 38 57 04         A  2257    	CALL	__setflag
043EA6 FA EB 3E 04         A  2258    	JP	M,L_63
043EAA 18 58               A  2259    	JR	L_66
                           A  2260    ;  195	                for(; i < localLabelCou
043EAC                     A  2261    L_61:
                           A  2262    .LINE 195
                           A  2263    
                           A  2264    ;  196	                    old_name = localLab
                           A  2265    .LINE 196
                           A  2266    
043EAC DD27FD              A  2267    	LD	HL,(IX+%FFFFFFFD)
043EAF E5C1                A  2268    	LD	BC,HL
043EB1 29                  A  2269    	ADD	HL,HL
043EB2 29                  A  2270    	ADD	HL,HL
043EB3 09                  A  2271    	ADD	HL,BC
043EB4 09                  A  2272    	ADD	HL,BC
043EB5 01 9D F8 06         A  2273    	LD	BC,_localLabelTable
043EB9 09                  A  2274    	ADD	HL,BC
043EBA DD2FEB              A  2275    	LD	(IX+%FFFFFFEB),HL
043EBD DD31EB              A  2276    	LD	IY,(IX+%FFFFFFEB)
043EC0 FD0700              A  2277    	LD	BC,(IY+%0)
043EC3 DD0FEE              A  2278    	LD	(IX+%FFFFFFEE),BC
                           A  2279    ;  197	                    old_address = local
                           A  2280    .LINE 197
                           A  2281    
043EC6 FD0703              A  2282    	LD	BC,(IY+%3)
043EC9 DD0FF4              A  2283    	LD	(IX+%FFFFFFF4),BC
                           A  2284    ;  198	                    localLabelTable[i].
                           A  2285    .LINE 198
                           A  2286    
043ECC DD07FA              A  2287    	LD	BC,(IX+%FFFFFFFA)
043ECF FD0F00              A  2288    	LD	(IY+%0),BC
                           A  2289    ;  199	                    localLabelTable[i].
                           A  2290    .LINE 199
                           A  2291    
043ED2 DD0709              A  2292    	LD	BC,(IX+%9)
043ED5 FD0F03              A  2293    	LD	(IY+%3),BC
                           A  2294    ;  200	                    ptr = old_name;
                           A  2295    .LINE 200
                           A  2296    
043ED8 DD07EE              A  2297    	LD	BC,(IX+%FFFFFFEE)
043EDB DD0FFA              A  2298    	LD	(IX+%FFFFFFFA),BC
                           A  2299    ;  201	                    address = old_addre
                           A  2300    .LINE 201
                           A  2301    
043EDE DD07F4              A  2302    	LD	BC,(IX+%FFFFFFF4)
043EE1 DD0F09              A  2303    	LD	(IX+%9),BC
043EE4 DD07FD              A  2304    	LD	BC,(IX+%FFFFFFFD)
043EE7 03                  A  2305    	INC	BC
043EE8 DD0FFD              A  2306    	LD	(IX+%FFFFFFFD),BC
                           A  2307    ;  202	                }
043EEB                     A  2308    L_63:
                           A  2309    .LINE 202
                           A  2310    
043EEB ED4B 1D FA 06       A  2311    	LD	BC,(_localLabelCounter)
043EF0 CD CA 59 04         A  2312    	CALL	__stoiu
043EF4 E5C1                A  2313    	LD	BC,HL
043EF6 DD27FD              A  2314    	LD	HL,(IX+%FFFFFFFD)
043EF9 B7                  A  2315    	OR	A,A
043EFA ED42                A  2316    	SBC	HL,BC
043EFC CD 38 57 04         A  2317    	CALL	__setflag
043F00 FA AC 3E 04         A  2318    	JP	M,L_61
                           A  2319    ;  203	            }
043F04                     A  2320    L_66:
                           A  2321    .LINE 203
                           A  2322    
                           A  2323    ;  204	            localLabelTable[localLabelC
                           A  2324    .LINE 204
                           A  2325    
043F04 ED4B 1D FA 06       A  2326    	LD	BC,(_localLabelCounter)
043F09 CD CA 59 04         A  2327    	CALL	__stoiu
043F0D E5C1                A  2328    	LD	BC,HL
043F0F 29                  A  2329    	ADD	HL,HL
043F10 29                  A  2330    	ADD	HL,HL
043F11 09                  A  2331    	ADD	HL,BC
043F12 09                  A  2332    	ADD	HL,BC
043F13 01 9D F8 06         A  2333    	LD	BC,_localLabelTable
043F17 09                  A  2334    	ADD	HL,BC
043F18 DD07FA              A  2335    	LD	BC,(IX+%FFFFFFFA)
043F1B E5FDE1              A  2336    	LD	IY,HL
043F1E FD0F00              A  2337    	LD	(IY+%0),BC
                           A  2338    ;  205	            localLabelTable[localLabelC
                           A  2339    .LINE 205
                           A  2340    
043F21 ED4B 1D FA 06       A  2341    	LD	BC,(_localLabelCounter)
043F26 CD CA 59 04         A  2342    	CALL	__stoiu
043F2A E5C1                A  2343    	LD	BC,HL
043F2C 29                  A  2344    	ADD	HL,HL
043F2D 29                  A  2345    	ADD	HL,HL
043F2E 09                  A  2346    	ADD	HL,BC
043F2F 09                  A  2347    	ADD	HL,BC
043F30 01 9D F8 06         A  2348    	LD	BC,_localLabelTable
043F34 09                  A  2349    	ADD	HL,BC
043F35 DD0709              A  2350    	LD	BC,(IX+%9)
043F38 E5FDE1              A  2351    	LD	IY,HL
043F3B FD0F03              A  2352    	LD	(IY+%3),BC
                           A  2353    ;  206	            localLabelCounter++;
                           A  2354    .LINE 206
                           A  2355    
043F3E ED4B 1D FA 06       A  2356    	LD	BC,(_localLabelCounter)
043F43 03                  A  2357    	INC	BC
043F44 21 1D FA 06         A  2358    	LD	HL,_localLabelCounter
043F48 71                  A  2359    	LD	(HL),C
043F49 23                  A  2360    	INC	HL
043F4A 70                  A  2361    	LD	(HL),B
                           A  2362    ;  207	            return true;
                           A  2363    .LINE 207
                           A  2364    
043F4B 3E01                A  2365    	LD	A,%1
043F4D 18 1B               A  2366    	JR	L_73
                           A  2367    ;  208	        }
                           A  2368    ;  209	        else error(message[ERROR_MAXLOC
043F4F                     A  2369    L_69:
                           A  2370    .LINE 209
                           A  2371    
043F4F 21 A5 64 04         A  2372    	LD	HL,_message+99
043F53 ED07                A  2373    	LD	BC,(HL)
043F55 C5                  A  2374    	PUSH	BC
043F56 CD DC 4B 04         A  2375    	CALL	_error
043F5A C1                  A  2376    	POP	BC
                           A  2377    ;  210	    }
                           A  2378    ;  211	    else error(message[ERROR_LABELDEFIN
                           A  2379    .LINE 211
                           A  2380    
043F5B 18 0C               A  2381    	JR	L_72
043F5D                     A  2382    L_71:
043F5D 21 A2 64 04         A  2383    	LD	HL,_message+96
043F61 ED07                A  2384    	LD	BC,(HL)
043F63 C5                  A  2385    	PUSH	BC
043F64 CD DC 4B 04         A  2386    	CALL	_error
043F68 C1                  A  2387    	POP	BC
043F69                     A  2388    L_72:
                           A  2389    ;  212	    return false;
                           A  2390    .LINE 212
                           A  2391    
043F69 AF                  A  2392    	XOR	A,A
                           A  2393    ;  213	}
043F6A                     A  2394    L_73:
                           A  2395    .LINE 213
                           A  2396    
043F6A DDF9                A  2397    	LD	SP,IX
043F6C DDE1                A  2398    	POP	IX
043F6E C9                  A  2399    	RET	
                           A  2400    
                           A  2401    
                           A  2402    ;**************************** _insertLocalLabel
                           A  2403    ;Name                         Addr/Register   S
                           A  2404    ;_localLabelTable                    STATIC    
                           A  2405    ;_strcmp                             IMPORT  --
                           A  2406    ;_strcpy                             IMPORT  --
                           A  2407    ;_localLabelBuffer                   STATIC   4
                           A  2408    ;_localLabelBufferIndex              STATIC    
                           A  2409    ;_strlen                             IMPORT  --
                           A  2410    ;_localLabelCounter                  STATIC    
                           A  2411    ;_message                            IMPORT  un
                           A  2412    ;_error                              IMPORT  --
                           A  2413    ;old_name                             IX-18    
                           A  2414    ;p                                    IX-15    
                           A  2415    ;old_address                          IX-12    
                           A  2416    ;len                                   IX-9    
                           A  2417    ;ptr                                   IX-6    
                           A  2418    ;i                                     IX-3    
                           A  2419    ;address                               IX+9    
                           A  2420    ;labelname                             IX+6    
                           A  2421    
                           A  2422    
                           A  2423    ; Stack Frame Size: 33 (bytes)
                           A  2424    ;       Spill Code: 0 (instruction)
                           A  2425    
                           A  2426    
                           A  2427    .ENDFUNC "insertLocalLabel",213,"_insertLocalLa
                           A  2428    ;  214	
                           A  2429    ;  215	bool insertGlobalLabel(char *labelname,
043F6F                     A  2430    _insertGlobalLabel:
                           A  2431    .DEFINE "_insertGlobalLabel"
                           A  2432    
                           A  2433    .VALUE _insertGlobalLabel
                           A  2434    
                           A  2435    .CLASS 2
                           A  2436    
                           A  2437    .TYPE 76
                           A  2438    
                           A  2439    .ENDEF
                           A  2440    
                           A  2441    .BEGFUNC "insertGlobalLabel",215,"_insertGlobal
                           A  2442    
                           A  2443    .LINE 215
                           A  2444    
                           A  2445    .DEFINE "labelname"
                           A  2446    
                           A  2447    .CLASS 65
                           A  2448    
                           A  2449    .VALUE 6
                           A  2450    
                           A  2451    .TYPE 34
                           A  2452    
                           A  2453    .ENDEF
                           A  2454    
                           A  2455    .DEFINE "address"
                           A  2456    
                           A  2457    .CLASS 65
                           A  2458    
                           A  2459    .VALUE 9
                           A  2460    
                           A  2461    .TYPE 4
                           A  2462    
                           A  2463    .ENDEF
                           A  2464    
                           A  2465    .DEFINE "i"
                           A  2466    
                           A  2467    .CLASS 65
                           A  2468    
                           A  2469    .VALUE -3
                           A  2470    
                           A  2471    .TYPE 4
                           A  2472    
                           A  2473    .ENDEF
                           A  2474    
                           A  2475    .DEFINE "tmp"
                           A  2476    
                           A  2477    .CLASS 65
                           A  2478    
                           A  2479    .VALUE -6
                           A  2480    
                           A  2481    .TAG "NONAME0"
                           A  2482    
                           A  2483    .TYPE 40
                           A  2484    
                           A  2485    .ENDEF
                           A  2486    
                           A  2487    .DEFINE "len"
                           A  2488    
                           A  2489    .CLASS 65
                           A  2490    
                           A  2491    .VALUE -9
                           A  2492    
                           A  2493    .TYPE 4
                           A  2494    
                           A  2495    .ENDEF
                           A  2496    
                           A  2497    .DEFINE "try"
                           A  2498    
                           A  2499    .CLASS 65
                           A  2500    
                           A  2501    .VALUE -15
                           A  2502    
                           A  2503    .TYPE 4
                           A  2504    
                           A  2505    .ENDEF
                           A  2506    
                           A  2507    .DEFINE "index"
                           A  2508    
                           A  2509    .CLASS 65
                           A  2510    
                           A  2511    .VALUE -18
                           A  2512    
                           A  2513    .TYPE 4
                           A  2514    
                           A  2515    .ENDEF
                           A  2516    
043F6F DDE5                A  2517    	PUSH	IX
043F71 DD210000 00         A  2518    	LD	IX,0
043F76 DD39                A  2519    	ADD	IX,SP
043F78 ED22EE              A  2520    	LEA	HL,IX+%FFFFFFEE
043F7B F9                  A  2521    	LD	SP,HL
                           A  2522    ;  216	    int index,i,try,len;
                           A  2523    ;  217	    label *tmp;
                           A  2524    ;  218	
                           A  2525    ;  219	    len = strlen(labelname);
                           A  2526    .LINE 219
                           A  2527    
043F7C DD0706              A  2528    	LD	BC,(IX+%6)
043F7F C5                  A  2529    	PUSH	BC
043F80 CD 41 5A 04         A  2530    	CALL	_strlen
043F84 C1                  A  2531    	POP	BC
043F85 DD2FF7              A  2532    	LD	(IX+%FFFFFFF7),HL
                           A  2533    ;  220	    // check space first
                           A  2534    ;  221	    if((globalLabelBufferIndex + len + 
                           A  2535    .LINE 221
                           A  2536    
043F88 ED4B 97 98 06       A  2537    	LD	BC,(_globalLabelBufferIndex)
043F8D CD CA 59 04         A  2538    	CALL	__stoiu
043F91 DD07F7              A  2539    	LD	BC,(IX+%FFFFFFF7)
043F94 09                  A  2540    	ADD	HL,BC
043F95 E5FDE1              A  2541    	LD	IY,HL
043F98 ED0307              A  2542    	LEA	BC,IY+%7
043F9B 21FF1F00            A  2543    	LD	HL,8191
043F9F B7                  A  2544    	OR	A,A
043FA0 ED42                A  2545    	SBC	HL,BC
043FA2 30 05               A  2546    	JR	NC,L_75
                           A  2547    ;  222	        return false; // no more space 
                           A  2548    .LINE 222
                           A  2549    
043FA4 AF                  A  2550    	XOR	A,A
043FA5 C3 7B 40 04         A  2551    	JR	L_83
043FA9                     A  2552    L_75:
                           A  2553    ;  223	    // allocate space in buffer for lab
                           A  2554    ;  224	    tmp = (label *)&globalLabelBuffer[g
                           A  2555    .LINE 224
                           A  2556    
043FA9 ED4B 97 98 06       A  2557    	LD	BC,(_globalLabelBufferIndex)
043FAE CD CA 59 04         A  2558    	CALL	__stoiu
043FB2 01 97 88 04         A  2559    	LD	BC,_globalLabelBuffer
043FB6 09                  A  2560    	ADD	HL,BC
043FB7 DD2FFA              A  2561    	LD	(IX+%FFFFFFFA),HL
                           A  2562    ;  225	    globalLabelBufferIndex += sizeof(la
                           A  2563    .LINE 225
                           A  2564    
043FBA FD2A 97 98 06       A  2565    	LD	IY,(_globalLabelBufferIndex)
043FBF ED0306              A  2566    	LEA	BC,IY+%6
043FC2 21 97 98 06         A  2567    	LD	HL,_globalLabelBufferIndex
043FC6 71                  A  2568    	LD	(HL),C
043FC7 23                  A  2569    	INC	HL
043FC8 70                  A  2570    	LD	(HL),B
                           A  2571    ;  226	    // allocate space in buffer for str
                           A  2572    ;  227	    tmp->name = &globalLabelBuffer[glob
                           A  2573    .LINE 227
                           A  2574    
043FC9 ED4B 97 98 06       A  2575    	LD	BC,(_globalLabelBufferIndex)
043FCE CD CA 59 04         A  2576    	CALL	__stoiu
043FD2 01 97 88 04         A  2577    	LD	BC,_globalLabelBuffer
043FD6 09                  A  2578    	ADD	HL,BC
043FD7 DD31FA              A  2579    	LD	IY,(IX+%FFFFFFFA)
043FDA FD2F00              A  2580    	LD	(IY+%0),HL
                           A  2581    ;  228	    globalLabelBufferIndex += len+1;
                           A  2582    .LINE 228
                           A  2583    
043FDD DD07F7              A  2584    	LD	BC,(IX+%FFFFFFF7)
043FE0 2A 97 98 06         A  2585    	LD	HL,(_globalLabelBufferIndex)
043FE4 4009                A  2586    	ADD.SIS	HL,BC
043FE6 23                  A  2587    	INC	HL
043FE7 E5C1                A  2588    	LD	BC,HL
043FE9 21 97 98 06         A  2589    	LD	HL,_globalLabelBufferIndex
043FED 71                  A  2590    	LD	(HL),C
043FEE 23                  A  2591    	INC	HL
043FEF 70                  A  2592    	LD	(HL),B
                           A  2593    ;  229	    strcpy(tmp->name, labelname);
                           A  2594    .LINE 229
                           A  2595    
043FF0 DD0706              A  2596    	LD	BC,(IX+%6)
043FF3 C5                  A  2597    	PUSH	BC
043FF4 FD0700              A  2598    	LD	BC,(IY+%0)
043FF7 C5                  A  2599    	PUSH	BC
043FF8 CD 09 61 04         A  2600    	CALL	_strcpy
043FFC C1                  A  2601    	POP	BC
043FFD C1                  A  2602    	POP	BC
                           A  2603    ;  230	    tmp->address = address;
                           A  2604    .LINE 230
                           A  2605    
043FFE DD0709              A  2606    	LD	BC,(IX+%9)
044001 DD31FA              A  2607    	LD	IY,(IX+%FFFFFFFA)
044004 FD0F03              A  2608    	LD	(IY+%3),BC
                           A  2609    ;  231	
                           A  2610    ;  232	    index = hash(labelname, GLOBAL_LABE
                           A  2611    .LINE 232
                           A  2612    
044007 01002000            A  2613    	LD	BC,8192
04400B C5                  A  2614    	PUSH	BC
04400C DD0706              A  2615    	LD	BC,(IX+%6)
04400F C5                  A  2616    	PUSH	BC
044010 CD 25 2E 04         A  2617    	CALL	_hash
044014 C1                  A  2618    	POP	BC
044015 C1                  A  2619    	POP	BC
044016 DD2FEE              A  2620    	LD	(IX+%FFFFFFEE),HL
                           A  2621    ;  233	    for(i = 0; i < GLOBAL_LABEL_TABLE_S
                           A  2622    .LINE 233
                           A  2623    
044019 01000000            A  2624    	LD	BC,0
04401D DD0FFD              A  2625    	LD	(IX+%FFFFFFFD),BC
044020 18 46               A  2626    	JR	L_81
044022                     A  2627    L_79:
                           A  2628    ;  234	        try = (i + index) % GLOBAL_LABE
                           A  2629    .LINE 234
                           A  2630    
044022 DD07EE              A  2631    	LD	BC,(IX+%FFFFFFEE)
044025 DD27FD              A  2632    	LD	HL,(IX+%FFFFFFFD)
044028 09                  A  2633    	ADD	HL,BC
044029 01002000            A  2634    	LD	BC,8192
04402D CD 47 57 04         A  2635    	CALL	__irems
044031 DD2FF1              A  2636    	LD	(IX+%FFFFFFF1),HL
                           A  2637    ;  235	        if(globalLabelTable[try] == NUL
                           A  2638    .LINE 235
                           A  2639    
044034 E5C1                A  2640    	LD	BC,HL
044036 29                  A  2641    	ADD	HL,HL
044037 09                  A  2642    	ADD	HL,BC
044038 01 9B 98 06         A  2643    	LD	BC,_globalLabelTable
04403C 09                  A  2644    	ADD	HL,BC
04403D DD2FF4              A  2645    	LD	(IX+%FFFFFFF4),HL
044040 ED27                A  2646    	LD	HL,(HL)
044042 CD C5 5D 04         A  2647    	CALL	__icmpzero
044046 20 19               A  2648    	JR	NZ,L_80
                           A  2649    ;  236	            globalLabelTable[try] = tmp
                           A  2650    .LINE 236
                           A  2651    
044048 DD27F4              A  2652    	LD	HL,(IX+%FFFFFFF4)
04404B DD07FA              A  2653    	LD	BC,(IX+%FFFFFFFA)
04404E ED0F                A  2654    	LD	(HL),BC
                           A  2655    ;  237	            globalLabelCounter++;
                           A  2656    .LINE 237
                           A  2657    
044050 ED4B 9B F8 06       A  2658    	LD	BC,(_globalLabelCounter)
044055 03                  A  2659    	INC	BC
044056 21 9B F8 06         A  2660    	LD	HL,_globalLabelCounter
04405A 71                  A  2661    	LD	(HL),C
04405B 23                  A  2662    	INC	HL
04405C 70                  A  2663    	LD	(HL),B
                           A  2664    ;  238	            return true;
                           A  2665    .LINE 238
                           A  2666    
04405D 3E01                A  2667    	LD	A,%1
04405F 18 1A               A  2668    	JR	L_83
                           A  2669    ;  239	        } 
                           A  2670    ;  240	    }
044061                     A  2671    L_80:
                           A  2672    .LINE 240
                           A  2673    
044061 DD07FD              A  2674    	LD	BC,(IX+%FFFFFFFD)
044064 03                  A  2675    	INC	BC
044065 DD0FFD              A  2676    	LD	(IX+%FFFFFFFD),BC
044068                     A  2677    L_81:
044068 01002000            A  2678    	LD	BC,8192
04406C DD27FD              A  2679    	LD	HL,(IX+%FFFFFFFD)
04406F B7                  A  2680    	OR	A,A
044070 ED42                A  2681    	SBC	HL,BC
044072 CD 38 57 04         A  2682    	CALL	__setflag
044076 FA 22 40 04         A  2683    	JP	M,L_79
                           A  2684    ;  241	    return false;
                           A  2685    .LINE 241
                           A  2686    
04407A AF                  A  2687    	XOR	A,A
                           A  2688    ;  242	}
04407B                     A  2689    L_83:
                           A  2690    .LINE 242
                           A  2691    
04407B DDF9                A  2692    	LD	SP,IX
04407D DDE1                A  2693    	POP	IX
04407F C9                  A  2694    	RET	
                           A  2695    
                           A  2696    
                           A  2697    ;**************************** _insertGlobalLabe
                           A  2698    ;Name                         Addr/Register   S
                           A  2699    ;_globalLabelCounter                 STATIC    
                           A  2700    ;_globalLabelTable                   STATIC  24
                           A  2701    ;_hash                               IMPORT  --
                           A  2702    ;_strcpy                             IMPORT  --
                           A  2703    ;_globalLabelBuffer                  STATIC  13
                           A  2704    ;_globalLabelBufferIndex             STATIC    
                           A  2705    ;_strlen                             IMPORT  --
                           A  2706    ;index                                IX-18    
                           A  2707    ;try                                  IX-15    
                           A  2708    ;G_0                                  IX-12    
                           A  2709    ;len                                   IX-9    
                           A  2710    ;tmp                                   IX-6    
                           A  2711    ;i                                     IX-3    
                           A  2712    ;address                               IX+9    
                           A  2713    ;labelname                             IX+6    
                           A  2714    
                           A  2715    
                           A  2716    ; Stack Frame Size: 30 (bytes)
                           A  2717    ;       Spill Code: 0 (instruction)
                           A  2718    
                           A  2719    
                           A  2720    .ENDFUNC "insertGlobalLabel",242,"_insertGlobal
                           A  2721    ;  243	
                           A  2722    ;  244	void print_bufferspace(){
044080                     A  2723    _print_bufferspace:
                           A  2724    .DEFINE "_print_bufferspace"
                           A  2725    
                           A  2726    .VALUE _print_bufferspace
                           A  2727    
                           A  2728    .CLASS 2
                           A  2729    
                           A  2730    .TYPE 65
                           A  2731    
                           A  2732    .ENDEF
                           A  2733    
                           A  2734    .BEGFUNC "print_bufferspace",244,"_print_buffer
                           A  2735    
044080 DDE5                A  2736    	PUSH	IX
044082 DD210000 00         A  2737    	LD	IX,0
044087 DD39                A  2738    	ADD	IX,SP
                           A  2739    ;  245	    printf("%d bytes available in label
                           A  2740    .LINE 245
                           A  2741    
044089 01 D0 59 04         A  2742    	LD	BC,___print_uputch
04408D ED43 F0 7E 04       A  2743    	LD	(___print_xputch),BC
044092 ED4B 97 98 06       A  2744    	LD	BC,(_globalLabelBufferIndex)
044097 CD CA 59 04         A  2745    	CALL	__stoiu
04409B E5C1                A  2746    	LD	BC,HL
04409D 21000002            A  2747    	LD	HL,131072
0440A1 B7                  A  2748    	OR	A,A
0440A2 ED42                A  2749    	SBC	HL,BC
0440A4 E5C1                A  2750    	LD	BC,HL
0440A6 CD B0 60 04         A  2751    	CALL	__itol
0440AA C5D1                A  2752    	LD	DE,BC
0440AC 4F                  A  2753    	LD	C,A
0440AD 0600                A  2754    	LD	B,%0
0440AF C5                  A  2755    	PUSH	BC
0440B0 D5                  A  2756    	PUSH	DE
0440B1 CD 96 5A 04         A  2757    	CALL	__u_itoa
0440B5 C1                  A  2758    	POP	BC
0440B6 C1                  A  2759    	POP	BC
0440B7 01 3C 84 04         A  2760    	LD	BC,L__43
0440BB C5                  A  2761    	PUSH	BC
0440BC CD 1D 58 04         A  2762    	CALL	___print_sendstring
0440C0 C1                  A  2763    	POP	BC
                           A  2764    ;  246	}
                           A  2765    .LINE 246
                           A  2766    
0440C1 DDF9                A  2767    	LD	SP,IX
0440C3 DDE1                A  2768    	POP	IX
0440C5 C9                  A  2769    	RET	
                           A  2770    
                           A  2771    
                           A  2772    ;**************************** _print_bufferspac
                           A  2773    ;Name                         Addr/Register   S
                           A  2774    ;___print_sendstring                 IMPORT  --
                           A  2775    ;_globalLabelBufferIndex             STATIC    
                           A  2776    ;__u_itoa                            IMPORT  --
                           A  2777    ;___print_xputch                     IMPORT    
                           A  2778    ;___print_uputch                     IMPORT  --
                           A  2779    
                           A  2780    
                           A  2781    ; Stack Frame Size: 6 (bytes)
                           A  2782    ;       Spill Code: 0 (instruction)
                           A  2783    
                           A  2784    
                           A  2785    .ENDFUNC "print_bufferspace",246,"_print_buffer
                           A  2786    	SEGMENT STRSECT
04843C                     A  2787    L__43:
04843C 20627974 65732061   A  2788    	DB	" bytes available in label buffer"
048444 7661696C 61626C65 
04844C 20696E20 6C616265 
048454 6C206275 66666572 
04845C 0A00                A  2789    	DB	10,0
                           A  2790    	SEGMENT CODE
                           A  2791    ;  247	
                           A  2792    ;  248	label * findGlobalLabel(char *name){
0440C6                     A  2793    _findGlobalLabel:
                           A  2794    .DEFINE "_findGlobalLabel"
                           A  2795    
                           A  2796    .VALUE _findGlobalLabel
                           A  2797    
                           A  2798    .CLASS 2
                           A  2799    
                           A  2800    .TAG "NONAME0"
                           A  2801    
                           A  2802    .TYPE 328
                           A  2803    
                           A  2804    .ENDEF
                           A  2805    
                           A  2806    .BEGFUNC "findGlobalLabel",248,"_findGlobalLabe
                           A  2807    
                           A  2808    .LINE 248
                           A  2809    
                           A  2810    .DEFINE "name"
                           A  2811    
                           A  2812    .CLASS 65
                           A  2813    
                           A  2814    .VALUE 6
                           A  2815    
                           A  2816    .TYPE 34
                           A  2817    
                           A  2818    .ENDEF
                           A  2819    
                           A  2820    .DEFINE "i"
                           A  2821    
                           A  2822    .CLASS 65
                           A  2823    
                           A  2824    .VALUE -6
                           A  2825    
                           A  2826    .TYPE 4
                           A  2827    
                           A  2828    .ENDEF
                           A  2829    
                           A  2830    .DEFINE "try"
                           A  2831    
                           A  2832    .CLASS 65
                           A  2833    
                           A  2834    .VALUE -9
                           A  2835    
                           A  2836    .TYPE 4
                           A  2837    
                           A  2838    .ENDEF
                           A  2839    
                           A  2840    .DEFINE "index"
                           A  2841    
                           A  2842    .CLASS 65
                           A  2843    
                           A  2844    .VALUE -12
                           A  2845    
                           A  2846    .TYPE 4
                           A  2847    
                           A  2848    .ENDEF
                           A  2849    
0440C6 DDE5                A  2850    	PUSH	IX
0440C8 DD210000 00         A  2851    	LD	IX,0
0440CD DD39                A  2852    	ADD	IX,SP
0440CF ED22F4              A  2853    	LEA	HL,IX+%FFFFFFF4
0440D2 F9                  A  2854    	LD	SP,HL
                           A  2855    ;  249	    int index,i,try;
                           A  2856    ;  250	
                           A  2857    ;  251	    index = hash(name, GLOBAL_LABEL_TAB
                           A  2858    .LINE 251
                           A  2859    
0440D3 01002000            A  2860    	LD	BC,8192
0440D7 C5                  A  2861    	PUSH	BC
0440D8 DD0706              A  2862    	LD	BC,(IX+%6)
0440DB C5                  A  2863    	PUSH	BC
0440DC CD 25 2E 04         A  2864    	CALL	_hash
0440E0 C1                  A  2865    	POP	BC
0440E1 C1                  A  2866    	POP	BC
0440E2 DD2FF4              A  2867    	LD	(IX+%FFFFFFF4),HL
                           A  2868    ;  252	    for(i = 0; i < GLOBAL_LABEL_TABLE_S
                           A  2869    .LINE 252
                           A  2870    
0440E5 01000000            A  2871    	LD	BC,0
0440E9 DD0FFA              A  2872    	LD	(IX+%FFFFFFFA),BC
0440EC 18 5D               A  2873    	JR	L_92
0440EE                     A  2874    L_90:
                           A  2875    ;  253	        try = (index + i) % GLOBAL_LABE
                           A  2876    .LINE 253
                           A  2877    
0440EE DD07FA              A  2878    	LD	BC,(IX+%FFFFFFFA)
0440F1 DD27F4              A  2879    	LD	HL,(IX+%FFFFFFF4)
0440F4 09                  A  2880    	ADD	HL,BC
0440F5 01002000            A  2881    	LD	BC,8192
0440F9 CD 47 57 04         A  2882    	CALL	__irems
0440FD DD2FF7              A  2883    	LD	(IX+%FFFFFFF7),HL
                           A  2884    ;  254	        if(globalLabelTable[try] == NUL
                           A  2885    .LINE 254
                           A  2886    
044100 E5C1                A  2887    	LD	BC,HL
044102 29                  A  2888    	ADD	HL,HL
044103 09                  A  2889    	ADD	HL,BC
044104 01 9B 98 06         A  2890    	LD	BC,_globalLabelTable
044108 09                  A  2891    	ADD	HL,BC
044109 DD2FFD              A  2892    	LD	(IX+%FFFFFFFD),HL
04410C ED27                A  2893    	LD	HL,(HL)
04410E CD C5 5D 04         A  2894    	CALL	__icmpzero
044112 20 05               A  2895    	JR	NZ,L_89
                           A  2896    ;  255	            return NULL;
                           A  2897    .LINE 255
                           A  2898    
044114 B7                  A  2899    	OR	A,A
044115 ED62                A  2900    	SBC	HL,HL
044117 18 47               A  2901    	JR	L_94
                           A  2902    ;  256	        }
044119                     A  2903    L_89:
                           A  2904    .LINE 256
                           A  2905    
                           A  2906    ;  257	        if(globalLabelTable[try] != NUL
                           A  2907    .LINE 257
                           A  2908    
044119 DD27FD              A  2909    	LD	HL,(IX+%FFFFFFFD)
04411C ED27                A  2910    	LD	HL,(HL)
04411E CD C5 5D 04         A  2911    	CALL	__icmpzero
044122 28 20               A  2912    	JR	Z,L_91
                           A  2913    ;  258	            strcmp(globalLabelTable[try
                           A  2914    .LINE 258
                           A  2915    
044124 DD0706              A  2916    	LD	BC,(IX+%6)
044127 C5                  A  2917    	PUSH	BC
044128 DD27FD              A  2918    	LD	HL,(IX+%FFFFFFFD)
04412B ED31                A  2919    	LD	IY,(HL)
04412D FD0700              A  2920    	LD	BC,(IY+%0)
044130 C5                  A  2921    	PUSH	BC
044131 CD 92 59 04         A  2922    	CALL	_strcmp
044135 C1                  A  2923    	POP	BC
044136 C1                  A  2924    	POP	BC
044137 CD C5 5D 04         A  2925    	CALL	__icmpzero
04413B 20 07               A  2926    	JR	NZ,L_91
                           A  2927    ;  259	            return globalLabelTable[try
                           A  2928    .LINE 259
                           A  2929    
04413D DD27FD              A  2930    	LD	HL,(IX+%FFFFFFFD)
044140 ED27                A  2931    	LD	HL,(HL)
044142 18 1C               A  2932    	JR	L_94
                           A  2933    ;  260	        }
                           A  2934    ;  261	    }
044144                     A  2935    L_91:
                           A  2936    .LINE 261
                           A  2937    
044144 DD07FA              A  2938    	LD	BC,(IX+%FFFFFFFA)
044147 03                  A  2939    	INC	BC
044148 DD0FFA              A  2940    	LD	(IX+%FFFFFFFA),BC
04414B                     A  2941    L_92:
04414B 01002000            A  2942    	LD	BC,8192
04414F DD27FA              A  2943    	LD	HL,(IX+%FFFFFFFA)
044152 B7                  A  2944    	OR	A,A
044153 ED42                A  2945    	SBC	HL,BC
044155 CD 38 57 04         A  2946    	CALL	__setflag
044159 FA EE 40 04         A  2947    	JP	M,L_90
                           A  2948    ;  262	    return NULL;
                           A  2949    .LINE 262
                           A  2950    
04415D B7                  A  2951    	OR	A,A
04415E ED62                A  2952    	SBC	HL,HL
                           A  2953    ;  263	}
044160                     A  2954    L_94:
                           A  2955    .LINE 263
                           A  2956    
044160 DDF9                A  2957    	LD	SP,IX
044162 DDE1                A  2958    	POP	IX
044164 C9                  A  2959    	RET	
                           A  2960    
                           A  2961    
                           A  2962    ;**************************** _findGlobalLabel 
                           A  2963    ;Name                         Addr/Register   S
                           A  2964    ;_strcmp                             IMPORT  --
                           A  2965    ;_globalLabelTable                   STATIC  24
                           A  2966    ;_hash                               IMPORT  --
                           A  2967    ;index                                IX-12    
                           A  2968    ;try                                   IX-9    
                           A  2969    ;i                                     IX-6    
                           A  2970    ;G_1                                   IX-3    
                           A  2971    ;name                                  IX+6    
                           A  2972    
                           A  2973    
                           A  2974    ; Stack Frame Size: 21 (bytes)
                           A  2975    ;       Spill Code: 0 (instruction)
                           A  2976    
                           A  2977    
                           A  2978    .ENDFUNC "findGlobalLabel",263,"_findGlobalLabe
                           A  2979    ;  264	
                           A  2980    ;  265	label *findLabel(char *name) {
044165                     A  2981    _findLabel:
                           A  2982    .DEFINE "_findLabel"
                           A  2983    
                           A  2984    .VALUE _findLabel
                           A  2985    
                           A  2986    .CLASS 2
                           A  2987    
                           A  2988    .TAG "NONAME0"
                           A  2989    
                           A  2990    .TYPE 328
                           A  2991    
                           A  2992    .ENDEF
                           A  2993    
                           A  2994    .BEGFUNC "findLabel",265,"_findLabel"
                           A  2995    
                           A  2996    .LINE 265
                           A  2997    
                           A  2998    .DEFINE "name"
                           A  2999    
                           A  3000    .CLASS 65
                           A  3001    
                           A  3002    .VALUE 6
                           A  3003    
                           A  3004    .TYPE 34
                           A  3005    
                           A  3006    .ENDEF
                           A  3007    
044165 DDE5                A  3008    	PUSH	IX
044167 DD210000 00         A  3009    	LD	IX,0
04416C DD39                A  3010    	ADD	IX,SP
04416E C5                  A  3011    	PUSH	BC
04416F C5                  A  3012    	PUSH	BC
044170 C5                  A  3013    	PUSH	BC
                           A  3014    ;  266	    if(name[0] == '@') {
                           A  3015    .LINE 266
                           A  3016    
044171 DD2706              A  3017    	LD	HL,(IX+%6)
044174 7E                  A  3018    	LD	A,(HL)
044175 47                  A  3019    	LD	B,A
044176 17ED62              A  3020    	SEXT	HL
044179 68                  A  3021    	LD	L,B
04417A 01400000            A  3022    	LD	BC,64
04417E B7                  A  3023    	OR	A,A
04417F ED42                A  3024    	SBC	HL,BC
044181 C2 36 42 04         A  3025    	JR	NZ,L_108
                           A  3026    ;  267	        
                           A  3027    ;  268	        if(((name[1] == 'f') || (name[1
                           A  3028    .LINE 268
                           A  3029    
044185 DD0706              A  3030    	LD	BC,(IX+%6)
044188 03                  A  3031    	INC	BC
044189 DD0FFD              A  3032    	LD	(IX+%FFFFFFFD),BC
04418C DD0FFA              A  3033    	LD	(IX+%FFFFFFFA),BC
04418F C5E1                A  3034    	LD	HL,BC
044191 7E                  A  3035    	LD	A,(HL)
044192 47                  A  3036    	LD	B,A
044193 17ED62              A  3037    	SEXT	HL
044196 68                  A  3038    	LD	L,B
044197 01660000            A  3039    	LD	BC,102
04419B B7                  A  3040    	OR	A,A
04419C ED42                A  3041    	SBC	HL,BC
04419E 28 18               A  3042    	JR	Z,L_96
0441A0 DD07FD              A  3043    	LD	BC,(IX+%FFFFFFFD)
0441A3 DD0FFA              A  3044    	LD	(IX+%FFFFFFFA),BC
0441A6 DD27FD              A  3045    	LD	HL,(IX+%FFFFFFFD)
0441A9 7E                  A  3046    	LD	A,(HL)
0441AA 47                  A  3047    	LD	B,A
0441AB 17ED62              A  3048    	SEXT	HL
0441AE 68                  A  3049    	LD	L,B
0441AF 016E0000            A  3050    	LD	BC,110
0441B3 B7                  A  3051    	OR	A,A
0441B4 ED42                A  3052    	SBC	HL,BC
0441B6 20 25               A  3053    	JR	NZ,L_105
0441B8                     A  3054    L_96:
0441B8 DD3106              A  3055    	LD	IY,(IX+%6)
0441BB FD7E02              A  3056    	LD	A,(IY+%2)
0441BE B7                  A  3057    	OR	A,A
0441BF 20 1C               A  3058    	JR	NZ,L_105
                           A  3059    ;  269	            if(an_next.defined) {
                           A  3060    .LINE 269
                           A  3061    
0441C1 3A 8D 88 04         A  3062    	LD	A,(_an_next)
0441C5 B7                  A  3063    	OR	A,A
0441C6 28 10               A  3064    	JR	Z,L_98
                           A  3065    ;  270	                an_return.address = an_
                           A  3066    .LINE 270
                           A  3067    
0441C8 ED4B 8E 88 04       A  3068    	LD	BC,(_an_next+1)
0441CD ED43 94 88 04       A  3069    	LD	(_an_return+3),BC
                           A  3070    ;  271	                return &an_return;
                           A  3071    .LINE 271
                           A  3072    
0441D2 21 91 88 04         A  3073    	LD	HL,_an_return
0441D6 18 67               A  3074    	JR	L_109
                           A  3075    ;  272	            }
                           A  3076    ;  273	            else return NULL;
0441D8                     A  3077    L_98:
                           A  3078    .LINE 273
                           A  3079    
0441D8 B7                  A  3080    	OR	A,A
0441D9 ED62                A  3081    	SBC	HL,HL
0441DB 18 62               A  3082    	JR	L_109
                           A  3083    ;  274	        }
0441DD                     A  3084    L_105:
                           A  3085    .LINE 274
                           A  3086    
                           A  3087    ;  275	        if(((name[1] == 'b') || (name[1
                           A  3088    .LINE 275
                           A  3089    
0441DD DD07FA              A  3090    	LD	BC,(IX+%FFFFFFFA)
0441E0 DD0FF7              A  3091    	LD	(IX+%FFFFFFF7),BC
0441E3 C5E1                A  3092    	LD	HL,BC
0441E5 7E                  A  3093    	LD	A,(HL)
0441E6 47                  A  3094    	LD	B,A
0441E7 17ED62              A  3095    	SEXT	HL
0441EA 68                  A  3096    	LD	L,B
0441EB 01620000            A  3097    	LD	BC,98
0441EF B7                  A  3098    	OR	A,A
0441F0 ED42                A  3099    	SBC	HL,BC
0441F2 28 12               A  3100    	JR	Z,L_101
0441F4 DD27F7              A  3101    	LD	HL,(IX+%FFFFFFF7)
0441F7 7E                  A  3102    	LD	A,(HL)
0441F8 47                  A  3103    	LD	B,A
0441F9 17ED62              A  3104    	SEXT	HL
0441FC 68                  A  3105    	LD	L,B
0441FD 01700000            A  3106    	LD	BC,112
044201 B7                  A  3107    	OR	A,A
044202 ED42                A  3108    	SBC	HL,BC
044204 20 25               A  3109    	JR	NZ,L_106
044206                     A  3110    L_101:
044206 DD3106              A  3111    	LD	IY,(IX+%6)
044209 FD7E02              A  3112    	LD	A,(IY+%2)
04420C B7                  A  3113    	OR	A,A
04420D 20 1C               A  3114    	JR	NZ,L_106
                           A  3115    ;  276	            if(an_prev.defined) {
                           A  3116    .LINE 276
                           A  3117    
04420F 3A 89 88 04         A  3118    	LD	A,(_an_prev)
044213 B7                  A  3119    	OR	A,A
044214 28 10               A  3120    	JR	Z,L_103
                           A  3121    ;  277	                an_return.address = an_
                           A  3122    .LINE 277
                           A  3123    
044216 ED4B 8A 88 04       A  3124    	LD	BC,(_an_prev+1)
04421B ED43 94 88 04       A  3125    	LD	(_an_return+3),BC
                           A  3126    ;  278	                return &an_return;
                           A  3127    .LINE 278
                           A  3128    
044220 21 91 88 04         A  3129    	LD	HL,_an_return
044224 18 19               A  3130    	JR	L_109
                           A  3131    ;  279	            }
                           A  3132    ;  280	            else return NULL;
044226                     A  3133    L_103:
                           A  3134    .LINE 280
                           A  3135    
044226 B7                  A  3136    	OR	A,A
044227 ED62                A  3137    	SBC	HL,HL
044229 18 14               A  3138    	JR	L_109
                           A  3139    ;  281	        }
04422B                     A  3140    L_106:
                           A  3141    .LINE 281
                           A  3142    
                           A  3143    ;  282	        
                           A  3144    ;  283	        return findLocalLabel(name);
                           A  3145    .LINE 283
                           A  3146    
04422B DD0706              A  3147    	LD	BC,(IX+%6)
04422E C5                  A  3148    	PUSH	BC
04422F CD 90 3A 04         A  3149    	CALL	_findLocalLabel
044233 C1                  A  3150    	POP	BC
044234 18 09               A  3151    	JR	L_109
                           A  3152    ;  284	    }
                           A  3153    ;  285	    else return findGlobalLabel(name);
044236                     A  3154    L_108:
                           A  3155    .LINE 285
                           A  3156    
044236 DD0706              A  3157    	LD	BC,(IX+%6)
044239 C5                  A  3158    	PUSH	BC
04423A CD C6 40 04         A  3159    	CALL	_findGlobalLabel
04423E C1                  A  3160    	POP	BC
04423F                     A  3161    L_109:
                           A  3162    .LINE 286
                           A  3163    
04423F DDF9                A  3164    	LD	SP,IX
044241 DDE1                A  3165    	POP	IX
044243 C9                  A  3166    	RET	
                           A  3167    
                           A  3168    
                           A  3169    ;**************************** _findLabel ******
                           A  3170    ;Name                         Addr/Register   S
                           A  3171    ;_findGlobalLabel                    IMPORT  --
                           A  3172    ;_an_prev                            STATIC    
                           A  3173    ;_an_return                          STATIC    
                           A  3174    ;_an_next                            STATIC    
                           A  3175    ;G_6                                   IX-9    
                           A  3176    ;G_5                                   IX-6    
                           A  3177    ;G_4                                   IX-3    
                           A  3178    ;name                                  IX+6    
                           A  3179    
                           A  3180    
                           A  3181    ; Stack Frame Size: 18 (bytes)
                           A  3182    ;       Spill Code: 0 (instruction)
                           A  3183    
                           A  3184    
                           A  3185    .ENDFUNC "findLabel",286,"_findLabel"
                           A  3186    	XREF _message:ROM
                           A  3187    	XREF _agon_fread:ROM
                           A  3188    	XREF _agon_fwrite:ROM
                           A  3189    	XREF _error:ROM
                           A  3190    	XREF _hash:ROM
                           A  3191    	XREF _strlen:ROM
                           A  3192    	XREF _strcmp:ROM
                           A  3193    	XREF _strcpy:ROM
                           A  3194    	XREF __u_uitoa:ROM
                           A  3195    	XREF __u_itoa:ROM
                           A  3196    	XREF ___print_sendstring:ROM
                           A  3197    	XREF ___print_xputch:ROM
                           A  3198    	XREF ___print_uputch:ROM
                           A  3199    	XREF ___print_fmt:ROM
                           A  3200    	XREF __irems:ROM
                           A  3201    	XREF __stoiu:ROM
                           A  3202    	XREF __itol:ROM
                           A  3203    	XREF __setflag:ROM
                           A  3204    	XREF __scmpzero:ROM
                           A  3205    	XREF __icmpzero:ROM
                           A  3206    	XREF __ishrs_b:ROM
                           A  3207    	XDEF _findLabel
                           A  3208    	XDEF _findGlobalLabel
                           A  3209    	XDEF _print_bufferspace
                           A  3210    	XDEF _insertGlobalLabel
                           A  3211    	XDEF _insertLocalLabel
                           A  3212    	XDEF _readAnonymousLabel
                           A  3213    	XDEF _writeAnonymousLabel
                           A  3214    	XDEF _readLocalLabels
                           A  3215    	XDEF _writeLocalLabels
                           A  3216    	XDEF _findLocalLabel
                           A  3217    	XDEF _findLocalLabelIndex
                           A  3218    	XDEF _clearLocalLabels
                           A  3219    	XDEF _initLocalLabelTable
                           A  3220    	XDEF _initAnonymousLabelTable
                           A  3221    	XDEF _initGlobalLabelTable
                           A  3222    	XDEF _getLocalLabelCount
                           A  3223    	XDEF _getGlobalLabelCount
                           A  3224    	XDEF _printLocalLabelTable
                           A  3225    	XDEF _localLabelCounter
                           A  3226    	XDEF _localLabelTable
                           A  3227    	XDEF _globalLabelCounter
                           A  3228    	XDEF _globalLabelTable
                           A  3229    	XDEF _localLabelBufferIndex
                           A  3230    	XDEF _globalLabelBufferIndex
                           A  3231    	XDEF _localLabelBuffer
                           A  3232    	XDEF _globalLabelBuffer
                           A  3233    	XDEF _an_return
                           A  3234    	XDEF _an_next
                           A  3235    	XDEF _an_prev
                           A  3236    	END


Errors: 0
Warnings: 0
Lines Assembled: 3237
